<!DOCTYPE html>
<!-- saved from url=(0088)https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-showing_users -->
<html id="custDomain" class="gr__learnenough_com wf-proximanova-n4-active wf-proximanova-n7-active wf-proximanova-n1-active wf-proximanova-i4-active wf-proximanova-i7-active wf-lust-n4-active wf-futurapt-n3-active wf-lust-i4-active wf-active fontawesome-i2svg-active fontawesome-i2svg-complete"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- Analytics Here -->
<!-- Anti-flicker snippet (recommended)  -->
<style type="text/css">svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top left;transform-origin:top left}.fa-lg{font-size:1.3333333333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:solid .08em #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-webkit-transform:scale(1,-1);transform:scale(1,-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1,-1);transform:scale(-1,-1)}:root .fa-flip-both,:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{-webkit-filter:none;filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2.5em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1.25em}.svg-inline--fa.fa-stack-2x{height:2em;width:2.5em}.fa-inverse{color:#fff}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}</style><style>.async-hide { opacity: 0 !important} </style><style id="dark-reader-style" type="text/css">@media screen {

/* Leading rule */
html {
  -webkit-filter: invert(100%) hue-rotate(180deg) brightness(110%) contrast(90%) grayscale(20%) sepia(10%) !important;
  filter: invert(100%) hue-rotate(180deg) brightness(110%) contrast(90%) grayscale(20%) sepia(10%) !important;
}

/* Reverse rule */
img,
video,
:not(object):not(body)>embed,
object,
svg image,
[style*="background:url"],
[style*="background-image:url"],
[style*="background: url"],
[style*="background-image: url"],
[background],
twitterwidget {
  -webkit-filter: invert(100%) hue-rotate(180deg) !important;
  filter: invert(100%) hue-rotate(180deg) !important;
}
[style*="background:url"] *,
[style*="background-image:url"] *,
[style*="background: url"] *,
[style*="background-image: url"] *,
input,
[background] *,
img[src^="https://s0.wp.com/latex.php"],
twitterwidget .NaturalImage-image {
  -webkit-filter: none !important;
  filter: none !important;
}
.compatibility-with-darkreader-below-4-3-3 {
  background: white !important;
}

/* Text contrast */
html {
  text-shadow: 0 0 0 !important;
}

/* Full screen */
:-webkit-full-screen, :-webkit-full-screen * {
  -webkit-filter: none !important;
  filter: none !important;
}
:-moz-full-screen, :-moz-full-screen * {
  -webkit-filter: none !important;
  filter: none !important;
}
:fullscreen, :fullscreen * {
  -webkit-filter: none !important;
  filter: none !important;
}

/* Page background */
html {
  background: rgb(13,13,12) !important;
}

/* Custom rules */
.compatibility-with-darkreader-below-4-3-3 {
    background: white !important;
}

}</style>
<script src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/nr-1130.min.js.下載"></script><script async="" src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/fbevents.js.下載"></script><script type="text/javascript" async="" src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/54eea5d20a23b37d87000040.js.下載"></script><script>(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;
h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
(a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
})(window,document.documentElement,'async-hide','dataLayer',4000,
{'GTM-M9B6M8R':true});</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/js"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  
  gtag('config', 'UA-46858978-2', { 'optimize_id': 'GTM-M9B6M8R'});
  gtag('config', 'AW-951733091');
</script>
<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.perfectaudience.com/serve/54eea5d20a23b37d87000040.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>


<script type="text/javascript" src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/6713.js.下載" async="async"></script>
<!-- Facebook Pixel Code -->
<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '120259081996654', {
    em: '',
  });
  fbq('track', 'PageView');
  fbq('track', 'ViewContent');
</script>
<noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=120259081996654&ev=PageView&noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->



<script>window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"1310fd97f1","applicationID":"71497409","transactionName":"IVZWR0tbWF4BFxhWVw1SSxxYREReHTpUW1wHZldBZkZRUwA6VkZMC1pUVg==","queueTime":7,"applicationTime":533,"agent":""}</script>
<script>window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o||n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,n,t){function r(){}function o(e,n,t){return function(){return i(e,[c.now()].concat(u(arguments)),n?null:this,t),n?void 0:this}}var i=e("handle"),a=e(3),u=e(4),f=e("ee").get("tracer"),c=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,n){s[n]=o(d+n,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,o="function"==typeof n;return i(l+"tracer",[c.now(),e,t],r),function(){if(f.emit((o?"":"no-")+"fn-start",[c.now(),r,o],t),o)try{return n.apply(this,arguments)}catch(e){throw f.emit("fn-err",[arguments,this,e],t),e}finally{f.emit("fn-end",[c.now()],t)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=o(l+n)}),newrelic.noticeError=function(e,n){"string"==typeof e&&(e=new Error(e)),i("err",[e,c.now(),!1,n])}},{}],2:[function(e,n,t){function r(e,n){if(!o)return!1;if(e!==o)return!1;if(!n)return!0;if(!i)return!1;for(var t=i.split("."),r=n.split("."),a=0;a<r.length;a++)if(r[a]!==t[a])return!1;return!0}var o=null,i=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var u=navigator.userAgent,f=u.match(a);f&&u.indexOf("Chrome")===-1&&u.indexOf("Chromium")===-1&&(o="Safari",i=f[1])}n.exports={agent:o,version:i,match:r}},{}],3:[function(e,n,t){function r(e,n){var t=[],r="",i=0;for(r in e)o.call(e,r)&&(t[i]=n(r,e[r]),i+=1);return t}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],4:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(o<0?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=r},{}],5:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function o(e){function n(e){return e&&e instanceof r?e:e?f(e,u,i):i()}function t(t,r,o,i){if(!d.aborted||i){e&&e(t,r,o);for(var a=n(o),u=v(t),f=u.length,c=0;c<f;c++)u[c].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function l(e,n){h[e]=v(e).concat(n)}function m(e,n){var t=h[e];if(t)for(var r=0;r<t.length;r++)t[r]===n&&t.splice(r,1)}function v(e){return h[e]||[]}function g(e){return p[e]=p[e]||o(t)}function w(e,n){c(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var h={},y={},b={on:l,addEventListener:l,removeEventListener:m,emit:t,get:g,listeners:v,context:n,buffer:w,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",f=e("gos"),c=e(3),s={},p={},d=n.exports=o();d.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(o.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){o.buffer([e],r),o.emit(e,n,t)}var o=e("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!E++){var e=x.info=NREUM.info,n=l.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();c(y,function(n,t){e[n]||(e[n]=t)}),f("mark",["onload",a()+x.offset],null,"api");var t=l.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function o(){"complete"===l.readyState&&i()}function i(){f("mark",["domContent",a()+x.offset],null,"api")}function a(){return O.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-x.offset}var u=(new Date).getTime(),f=e("handle"),c=e(3),s=e("ee"),p=e(2),d=window,l=d.document,m="addEventListener",v="attachEvent",g=d.XMLHttpRequest,w=g&&g.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:g,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var h=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1130.min.js"},b=g&&w&&w[m]&&!/CriOS/.test(navigator.userAgent),x=n.exports={offset:u,now:a,origin:h,features:{},xhrWrappable:b,userAgent:p};e(1),l[m]?(l[m]("DOMContentLoaded",i,!1),d[m]("load",r,!1)):(l[v]("onreadystatechange",o),d[v]("onload",r)),f("mark",["firstbyte",u],null,"api");var E=0,O=e(5)},{}]},{},["loader"]);</script>
<title>Ruby on Rails Tutorial (Rails 5) |  Learn Enough to Be Dangerous</title>
<script src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/nbl5sqs.js.下載"></script>
<style type="text/css">.tk-proxima-nova{font-family:"proxima-nova",sans-serif;}.tk-futura-pt{font-family:"futura-pt",sans-serif;}.tk-lust{font-family:"lust",sans-serif;}</style><style type="text/css">@font-face{font-family:proxima-nova;src:url(https://use.typekit.net/af/71f83c/00000000000000003b9b093b/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3) format("woff2"),url(https://use.typekit.net/af/71f83c/00000000000000003b9b093b/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3) format("woff"),url(https://use.typekit.net/af/71f83c/00000000000000003b9b093b/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3) format("opentype");font-weight:700;font-style:normal;}@font-face{font-family:proxima-nova;src:url(https://use.typekit.net/af/86b539/00000000000000003b9b093a/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i7&v=3) format("woff2"),url(https://use.typekit.net/af/86b539/00000000000000003b9b093a/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i7&v=3) format("woff"),url(https://use.typekit.net/af/86b539/00000000000000003b9b093a/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i7&v=3) format("opentype");font-weight:700;font-style:italic;}@font-face{font-family:proxima-nova;src:url(https://use.typekit.net/af/ed0e78/00000000000000003b9b0931/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n1&v=3) format("woff2"),url(https://use.typekit.net/af/ed0e78/00000000000000003b9b0931/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n1&v=3) format("woff"),url(https://use.typekit.net/af/ed0e78/00000000000000003b9b0931/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n1&v=3) format("opentype");font-weight:100;font-style:normal;}@font-face{font-family:proxima-nova;src:url(https://use.typekit.net/af/4838bd/00000000000000003b9b0934/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3) format("woff2"),url(https://use.typekit.net/af/4838bd/00000000000000003b9b0934/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3) format("woff"),url(https://use.typekit.net/af/4838bd/00000000000000003b9b0934/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3) format("opentype");font-weight:400;font-style:normal;}@font-face{font-family:proxima-nova;src:url(https://use.typekit.net/af/6aec08/00000000000000003b9b0935/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3) format("woff2"),url(https://use.typekit.net/af/6aec08/00000000000000003b9b0935/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3) format("woff"),url(https://use.typekit.net/af/6aec08/00000000000000003b9b0935/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3) format("opentype");font-weight:400;font-style:italic;}@font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/ae4f6c/000000000000000000010096/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3) format("woff2"),url(https://use.typekit.net/af/ae4f6c/000000000000000000010096/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3) format("woff"),url(https://use.typekit.net/af/ae4f6c/000000000000000000010096/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3) format("opentype");font-weight:300;font-style:normal;}@font-face{font-family:lust;src:url(https://use.typekit.net/af/c46a9c/000000000000000000014313/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3) format("woff2"),url(https://use.typekit.net/af/c46a9c/000000000000000000014313/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3) format("woff"),url(https://use.typekit.net/af/c46a9c/000000000000000000014313/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3) format("opentype");font-weight:400;font-style:italic;}@font-face{font-family:lust;src:url(https://use.typekit.net/af/6a323f/000000000000000000014314/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3) format("woff2"),url(https://use.typekit.net/af/6a323f/000000000000000000014314/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3) format("woff"),url(https://use.typekit.net/af/6a323f/000000000000000000014314/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3) format("opentype");font-weight:400;font-style:normal;}</style><script>
try{Typekit.load();}catch(e){}
</script>
<link href="https://www.learnenough.com/favicon-le.png" rel="icon">
<link href="https://www.learnenough.com/le/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed">
<link rel="stylesheet" media="screen" href="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/novo_le-939c905271655488fbf479733ef8930d6d67911a46b534f2177ddbe65154515c.css">

<meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="o3A6VbyzMQ/vkEwnyq4hubT/nXZuUvucCB6qARkbZpABChyIexWCHEKmPMvzbGDUSH93Ac79CsHJeQ2XGXGQXA==">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="https://www.softcover.io/books/28fdb94f/ruby_on_rails_tutorial_4th_edition" property="og:url">
<meta content="Ruby on Rails Tutorial (Rails 5)" property="og:title">
<meta content="Newly updated for Rails 5, the Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 14 individual lessons, one for each chapter of the Ruby on Rails Tutorial book." property="og:description">
<meta content="Softcover.io" property="og:site_name">
<meta content="https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_4th_edition/images/cover-web.png" property="og:image">
<meta content="https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_4th_edition/images/cover-web.png" property="og:image:secure_url">
<meta content="image/png" property="og:image:type">
<meta content="500" property="og:image:width">
<meta content="500" property="og:image:height">
<meta content="216" property="book_id">
<link href="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/video-js.css" rel="stylesheet">
<script>
  window.Config = {
    env: "production",
    bucket: "softcover",
    previewBucket: "softcover-cloud",
    userId: false
  }
</script>
<script src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/jquery-2.0.3.min.js.下載" type="text/javascript"></script>
<script src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/jquery.formalize.min.js.下載" type="text/javascript"></script>
<script src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/underscore-min.js.下載" type="text/javascript"></script>
<script src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/hammer.min.js.下載" type="text/javascript"></script>
<script src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/saved_resource" type="text/javascript"></script>
<script src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/jsapi" type="text/javascript"></script>
<script src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/application-0263a9199ed0b5f0ddff0be26000263dbde99f3b744e7dfbedeb81048c6f7627.js.下載"></script>

<link href="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/jquery.qtip.min.css" rel="stylesheet">
<script src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/jquery.qtip.min.js.下載" type="text/javascript"></script>
<meta content="on" name="twitter:widgets:csp">
<meta content="n4FYakgLVe1smRPU7gMdoXLgAUHVQDHevdSPlKGqLO4" name="google-site-verification">
<script async="true" id="xo-pptm" src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/pptm.js.下載"></script><script type="text/javascript" src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/jquery.min.js.下載"></script><script id="mathJaxJS" type="text/javascript" src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/MathJax.js.下載"></script><style data-styled-components=""></style><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body class="course side-menu-opened" data-gr-c-s-loaded="true" style=""><div id="MathJax_Message" style="display: none;"></div>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WG4J29S"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div class="container">
<div class="le_sidemenu checkout_sidemenu">
<div class="checkout-close">
<a onclick="$(&#39;.le_sidemenu&#39;).removeClass(&#39;open&#39;);$(&#39;.le_sidemenu-bg&#39;).removeClass(&#39;open&#39;);" href="javascript://"><svg class="svg-inline--fa fa-times fa-w-11" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" data-fa-i2svg=""><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg><!-- <i class="fas fa-times"></i> -->
</a></div>
<div class="page-form">
<div id="j_cartForm"><form id="j_checkoutForm" action="https://www.learnenough.com/cart/complete" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="authenticity_token" value="o3A6VbyzMQ/vkEwnyq4hubT/nXZuUvucCB6qARkbZpABChyIexWCHEKmPMvzbGDUSH93Ac79CsHJeQ2XGXGQXA==">
<h5 class="header-with-link">
Create Account
<span>
(or
<a class="fancylink_stand-bg" href="https://www.learnenough.com/login?after=%2Fruby-on-rails-4th-edition-tutorial%2Fsign_up%23cart-checkout">log in</a>
)
</span>
</h5>
<div>
<label for="cart_new_user_email">Email</label>
<input type="email" name="cart[new_user_email]" id="cart_new_user_email" required="required" style="background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAfBJREFUWAntVk1OwkAUZkoDKza4Utm61iP0AqyIDXahN2BjwiHYGU+gizap4QDuegWN7lyCbMSlCQjU7yO0TOlAi6GwgJc0fT/fzPfmzet0crmD7HsFBAvQbrcrw+Gw5fu+AfOYvgylJ4TwCoVCs1ardYTruqfj8fgV5OUMSVVT93VdP9dAzpVvm5wJHZFbg2LQ2pEYOlZ/oiDvwNcsFoseY4PBwMCrhaeCJyKWZU37KOJcYdi27QdhcuuBIb073BvTNL8ln4NeeR6NRi/wxZKQcGurQs5oNhqLshzVTMBewW/LMU3TTNlO0ieTiStjYhUIyi6DAp0xbEdgTt+LE0aCKQw24U4llsCs4ZRJrYopB6RwqnpA1YQ5NGFZ1YQ41Z5S8IQQdP5laEBRJcD4Vj5DEsW2gE6s6g3d/YP/g+BDnT7GNi2qCjTwGd6riBzHaaCEd3Js01vwCPIbmWBRx1nwAN/1ov+/drgFWIlfKpVukyYihtgkXNp4mABK+1GtVr+SBhJDbBIubVw+Cd/TDgKO2DPiN3YUo6y/nDCNEIsqTKH1en2tcwA9FKEItyDi3aIh8Gl1sRrVnSDzNFDJT1bAy5xpOYGn5fP5JuL95ZjMIn1ya7j5dPGfv0A5eAnpZUY3n5jXcoec5J67D9q+VuAPM47D3XaSeL4AAAAASUVORK5CYII=&quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%;">
</div>
<div>
<label for="cart_new_user_username">Public Username</label>
<input type="text" name="cart[new_user_username]" id="cart_new_user_username" required="required">
</div>
<div>
<label for="cart_new_user_password">Password</label>
<input type="password" name="cart[new_user_password]" id="cart_new_user_password" required="required" style="background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABKRJREFUWAnNl0tsVGUUxzvTTlslZUaCloZHY6BRFkp9sDBuqgINpaBp02dIDImwKDG6ICQ8jBYlhg0rxUBYEALTpulMgBlqOqHRDSikJkZdGG0CRqAGUuwDovQ1/s7NPTffnTu3zMxGvuT2vP7n8Z3vu+dOi4r+5xUoJH8sFquamZmpTqfTVeIfCARGQ6HQH83NzaP5xsu5gL6+vuVzc3NdJN1Kkhd8Ev1MMYni4uJjra2tt3wwLvUjCxgYGFg8Pj7+MV5dPOUub3/hX0zHIpFId0NDw6Q/jO4tZOzv76+Znp6+AOb5TBw7/YduWC2Hr4J/IhOD/GswGHy7vb39tyw2S+VbAC1/ZXZ29hKoiOE8RrIvaPE5WvyjoS8CX8sRvYPufYpZYtjGS0pKNoD/wdA5bNYCCLaMYMMEWq5IEn8ZDof3P6ql9pF9jp8cma6bFLGeIv5ShdISZUzKzqPIVnISp3l20caTJsaPtwvc3dPTIx06ziZkkyvY0FnoW5l+ng7guAWnpAI5w4MkP6yy0GQy+dTU1JToGm19sqKi4kBjY+PftmwRYn1ErEOq4+i2tLW1DagsNGgKNv+p6tj595nJxUbyOIF38AwipoSfnJyMqZ9SfD8jxlWV5+fnu5VX6iqgt7d3NcFeUiN0n8FbLEOoGkwdgY90dnbu7OjoeE94jG9wd1aZePRp5AOqw+9VMM+qLNRVABXKkLEWzn8S/FtbdAhnuVQE7LdVafBPq04pMYawO0OJ+6XHZkFcBQA0J1xKgyhlB0EChEWGX8RulsgjvOjEBu+5V+icWOSoFawuVwEordluG28oSCmXSs55SGSCHiXhmDzC25ghMHGbdwhJr6sAdpnyQl0FYIyoEX5CeYOuNHg/NhvGiUUxVgfV2VUAxjtqgPecp9oKoE4sNnbX9HcVgMH8nD5nAoWnKM/5ZmKyySRdq3pCmDncR4DxOwVC64eHh0OGLOcur1Vey46xUZ3IcVl5oa4OlJaWXgQwJwZyhUdGRjqE14VtSnk/mokhxnawiwUvsZmsX5u+rgKamprGMDoA5sKhRCLxpDowSpsJ8vpCj2AUPzg4uIiNfKIyNMkH6Z4hF3k+RgTYz6vVAEiKq2bsniZIC0nTtvMVMwBzoBT9tKkTHp8Ak1V8dTrOE+NgJs7VATESTH5WnVAgfHUqlXK6oHpJEI1G9zEZH/Du16leqHyS0UXBNKmeOMf5NvyislJPB8RAFz4g8IuwofLy8k319fUP1EEouw7L7mC3kUTO1nn3sb02MTFxFpsz87FfJuaH4pu5fF+reDz+DEfxkI44Q0ScSbyOpDGe1RqMBN08o+ha0L0JdeKi/6msrGwj98uZMeon1AGaSj+elr9LwK9IkO33n8cN7Hl2vp1N3PcYbUXOBbDz9bwV1/wCmXoS3+B128OPD/l2LLg8l9APXVlZKZfzfDY7ehlQv0PPQDez6zW5JJdYOXdAwHK2dGIv7GH4YtHJIvEOvvunLCHPPzl3QOLKTkl0hPbKaDUvlTU988xtwfMqQBPQ3m/4mf0yBVlDCSr/CRW0CipAMnGzb9XU1NSRvIX7kSgo++Pg9B8wltxxbHKPZgAAAABJRU5ErkJggg==&quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%;">
</div>
<div>
<label for="cart_new_user_password_confirmation">Password Confirmation</label>
<input type="password" name="cart[new_user_password_confirmation]" id="cart_new_user_password_confirmation" required="required" style="background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABKRJREFUWAnNl0tsVGUUxzvTTlslZUaCloZHY6BRFkp9sDBuqgINpaBp02dIDImwKDG6ICQ8jBYlhg0rxUBYEALTpulMgBlqOqHRDSikJkZdGG0CRqAGUuwDovQ1/s7NPTffnTu3zMxGvuT2vP7n8Z3vu+dOi4r+5xUoJH8sFquamZmpTqfTVeIfCARGQ6HQH83NzaP5xsu5gL6+vuVzc3NdJN1Kkhd8Ev1MMYni4uJjra2tt3wwLvUjCxgYGFg8Pj7+MV5dPOUub3/hX0zHIpFId0NDw6Q/jO4tZOzv76+Znp6+AOb5TBw7/YduWC2Hr4J/IhOD/GswGHy7vb39tyw2S+VbAC1/ZXZ29hKoiOE8RrIvaPE5WvyjoS8CX8sRvYPufYpZYtjGS0pKNoD/wdA5bNYCCLaMYMMEWq5IEn8ZDof3P6ql9pF9jp8cma6bFLGeIv5ShdISZUzKzqPIVnISp3l20caTJsaPtwvc3dPTIx06ziZkkyvY0FnoW5l+ng7guAWnpAI5w4MkP6yy0GQy+dTU1JToGm19sqKi4kBjY+PftmwRYn1ErEOq4+i2tLW1DagsNGgKNv+p6tj595nJxUbyOIF38AwipoSfnJyMqZ9SfD8jxlWV5+fnu5VX6iqgt7d3NcFeUiN0n8FbLEOoGkwdgY90dnbu7OjoeE94jG9wd1aZePRp5AOqw+9VMM+qLNRVABXKkLEWzn8S/FtbdAhnuVQE7LdVafBPq04pMYawO0OJ+6XHZkFcBQA0J1xKgyhlB0EChEWGX8RulsgjvOjEBu+5V+icWOSoFawuVwEordluG28oSCmXSs55SGSCHiXhmDzC25ghMHGbdwhJr6sAdpnyQl0FYIyoEX5CeYOuNHg/NhvGiUUxVgfV2VUAxjtqgPecp9oKoE4sNnbX9HcVgMH8nD5nAoWnKM/5ZmKyySRdq3pCmDncR4DxOwVC64eHh0OGLOcur1Vey46xUZ3IcVl5oa4OlJaWXgQwJwZyhUdGRjqE14VtSnk/mokhxnawiwUvsZmsX5u+rgKamprGMDoA5sKhRCLxpDowSpsJ8vpCj2AUPzg4uIiNfKIyNMkH6Z4hF3k+RgTYz6vVAEiKq2bsniZIC0nTtvMVMwBzoBT9tKkTHp8Ak1V8dTrOE+NgJs7VATESTH5WnVAgfHUqlXK6oHpJEI1G9zEZH/Du16leqHyS0UXBNKmeOMf5NvyislJPB8RAFz4g8IuwofLy8k319fUP1EEouw7L7mC3kUTO1nn3sb02MTFxFpsz87FfJuaH4pu5fF+reDz+DEfxkI44Q0ScSbyOpDGe1RqMBN08o+ha0L0JdeKi/6msrGwj98uZMeon1AGaSj+elr9LwK9IkO33n8cN7Hl2vp1N3PcYbUXOBbDz9bwV1/wCmXoS3+B128OPD/l2LLg8l9APXVlZKZfzfDY7ehlQv0PPQDez6zW5JJdYOXdAwHK2dGIv7GH4YtHJIvEOvvunLCHPPzl3QOLKTkl0hPbKaDUvlTU988xtwfMqQBPQ3m/4mf0yBVlDCSr/CRW0CipAMnGzb9XU1NSRvIX7kSgo++Pg9B8wltxxbHKPZgAAAABJRU5ErkJggg==&quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%;">
</div>
<div class="cartNotFree" id="j_quickCheckout">
<h5>Quick Checkout</h5>
<div id="payment-request-button"></div>
<script src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/checkout.js.下載" data-version-4="" log-level="warn"></script>
<script src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/client.min.js.下載"></script>
<script src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/paypal-checkout.min.js.下載"></script>
<div class="paypal-wr">
<div id="paypal-button"></div>
<div id="paypal-details" style="display:none">
<strong>Using PayPal Account:</strong>
<br>
<span id="paypal-name"></span>
(
<span id="paypal-email"></span>
)
<br>
<a href="javascript://" id="cancel-paypal-btn" onclick="Purchase.cancelPaypal()">Change</a>
</div>
</div>

<h5>or Pay by Credit Card</h5>
<div class="creditCardInput">
<div id="j_cc_form">
<div class="checkoutFull">
<label>Card Info</label>
<div class="card-element" id="card-element"></div>
<div id="card-errors"></div>
</div>
</div>
</div>
</div>
<div class="le_cart-errors userErrors"></div>
<div class="le_cart-errors purchaseErrors"></div>
<h5>Confirm</h5>
<div class="cart_lastconfirm">
<label>Total Today</label>
<div id="j_cartTotal">$0.00</div>
</div>
<div class="submitWr">
<button class="j_submitButton danger" onclick="return Cart.submitForm()">
Complete Checkout
</button>
</div>
<div class="payment-details">
<img class="payment-cards" src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/payment-c898aa81b99b5cce157d57bcae74366490239d5a645551972ca1566e1d035bbc.png" alt="Payment">
<p>
Payments and credit card details are securely managed and protected by Learn Enough's payment processor, Stripe. More information on their site:
<br>
<a target="_blank" class="stripeLogo" href="https://www.stripe.com/"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/stripe-692a974689bf1d99f911348cbe184e3668a06f3223c515033b827cfc9f7b7b60.png" alt="Stripe"></a>
</p>
</div>
</form>

</div>
</div>
</div>
<div class="le_sidemenu cart_sidemenu">
<div class="checkout-close">
<a onclick="$(&#39;.le_sidemenu&#39;).removeClass(&#39;open&#39;);$(&#39;.le_sidemenu-bg&#39;).removeClass(&#39;open&#39;);" href="javascript://"><svg class="svg-inline--fa fa-times fa-w-11" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" data-fa-i2svg=""><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg><!-- <i class="fas fa-times"></i> -->
</a></div>
<div class="le_cart-full page-form" id="j_cart-contain">
<h5>CART</h5>
<div id="j_cart"><div class="j_leCart">
<div class="cart-items">
</div>
<h5>Total</h5>
<div>
<table class="subscription-total">
<tbody><tr>
<td>
<label>Total Today</label>
</td>
<td id="j_totalCartToday">$0.00</td>
</tr>
</tbody></table>
</div>
<script>
  (function() {
    $(function() {
      return Cart.init({
        availableBundles: [
          {
            "id": 11,
            "name": "Developer Fundamentals",
            "code": "developer_fundamentals",
            "price_in_dollars": 19,
            "book_ids": [164, 183, 191]
          }, {
            "id": 14,
            "name": "Application Development",
            "code": "application_development",
            "price_in_dollars": 29,
            "book_ids": [319, 216, 232]
          }, {
            "id": 10,
            "name": "All Access",
            "code": "all_access",
            "price_in_dollars": 49,
            "book_ids": [164, 183, 191, 234, 268, 301, 305, 216, 232, 319]
          }, {
            "id": 12,
            "name": "Web Basics",
            "code": "web_basics",
            "price_in_dollars": 19,
            "book_ids": [234, 268]
          }, {
            "id": 13,
            "name": "Beginning Development",
            "code": "beginning_development",
            "price_in_dollars": 19,
            "book_ids": [301, 305]
          }, {
            "id": 9,
            "name": "Learn Enough Action Cable to Be Dangerous",
            "code": "learn_enough_action_cable",
            "price_in_dollars": 9,
            "book_ids": [232]
          }, {
            "id": 8,
            "name": "Ruby on Rails Tutorial (Rails 5)",
            "code": "ruby_on_rails_tutorial_4th_edition",
            "price_in_dollars": 29,
            "book_ids": [216]
          }, {
            "id": 1,
            "name": "Learn Enough Command Line to Be Dangerous",
            "code": "learn_enough_command_line",
            "price_in_dollars": 9,
            "book_ids": [164]
          }, {
            "id": 2,
            "name": "Learn Enough Text Editor to Be Dangerous",
            "code": "learn_enough_text_editor",
            "price_in_dollars": 9,
            "book_ids": [183]
          }, {
            "id": 3,
            "name": "Learn Enough Git to Be Dangerous",
            "code": "learn_enough_git",
            "price_in_dollars": 9,
            "book_ids": [191]
          }, {
            "id": 4,
            "name": "Learn Enough HTML to Be Dangerous",
            "code": "learn_enough_html",
            "price_in_dollars": 9,
            "book_ids": [234]
          }, {
            "id": 5,
            "name": "Learn Enough CSS \u0026 Layout to Be Dangerous",
            "code": "learn_enough_css",
            "price_in_dollars": 15,
            "book_ids": [268]
          }, {
            "id": 6,
            "name": "Learn Enough JavaScript to Be Dangerous",
            "code": "learn_enough_javascript",
            "price_in_dollars": 15,
            "book_ids": [301]
          }, {
            "id": 7,
            "name": "Learn Enough Ruby to Be Dangerous",
            "code": "learn_enough_ruby",
            "price_in_dollars": 15,
            "book_ids": [305]
          }, {
            "id": 15,
            "name": "Ruby on Rails Tutorial (Rails 6)",
            "code": "ruby_on_rails_tutorial_6th_edition",
            "price_in_dollars": 29,
            "book_ids": [319]
          }
        ],
        stripeKey: "pk_live_Xn1p0BfxqKxkAxtEr03P7wmd",
        useCardOnFile: false,
        existingPaymentLabel: "",
        existingPaymentText: "",
        discount: false,
        data: {
          "courseBundles": [],
          "bookOptions": [],
          "subscriptionDiscount": null
        },
        braintreeToken: "eyJ2ZXJzaW9uIjoyLCJhdXRob3JpemF0aW9uRmluZ2VycHJpbnQiOiJlMzhlMmVjODljNjY2NTlhMzc4YzNkOGRjN2RhZWQwZDA5MWU3OGYyZTBmNjhiNjFjMTkxNzJjOWE0ZGExZTI5fGNyZWF0ZWRfYXQ9MjAxOS0wOS0wOVQwNzoyMzo1NC4zNzIwNTUxMTgrMDAwMFx1MDAyNm1lcmNoYW50X2lkPTNmZmQzemJ3YnZobmNkMm1cdTAwMjZwdWJsaWNfa2V5PTR6eTRobmI2dDI3OHg2ZzUiLCJjb25maWdVcmwiOiJodHRwczovL2FwaS5icmFpbnRyZWVnYXRld2F5LmNvbTo0NDMvbWVyY2hhbnRzLzNmZmQzemJ3YnZobmNkMm0vY2xpZW50X2FwaS92MS9jb25maWd1cmF0aW9uIiwiZ3JhcGhRTCI6eyJ1cmwiOiJodHRwczovL3BheW1lbnRzLmJyYWludHJlZS1hcGkuY29tL2dyYXBocWwiLCJkYXRlIjoiMjAxOC0wNS0wOCJ9LCJjaGFsbGVuZ2VzIjpbXSwiZW52aXJvbm1lbnQiOiJwcm9kdWN0aW9uIiwiY2xpZW50QXBpVXJsIjoiaHR0cHM6Ly9hcGkuYnJhaW50cmVlZ2F0ZXdheS5jb206NDQzL21lcmNoYW50cy8zZmZkM3pid2J2aG5jZDJtL2NsaWVudF9hcGkiLCJhc3NldHNVcmwiOiJodHRwczovL2Fzc2V0cy5icmFpbnRyZWVnYXRld2F5LmNvbSIsImF1dGhVcmwiOiJodHRwczovL2F1dGgudmVubW8uY29tIiwiYW5hbHl0aWNzIjp7InVybCI6Imh0dHBzOi8vY2xpZW50LWFuYWx5dGljcy5icmFpbnRyZWVnYXRld2F5LmNvbS8zZmZkM3pid2J2aG5jZDJtIn0sInRocmVlRFNlY3VyZUVuYWJsZWQiOmZhbHNlLCJwYXlwYWxFbmFibGVkIjp0cnVlLCJwYXlwYWwiOnsiZGlzcGxheU5hbWUiOiJMZWFybiBFbm91Z2giLCJjbGllbnRJZCI6IkFZRkJVbHYzR1BaSlE1emlvUlZrcnlYTjB5cW9jc0VleFRfOW9UcVFJQ29hbG51UmZRdjI2VFd0WlNIeFhSd2IxMFJCdGMtb3ptcEFLVVVXIiwicHJpdmFjeVVybCI6Imh0dHBzOi8vd3d3LmxlYXJuZW5vdWdoLmNvbS9sZWdhbCIsInVzZXJBZ3JlZW1lbnRVcmwiOiJodHRwczovL3d3dy5sZWFybmVub3VnaC5jb20vbGVnYWwiLCJiYXNlVXJsIjoiaHR0cHM6Ly9hc3NldHMuYnJhaW50cmVlZ2F0ZXdheS5jb20iLCJhc3NldHNVcmwiOiJodHRwczovL2NoZWNrb3V0LnBheXBhbC5jb20iLCJkaXJlY3RCYXNlVXJsIjpudWxsLCJhbGxvd0h0dHAiOmZhbHNlLCJlbnZpcm9ubWVudE5vTmV0d29yayI6ZmFsc2UsImVudmlyb25tZW50IjoibGl2ZSIsInVudmV0dGVkTWVyY2hhbnQiOmZhbHNlLCJicmFpbnRyZWVDbGllbnRJZCI6IkFSS3JZUkRoM0FHWER6VzdzT18zYlNrcS1VMUM3SEdfdVdOQy16NTdMallTRE5VT1NhT3RJYTlxNlZwVyIsImJpbGxpbmdBZ3JlZW1lbnRzRW5hYmxlZCI6dHJ1ZSwibWVyY2hhbnRBY2NvdW50SWQiOiJMZWFybkVub3VnaF9pbnN0YW50IiwiY3VycmVuY3lJc29Db2RlIjoiVVNEIn0sIm1lcmNoYW50SWQiOiIzZmZkM3pid2J2aG5jZDJtIiwidmVubW8iOiJvZmYifQ==",
        loggedIn: false,
        hasSubscription: false,
        currentMonthlyCost: 0,
        currentCourseBundleIds: [],
        authenticity_token: "ZpF5wdBWhMOxq59UT1QfbnbewrmPMHpGJWMkAfhpsxPE618cF/A30Byd77h2ll4Dil4ozi+fixvkBIOX+ANF3w=="
      });
    });
  
  }).call(this);
</script>
</div>
</div>
<div class="landing-pricing_cta">
<a onclick="Cart.sidebarCheckout()" href="javascript://"><button class="attention">Checkout Now</button>
</a></div>
</div>
<div class="le_cart-empty open page-form" id="j_cart-empty">
<img class="le_cart-empty_icon" src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/cart_empty-2f8b210857d00f1f864d5660082133b24f9205d22db1ffc064c706272612b04d.png" alt="Cart empty">
<h3>Your Cart is Empty</h3>
<div class="le_cart-empty_cta">
<a href="https://www.learnenough.com/courses"><button class="btn-small attention">
See the Tutorials
</button>
</a></div>
</div>
</div>
<div class="le_sidemenu-bg" onclick="$(&#39;.le_sidemenu&#39;).removeClass(&#39;open&#39;);$(&#39;.le_sidemenu-bg&#39;).removeClass(&#39;open&#39;);"></div>
<div class="le_footermenu">
<div class="checkout-close">
<a onclick="$(&#39;.le_footermenu&#39;).removeClass(&#39;open&#39;)" href="javascript://"><svg class="svg-inline--fa fa-times fa-w-11" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" data-fa-i2svg=""><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg><!-- <i class="fas fa-times"></i> -->
</a></div>
<div class="le_footermenu_content le_footermenu_change">
<div class="le_footermenu_copy">
<div class="le_footermenu_cost-current">
<label>Current $ /mo</label>
<div class="j_currentMonthlyCost">
$30
</div>
</div>
<div class="le_footermenu_cost-new">
<label>New $ /mo</label>
<div class="j_newMonthlyCost">
$300
</div>
</div>
<div class="le_footermenu_cost-today j_costToday">
<label>Change</label>
<div class="j_newTodayCost">
$300
</div>
</div>
</div>
<div class="le_footermenu_cta">
<a onclick="Cart.footerCheckout()" href="javascript://"><button class="small attention btn-small">
<span id="j_footerCheckoutBtn">
Checkout Now / Update Subscription
</span>
</button>
</a><a onclick="Cart.cancel()" href="javascript://"><button class="small danger btn-small">
<span id="j_footerCheckoutBtn">
Cancel
</span>
</button>
</a></div>
</div>
<div class="le_footermenu_content le_footermenu_confirm">
<div class="le_footermenu_copy">
<div class="le_footermenu_cost-new">
<label>Just to confirm, new $ /mo</label>
<div class="j_newMonthlyCost">$XY</div>
</div>
<div class="le_footermenu_cost-new j_costToday">
<label class="j_costTodayLabel">Cost Today</label>
<div class="j_newTodayCost">$XY</div>
</div>
<div class="le_footermenu_cost-new j_existingPayment">
<label class="j_existingPaymentLabel">On card ending</label>
<div class="j_existingPaymentText">1234</div>
</div>
</div>
<div class="le_footermenu_cta">
<a onclick="Cart.footerConfirmChange()" href="javascript://"><button class="small menu_warning-btn btn-small">
<span id="j_footerConfirmChangeBtn">
Confirm Change
</span>
</button>
</a><a onclick="Cart.cancel()" href="javascript://"><button class="small menu_warning-btn danger btn-small">
<span id="j_footerCheckoutBtn">
Cancel
</span>
</button>
</a></div>
</div>
</div>

<div class="site-header">
<div class="side-menu-toggle">
<a class="side-menu-close" href="javascript://"><svg class="svg-inline--fa fa-times fa-w-11" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" data-fa-i2svg=""><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg><!-- <i class="fas fa-times"></i> -->
</a><a class="side-menu-open" href="javascript://"><svg class="svg-inline--fa fa-bars fa-w-14" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path></svg><!-- <i class="fas fa-bars"></i> -->
</a></div>
<nav class="nav">
<a class="logoLink artLogo" href="https://www.learnenough.com/"><div class="svg le-logo"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 801 1041" style="enable-background:new 0 0 801 1041;" xml:space="preserve">
<path d="M569.9,478.6l3.5-3.5v-41.7l-1-2.5l-24.3-24.3l-2.5-1H410.5l-3.5,3.5v358.6l1,2.5l24.3,24.3l1.9,0.5l0.5,0.5h135.1l3.5-3.5v-41.7l-1-2.5l-24.3-24.3l-2.5-1H488v-89.9h77l3.5-3.5v-41.7l-1-2.5l-24.3-24.3l-2.5-1H488v-81H569.9z M544.2,412.6l17.3,17.3H436.2L419,412.6H544.2z M414,417.6l17.3,17.3v348.7L414,766.3V417.6z M544.2,729.5l17.3,17.3H488v-17.3H544.2z M539.2,566.6l17.3,17.3H488v-17.3H539.2z M484.5,471.6l-3.5,3.5v112.3l3.5,3.5h77v34.7h-77l-3.5,3.5v121.2l3.5,3.5h81.9v34.7H438.3V436.9h128.1v34.7H484.5z"></path>
<path d="M401.5,747.8l-24.3-24.3l-2.5-1h-55.7V433.4l-0.2-0.2l-0.8-2.3l-24.3-24.3l-2.5-1h-49.7l-3.5,3.5v358.6l1,2.5l24.3,24.3l1.9,0.5l0.6,0.6H399l3.5-3.5v-41.7L401.5,747.8z M373.3,729.5l17.3,17.3h-71.5v-17.3H373.3z M307.1,429.9h-39.8l-17.3-17.3h39.8L307.1,429.9z M245.1,417.6l17.3,17.3v348.7l-17.3-17.3V417.6z M395.5,788.5H269.4V436.9h42.7v313.4l3.5,3.5h79.9V788.5z"></path>
<path d="M691.8,600.3c0-77.2-30-149.7-84.6-204.3c-47.3-47.3-108.2-76.2-173.9-83c0.4-22.2,0.6-35.3,0.6-35.7l-2.6-3.8c-1.8-0.6-3.5-2.2-5.1-4.2l5.1,0c1.8,0.1,22.1,0.8,33.2-11.2c5.5-6,8.5-14,8.5-23.4l0.1-13.3l-3.5-3.5l-16-0.1l-3.5,3.5l-0.1,13.3c0,3.3-0.7,5.5-2.4,7.3c-3.7,4-12.4,4.9-15.4,4.9l-11.9,0c1.4-13.4,3.7-39.7,3.9-72.2c0.1-34.4-5.7-68.9-6.6-73.7c4.9-5.8,7.6-13.5,7.6-21.6C425.2,62,413,47.9,398,47.8c0,0-0.1,0-0.1,0c-15,0-27.2,14-27.3,31.2c0,8.1,2.6,15.8,7.5,21.7c-0.9,4.8-7,39.3-7.2,73.6c-0.1,32.5,2,58.9,3.3,72.3l-11.1,0c-1.8-0.1-22.1-0.8-33.2,11.2c-5.5,6-8.5,14-8.5,23.4l-0.1,13.3l3.5,3.5l16.2,0.1l3.5-3.5l0.1-13.3c0-3.3,0.7-5.5,2.4-7.3c3.7-4,12.3-4.9,15.3-4.9l5.9,0c-1.6,1.9-3.4,3.5-5.2,4.1l-2.6,3.8c0,0.5,0.2,14.2,0.6,37.4c-61.2,8.9-117.8,37.1-162.3,81.6C144.1,450.6,114,523.1,114,600.3s30,149.7,84.6,204.3c49,49,112.4,78.2,180.7,83.7c6.4,96.9,11.7,103.7,14.1,106.6l3.3,2.6l2.9-2.6c2.4-2.9,7.8-9.7,14.3-105.9c73-2.7,141.3-32.4,193.2-84.4C661.8,750,691.8,677.5,691.8,600.3z M377.6,79.1c0.1-13.4,9.1-24.2,20.3-24.2c0,0,0,0,0.1,0c7.7,0,14.5,5.3,17.8,13l-10.6-4.3c1.1,1.6,2.1,3.4,2.8,5.5l9.4,3.8c0.5,2,0.7,4.2,0.7,6.4c0,0.2,0,0.5,0,0.7l-8.4-3.4c0.1,0.8,0.1,1.7,0.1,2.5c0,0.6,0,1.2-0.1,1.8l8,3.2c-0.4,2.1-1,4.2-1.8,6.1l-7.3-2.9c-0.4,1.3-0.9,2.6-1.4,3.7l6.8,2.8c-0.6,1-1.3,1.9-2,2.8c-0.7,0.8-1.5,1.6-2.3,2.3l-0.8-0.3l-5.3-2.2c-1.1,1.2-2.3,2.1-3.6,2.9l5.7,2.3c-2.5,1.2-5.1,1.9-7.9,1.9c-5.3,0-10.3-2.5-14.1-7C379.8,91.9,377.6,85.7,377.6,79.1z M377.9,174.4c0.1-28.2,4.4-57,6.3-68.1c4.1,2.7,8.7,4.2,13.5,4.2c0,0,0.1,0,0.1,0c4.8,0,9.4-1.4,13.5-4.1c0.2,1.3,0.5,2.9,0.7,4.7l-2.1-0.9l-2.9,3.1l5.7,2.3c0.3,2.2,0.6,4.6,1,7.3l-17.4-7.1c0.2,1.4,0.4,3,0.6,4.6l17.3,7c0.3,2.3,0.5,4.7,0.8,7.2l-17.2-7c0.2,1.5,0.3,3,0.5,4.5l17.2,7c0.2,2.3,0.4,4.7,0.6,7.1l-19.6-8c-1.7,0.1-3.7-0.4-3.7-0.4s0.8,1.7,1.9,4l21.7,8.8c0.2,2.3,0.3,4.7,0.4,7l-18.3-7.4c0.9,2.1,1.5,3.9,1.7,5l16.8,6.8c0.1,2.3,0.1,4.6,0.2,6.9l-16.6-6.7c0.1,1.5,0.1,2.9,0.1,4.4l16.5,6.7c0,0.4,0,0.8,0,1.2c0,1.9,0,3.8,0,5.7l-16.7-6.8c-1.1,1.7-5.8-0.2-5.8-0.2s0.4,1,0.9,2.5l21.6,8.7c0,2.3-0.1,4.6-0.2,6.8l-18.6-7.5c0.6,1.8,1.2,3.6,1.6,5l16.9,6.8c-0.1,2.3-0.2,4.6-0.3,6.8l-16.2-6.6c0,1.5-0.1,2.9-0.2,4.3l16.2,6.6c-0.1,2.3-0.2,4.5-0.4,6.7l-16.1-6.5c0,0.7-0.1,1.4-0.1,2.1c0,0.9-0.4,1.4-0.8,1.8l16.8,6.8c-0.1,2.3-0.3,4.5-0.5,6.7l-20-8.1c0.3,1.4,0.7,3.1,1.1,4.7l18.6,7.6c-0.2,2.3-0.4,4.6-0.6,6.6l-16.6-6.8c0.3,1.8,0.4,3.3,0.4,4.1c0,0.1,0,0.2,0,0.3l15.9,6.5c-0.2,2.5-0.5,4.7-0.7,6.6l-15.9-6.4c-0.1,1.5-0.3,2.9-0.4,4.2l8,3.2l-23.7-0.1C380,233.6,377.8,207,377.9,174.4z M362.3,262.1c-1.4,0-14,0.2-20.4,7.1c-2.8,3-4.2,7-4.2,12l0,9.8l-9.2,0l0-9.8c0-7.5,2.3-14,6.6-18.6l0,0c9.1-9.8,27.6-9,27.8-9l69.2,0.2c1.4,0,14.1-0.2,20.6-7.1c2.8-3,4.2-7,4.2-12l0-9.8l9,0l0,9.8c0,7.5-2.3,14-6.6,18.6c-9.1,9.8-27.6,9-27.8,9L362.3,262.1z M407.6,348.5l1.1,0.4h-1.1L407.6,348.5z M403.6,348.9h-5.3l-3.5-79.8l17.2,0.1L403.6,348.9z M408.1,344.3l0.7-6.6l15.9,6.4c0,1.6-0.1,3.1-0.1,4.7h-5.2L408.1,344.3z M409.2,333.6l0.7-6.6l15,6.1c0,2.2-0.1,4.5-0.1,6.8L409.2,333.6z M410.3,322.9l0.7-6.6l14.1,5.7c0,2.2-0.1,4.5-0.1,6.8L410.3,322.9z M411.5,312.2l0.7-6.6l13.1,5.3c0,2.2-0.1,4.5-0.1,6.8L411.5,312.2z M412.6,301.4l0.7-6.6l12.2,4.9c0,2.1-0.1,4.4-0.1,6.8L412.6,301.4z M413.7,290.7l0.7-6.6l11.3,4.6c0,2-0.1,4.3-0.1,6.8L413.7,290.7z M414.9,280l0.7-6.6l5.5,2.2c1.5,1.6,3.1,3,4.8,4c0,1.2,0,2.8-0.1,4.8L414.9,280z M416,269.3L416,269.3l0.3,0c0,0.1,0.1,0.1,0.1,0.2L416,269.3z M390.3,348.9h-20.7c-0.7-36.5-1.1-61.7-1.2-69.5c3.9-2.4,7.2-6.4,9.6-10.3l8.8,0L390.3,348.9z M392.6,951.2c-2-18-4.2-44.3-6.4-82.7c-0.3-5.2-0.6-10.6-0.9-16.2h7.4l2.5,115.9L392.6,951.2z M400.7,959.3l-0.1-20.9l1,0.2C401.4,940.3,400.8,957.7,400.7,959.3z M401.6,934.5l-1-0.4v-6.9l1.7,0.7C402.1,930.2,401.8,932.4,401.6,934.5z M402.7,923.8l-2.2-0.9v-6.9l2.8,1.1C403.2,919.4,403,921.6,402.7,923.8z M403.8,913l-3.2-1.3l0-6.9l3.8,1.6C404.2,908.7,404,910.9,403.8,913z M404.8,902.3l-4.2-1.7v-6.9l4.8,1.9C405.2,897.8,405,900.1,404.8,902.3z M405.7,891.4l-5.1-2.1l0-6.9l5.6,2.3C406,887,405.9,889.2,405.7,891.4z M406.5,880.6l-5.9-2.4l0-6.9l6.4,2.6C406.8,876.1,406.6,878.4,406.5,880.6z M407.3,868.6c0,0.4,0,0.7-0.1,1.1l-6.6-2.7l0-6.9l7,2.8C407.5,864.9,407.4,866.8,407.3,868.6z M407.9,858.8l-7.3-2.9l0-3.5h7.6C408.1,854.5,408,856.6,407.9,858.8z M414.5,880.9c0.6-8.8,1.2-18.3,1.7-28.6h27v-7h-91v7h25c0.6,10,1.1,19.2,1.6,27.8c-66-5.6-127.2-33.9-174.6-81.2C151.2,745.9,122,675.3,122,600.3s29.2-145.6,82.3-198.6c43.1-43.1,97.6-70.4,156.8-79.2c0.1,7.9,0.3,16.8,0.5,26.4h-16.1v7h109.8v-7h-22.7c0.2-10.2,0.4-19.6,0.5-27.9c63.6,6.8,122.6,34.8,168.4,80.7c53.1,53.1,82.3,123.6,82.3,198.6s-29.2,145.6-82.3,198.6C551.2,849.2,485.2,878.1,414.5,880.9z"></path>
</svg>
</div>
<span>LEARN ENOUGH</span>
</a><ul class="headerMenu">
<li><a href="http://www.learnenough.com/courses">Courses</a></li>
<li><a href="http://www.learnenough.com/pricing">Pricing</a></li>
<li><a href="http://www.learnenough.com/ruby-on-rails-6th-edition">The Rails Tutorial</a></li>
<li><a href="http://www.learnenough.com/for-teams">For Teams</a></li>
<li><a href="http://www.learnenough.com/login">Log In</a></li>
<li class="header-cart">
<a onclick="Cart.openCart()" class="header-cart_link" href="javascript://"><svg class="svg-inline--fa fa-shopping-cart fa-w-18" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="shopping-cart" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"></path></svg><!-- <i class="fas fa-shopping-cart"></i> -->
<span class="header-cart_label">Cart</span>
</a></li>
</ul>
<div class="side-menu">
<div class="le-side-buy">
<header class="free">&nbsp;</header>
<div class="articleMenu">
<div class="bookMenuActions j_downloadLinks">
<a onclick="$(&#39;#bookMenuEmail&#39;).toggleClass(&#39;open&#39;); return false" class="buttonStyle greyButton iEmailUpdate" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up"><svg class="svg-inline--fa fa-heart fa-w-16" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="heart" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"></path></svg><!-- <i class="fas fa-heart"></i> -->
Mailing List
</a><a href="http://www.learnenough.com/ruby-on-rails-4th-edition"><svg class="svg-inline--fa fa-arrow-circle-right fa-w-16" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-circle-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm-28.9 143.6l75.5 72.4H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h182.6l-75.5 72.4c-9.7 9.3-9.9 24.8-.4 34.3l11 10.9c9.4 9.4 24.6 9.4 33.9 0L404.3 273c9.4-9.4 9.4-24.6 0-33.9L271.6 106.3c-9.4-9.4-24.6-9.4-33.9 0l-11 10.9c-9.5 9.6-9.3 25.1.4 34.4z"></path></svg><!-- <i class="fas fa-arrow-circle-right"></i> -->
Tutorial Features
</a><a href="http://www.learnenough.com/ruby-on-rails-4th-edition#landing-pricing"><svg class="svg-inline--fa fa-book-open fa-w-18" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="book-open" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"></path></svg><!-- <i class="fas fa-book-open"></i> -->
Subscribe to Course
</a><a href="http://www.learnenough.com/application-development"><svg class="svg-inline--fa fa-window-restore fa-w-16" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="window-restore" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M512 48v288c0 26.5-21.5 48-48 48h-48V176c0-44.1-35.9-80-80-80H128V48c0-26.5 21.5-48 48-48h288c26.5 0 48 21.5 48 48zM384 176v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48h288c26.5 0 48 21.5 48 48zm-68 28c0-6.6-5.4-12-12-12H76c-6.6 0-12 5.4-12 12v52h252v-52z"></path></svg><!-- <i class="fas fa-window-restore"></i> -->
Application Development
Bundle
</a><a href="http://www.learnenough.com/checkout/tutorial/ruby_on_rails_tutorial_4th_edition"><svg class="svg-inline--fa fa-plus-square fa-w-14" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"></path></svg><!-- <i class="fas fa-plus-square"></i> -->
Books &amp; Offline Videos
</a></div>
<div class="bookMenu-email" id="bookMenuEmail">
Follow author to receive email updates about new content
<div class="j_followBookForm"><div id="j_bookFollowForm">
<form action="http://www.learnenough.com/books/216/follow" accept-charset="UTF-8" data-remote="true" method="get"><input name="utf8" type="hidden" value="✓">
<!-- %input{name: "name", type: "text", placeholder: "YOUR NAME"} -->
<input name="email" placeholder="Your email address" type="text">
<input class="greyButton optClick_follow" data-disable-with="Submitting..." type="submit" value="Follow Author">
</form>

<p id="j_bookFollowNotice" style="display:none"></p>
</div>
</div>
</div>
</div>
</div>

<div class="">
</div>
<ul class="">
<li class="courseCh">
<a id="chapter-1919" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning">1. From zero to deploy
</a><ul class="courseSecWr">
<li class="courseSec">
<a id="chapter_section-58" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-introduction"><span class="courseSec-num">1.1</span>
Introduction
</a><ul class="courseSub">
<li>
<a id="sub_section-78" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-prerequisites"><span class="courseSec-num">1.1.1</span>
Prerequisites
</a></li>
<li>
<a id="sub_section-79" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-conventions"><span class="courseSec-num">1.1.2</span>
Conventions used in this book
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-59" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-up_and_running"><span class="courseSec-num">1.2</span>
Up and running
</a><ul class="courseSub">
<li>
<a id="sub_section-80" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-development_environment"><span class="courseSec-num">1.2.1</span>
Development environment
</a></li>
<li>
<a id="sub_section-81" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-installing_rails"><span class="courseSec-num">1.2.2</span>
Installing Rails
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-60" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-the_hello_application"><span class="courseSec-num">1.3</span>
The first application
</a><ul class="courseSub">
<li>
<a id="sub_section-82" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-bundler"><span class="courseSec-num">1.3.1</span>
Bundler
</a></li>
<li>
<a id="sub_section-83" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-rails_server"><span class="courseSec-num">1.3.2</span>
rails server
</a></li>
<li>
<a id="sub_section-84" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-mvc"><span class="courseSec-num">1.3.3</span>
Model-View-Controller (MVC)
</a></li>
<li>
<a id="sub_section-85" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-hello_world"><span class="courseSec-num">1.3.4</span>
Hello, world!
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-61" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-version_control"><span class="courseSec-num">1.4</span>
Version control with Git
</a><ul class="courseSub">
<li>
<a id="sub_section-86" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-git_setup"><span class="courseSec-num">1.4.1</span>
Installation and setup
</a></li>
<li>
<a id="sub_section-148" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-what_good_does_git_do_you"><span class="courseSec-num">1.4.2</span>
What good does Git do you?
</a></li>
<li>
<a id="sub_section-88" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-bitbucket"><span class="courseSec-num">1.4.3</span>
Bitbucket
</a></li>
<li>
<a id="sub_section-89" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-git_commands"><span class="courseSec-num">1.4.4</span>
Branch, edit, commit, merge
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-62" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-deploying"><span class="courseSec-num">1.5</span>
Deploying
</a><ul class="courseSub">
<li>
<a id="sub_section-90" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-heroku_setup"><span class="courseSec-num">1.5.1</span>
Heroku setup
</a></li>
<li>
<a id="sub_section-91" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-heroku_step_one"><span class="courseSec-num">1.5.2</span>
Heroku deployment, step one
</a></li>
<li>
<a id="sub_section-92" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-heroku_step_two"><span class="courseSec-num">1.5.3</span>
Heroku deployment, step two
</a></li>
<li>
<a id="sub_section-93" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-heroku_commands"><span class="courseSec-num">1.5.4</span>
Heroku commands
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-63" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-beginning_conclusion"><span class="courseSec-num">1.6</span>
Conclusion
</a><ul class="courseSub">
<li>
<a id="sub_section-94" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#sec-beginning_what_we_learned_in_this_chapter"><span class="courseSec-num">1.6.1</span>
What we learned in this chapter
</a></li>
</ul>
</li>
</ul>
</li>
<li class="courseCh">
<a id="chapter-1922" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app">2. A toy app
</a><ul class="courseSecWr">
<li class="courseSec">
<a id="chapter_section-69" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-planning_the_application"><span class="courseSec-num">2.1</span>
Planning the application
</a><ul class="courseSub">
<li>
<a id="sub_section-106" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-modeling_demo_users"><span class="courseSec-num">2.1.1</span>
A toy model for users
</a></li>
<li>
<a id="sub_section-107" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-modeling_demo_microposts"><span class="courseSec-num">2.1.2</span>
A toy model for microposts
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-70" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-demo_users_resource"><span class="courseSec-num">2.2</span>
The Users resource
</a><ul class="courseSub">
<li>
<a id="sub_section-108" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-a_user_tour"><span class="courseSec-num">2.2.1</span>
A user tour
</a></li>
<li>
<a id="sub_section-109" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-mvc_in_action"><span class="courseSec-num">2.2.2</span>
MVC in action
</a></li>
<li>
<a id="sub_section-110" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-weaknesses_of_this_users_resource"><span class="courseSec-num">2.2.3</span>
Weaknesses of this Users resource
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-71" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-microposts_resource"><span class="courseSec-num">2.3</span>
The Microposts resource
</a><ul class="courseSub">
<li>
<a id="sub_section-111" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-a_micropost_microtour"><span class="courseSec-num">2.3.1</span>
A micropost microtour
</a></li>
<li>
<a id="sub_section-112" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-putting_the_micro_in_microposts"><span class="courseSec-num">2.3.2</span>
Putting the micro in microposts
</a></li>
<li>
<a id="sub_section-113" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-demo_user_has_many_microposts"><span class="courseSec-num">2.3.3</span>
A user hasmany microposts
</a></li>
<li>
<a id="sub_section-114" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-inheritance_hierarchies"><span class="courseSec-num">2.3.4</span>
Inheritance hierarchies
</a></li>
<li>
<a id="sub_section-115" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-deploying_the_toy_app"><span class="courseSec-num">2.3.5</span>
Deploying the toy app
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-72" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-toy_app_conclusion"><span class="courseSec-num">2.4</span>
Conclusion
</a><ul class="courseSub">
<li>
<a id="sub_section-116" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-toy_app_what_we_learned_in_this_chapter"><span class="courseSec-num">2.4.1</span>
What we learned in this chapter
</a></li>
</ul>
</li>
</ul>
</li>
<li class="courseCh">
<a id="chapter-2024" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages">3. Mostly static pages
</a><ul class="courseSecWr">
<li class="courseSec">
<a id="chapter_section-188" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-sample_app_setup"><span class="courseSec-num">3.1</span>
Sample app setup
</a></li>
<li class="courseSec">
<a id="chapter_section-189" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-static_pages"><span class="courseSec-num">3.2</span>
Static pages
</a><ul class="courseSub">
<li>
<a id="sub_section-825" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-generated_static_pages"><span class="courseSec-num">3.2.1</span>
Generated static pages
</a></li>
<li>
<a id="sub_section-826" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-custom_static_pages"><span class="courseSec-num">3.2.2</span>
Custom static pages
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-190" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-getting_started_with_testing"><span class="courseSec-num">3.3</span>
Getting started with testing
</a><ul class="courseSub">
<li>
<a id="sub_section-827" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-our_first_test"><span class="courseSec-num">3.3.1</span>
Our first test
</a></li>
<li>
<a id="sub_section-828" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-red"><span class="courseSec-num">3.3.2</span>
Red
</a></li>
<li>
<a id="sub_section-829" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-green"><span class="courseSec-num">3.3.3</span>
Green
</a></li>
<li>
<a id="sub_section-830" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-refactor"><span class="courseSec-num">3.3.4</span>
Refactor
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-191" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-slightly_dynamic_pages"><span class="courseSec-num">3.4</span>
Slightly dynamic pages
</a><ul class="courseSub">
<li>
<a id="sub_section-831" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-testing_titles"><span class="courseSec-num">3.4.1</span>
Testing titles (Red)
</a></li>
<li>
<a id="sub_section-832" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-adding_page_titles"><span class="courseSec-num">3.4.2</span>
Adding page titles (Green)
</a></li>
<li>
<a id="sub_section-833" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-layouts_and_embedded_ruby"><span class="courseSec-num">3.4.3</span>
Layouts and embedded Ruby (Refactor)
</a></li>
<li>
<a id="sub_section-834" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-setting_the_root_route"><span class="courseSec-num">3.4.4</span>
Setting the root route
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-192" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-static_pages_conclusion"><span class="courseSec-num">3.5</span>
Conclusion
</a><ul class="courseSub">
<li>
<a id="sub_section-835" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-static_pages_what_we_learned_in_this_chapter"><span class="courseSec-num">3.5.1</span>
What we learned in this chapter
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-193" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-advanced_testing_setup"><span class="courseSec-num">3.6</span>
Advanced testing setup
</a><ul class="courseSub">
<li>
<a id="sub_section-836" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-minitest_reporters"><span class="courseSec-num">3.6.1</span>
minitest reporters
</a></li>
<li>
<a id="sub_section-837" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#sec-guard"><span class="courseSec-num">3.6.2</span>
Automated tests with Guard
</a></li>
</ul>
</li>
</ul>
</li>
<li class="courseCh">
<a id="chapter-1943" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby">4. Rails-flavored Ruby
</a><ul class="courseSecWr">
<li class="courseSec">
<a id="chapter_section-81" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-motivation"><span class="courseSec-num">4.1</span>
Motivation
</a><ul class="courseSub">
<li>
<a id="sub_section-146" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-built_in_helpers"><span class="courseSec-num">4.1.1</span>
Built-in helpers
</a></li>
<li>
<a id="sub_section-147" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-custom_helpers"><span class="courseSec-num">4.1.2</span>
Custom helpers
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-82" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-strings_and_methods"><span class="courseSec-num">4.2</span>
Strings and methods
</a><ul class="courseSub">
<li>
<a id="sub_section-131" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-comments"><span class="courseSec-num">4.2.1</span>
Comments
</a></li>
<li>
<a id="sub_section-132" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-strings"><span class="courseSec-num">4.2.2</span>
Strings
</a></li>
<li>
<a id="sub_section-133" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-objects_and_message_passing"><span class="courseSec-num">4.2.3</span>
Objects and message passing
</a></li>
<li>
<a id="sub_section-134" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-method_definitions"><span class="courseSec-num">4.2.4</span>
Method definitions
</a></li>
<li>
<a id="sub_section-135" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-back_to_the_title_helper"><span class="courseSec-num">4.2.5</span>
Back to the title helper
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-83" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-other_data_structures"><span class="courseSec-num">4.3</span>
Other data structures
</a><ul class="courseSub">
<li>
<a id="sub_section-136" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-arrays_and_ranges"><span class="courseSec-num">4.3.1</span>
Arrays and ranges
</a></li>
<li>
<a id="sub_section-137" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-blocks"><span class="courseSec-num">4.3.2</span>
Blocks
</a></li>
<li>
<a id="sub_section-138" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-hashes_and_symbols"><span class="courseSec-num">4.3.3</span>
Hashes and symbols
</a></li>
<li>
<a id="sub_section-139" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-css_revisited"><span class="courseSec-num">4.3.4</span>
CSS revisited
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-84" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-ruby_classes"><span class="courseSec-num">4.4</span>
Ruby classes
</a><ul class="courseSub">
<li>
<a id="sub_section-140" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-constructors"><span class="courseSec-num">4.4.1</span>
Constructors
</a></li>
<li>
<a id="sub_section-141" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-a_class_of_our_own"><span class="courseSec-num">4.4.2</span>
Class inheritance
</a></li>
<li>
<a id="sub_section-142" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-modifying_built_in_classes"><span class="courseSec-num">4.4.3</span>
Modifying built-in classes
</a></li>
<li>
<a id="sub_section-143" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-a_controller_class"><span class="courseSec-num">4.4.4</span>
A controller class
</a></li>
<li>
<a id="sub_section-144" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-a_user_class"><span class="courseSec-num">4.4.5</span>
A user class
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-85" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-conclusion"><span class="courseSec-num">4.5</span>
Conclusion
</a><ul class="courseSub">
<li>
<a id="sub_section-145" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-rails_flavored_ruby_what_we_learned_in_this_chapter"><span class="courseSec-num">4.5.1</span>
What we learned in this chapter
</a></li>
</ul>
</li>
</ul>
</li>
<li class="courseCh">
<a id="chapter-1976" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout">5. Filling in the layout
</a><ul class="courseSecWr">
<li class="courseSec">
<a id="chapter_section-99" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-structure"><span class="courseSec-num">5.1</span>
Adding some structure
</a><ul class="courseSub">
<li>
<a id="sub_section-149" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-adding_to_the_layout"><span class="courseSec-num">5.1.1</span>
Site navigation
</a></li>
<li>
<a id="sub_section-150" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-custom_css"><span class="courseSec-num">5.1.2</span>
Bootstrap and custom CSS
</a></li>
<li>
<a id="sub_section-151" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-partials"><span class="courseSec-num">5.1.3</span>
Partials
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-100" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-sass_and_the_asset_pipeline"><span class="courseSec-num">5.2</span>
Sass and the asset pipeline
</a><ul class="courseSub">
<li>
<a id="sub_section-152" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-the_asset_pipeline"><span class="courseSec-num">5.2.1</span>
The asset pipeline
</a></li>
<li>
<a id="sub_section-153" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-sass"><span class="courseSec-num">5.2.2</span>
Syntactically awesome stylesheets
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-101" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-layout_links"><span class="courseSec-num">5.3</span>
Layout links
</a><ul class="courseSub">
<li>
<a id="sub_section-154" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-contact_page"><span class="courseSec-num">5.3.1</span>
Contact page
</a></li>
<li>
<a id="sub_section-155" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-rails_routes"><span class="courseSec-num">5.3.2</span>
Rails routes
</a></li>
<li>
<a id="sub_section-156" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-named_routes"><span class="courseSec-num">5.3.3</span>
Using named routes
</a></li>
<li>
<a id="sub_section-157" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-layout_link_tests"><span class="courseSec-num">5.3.4</span>
Layout link tests
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-102" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-user_signup"><span class="courseSec-num">5.4</span>
User signup: A first step
</a><ul class="courseSub">
<li>
<a id="sub_section-158" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-users_controller"><span class="courseSec-num">5.4.1</span>
Users controller
</a></li>
<li>
<a id="sub_section-159" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-signup_url"><span class="courseSec-num">5.4.2</span>
Signup URL
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-103" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-layout_conclusion"><span class="courseSec-num">5.5</span>
Conclusion
</a><ul class="courseSub">
<li>
<a id="sub_section-160" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-filling_in_the_layout_what_we_learned_in_this_chapter"><span class="courseSec-num">5.5.1</span>
What we learned in this chapter
</a></li>
</ul>
</li>
</ul>
</li>
<li class="courseCh">
<a id="chapter-1977" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users">6. Modeling users
</a><ul class="courseSecWr">
<li class="courseSec">
<a id="chapter_section-105" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-user_model"><span class="courseSec-num">6.1</span>
User model
</a><ul class="courseSub">
<li>
<a id="sub_section-161" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-database_migrations"><span class="courseSec-num">6.1.1</span>
Database migrations
</a></li>
<li>
<a id="sub_section-162" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-the_model_file"><span class="courseSec-num">6.1.2</span>
The model file
</a></li>
<li>
<a id="sub_section-163" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-creating_user_objects"><span class="courseSec-num">6.1.3</span>
Creating user objects
</a></li>
<li>
<a id="sub_section-164" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-finding_user_objects"><span class="courseSec-num">6.1.4</span>
Finding user objects
</a></li>
<li>
<a id="sub_section-165" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-updating_user_objects"><span class="courseSec-num">6.1.5</span>
Updating user objects
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-106" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-user_validations"><span class="courseSec-num">6.2</span>
User validations
</a><ul class="courseSub">
<li>
<a id="sub_section-166" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-a_validity_test"><span class="courseSec-num">6.2.1</span>
A validity test
</a></li>
<li>
<a id="sub_section-167" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-presence_validation"><span class="courseSec-num">6.2.2</span>
Validating presence
</a></li>
<li>
<a id="sub_section-168" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-length_validation"><span class="courseSec-num">6.2.3</span>
Length validation
</a></li>
<li>
<a id="sub_section-169" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-format_validation"><span class="courseSec-num">6.2.4</span>
Format validation
</a></li>
<li>
<a id="sub_section-170" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-uniqueness_validation"><span class="courseSec-num">6.2.5</span>
Uniqueness validation
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-107" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-adding_a_secure_password"><span class="courseSec-num">6.3</span>
Adding a secure password
</a><ul class="courseSub">
<li>
<a id="sub_section-171" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-a_hashed_password"><span class="courseSec-num">6.3.1</span>
A hashed password
</a></li>
<li>
<a id="sub_section-172" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-has_secure_password"><span class="courseSec-num">6.3.2</span>
User has secure password
</a></li>
<li>
<a id="sub_section-173" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-minimum_password_standards"><span class="courseSec-num">6.3.3</span>
Minimum password standards
</a></li>
<li>
<a id="sub_section-174" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-creating_and_authenticating_a_user"><span class="courseSec-num">6.3.4</span>
Creating and authenticating a user
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-108" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-modeling_users_conclusion"><span class="courseSec-num">6.4</span>
Conclusion
</a><ul class="courseSub">
<li>
<a id="sub_section-175" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-modeling_users_what_we_learned_in_this_chapter"><span class="courseSec-num">6.4.1</span>
What we learned in this chapter
</a></li>
</ul>
</li>
</ul>
</li>
<li class="courseCh">
<a id="chapter-2005" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up" class="courseCurrent">7. Sign up
</a><ul class="courseSecWr">
<li class="courseSec">
<a id="chapter_section-119" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-showing_users"><span class="courseSec-num">7.1</span>
Showing users
</a><ul class="courseSub">
<li>
<a id="sub_section-176" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-rails_environments"><span class="courseSec-num">7.1.1</span>
Debug and Rails environments
</a></li>
<li>
<a id="sub_section-177" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_users_resource"><span class="courseSec-num">7.1.2</span>
A Users resource
</a></li>
<li>
<a id="sub_section-178" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-debugger"><span class="courseSec-num">7.1.3</span>
Debugger
</a></li>
<li>
<a id="sub_section-179" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_gravatar_image"><span class="courseSec-num">7.1.4</span>
A Gravatar image and a sidebar
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-120" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-signup_form"><span class="courseSec-num">7.2</span>
Signup form
</a><ul class="courseSub">
<li>
<a id="sub_section-180" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-using_form_for"><span class="courseSec-num">7.2.1</span>
Using formfor
</a></li>
<li>
<a id="sub_section-181" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-the_form_html"><span class="courseSec-num">7.2.2</span>
Signup form HTML
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-121" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-unsuccessful_signups"><span class="courseSec-num">7.3</span>
Unsuccessful signups
</a><ul class="courseSub">
<li>
<a id="sub_section-182" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_working_form"><span class="courseSec-num">7.3.1</span>
A working form
</a></li>
<li>
<a id="sub_section-183" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-strong_parameters"><span class="courseSec-num">7.3.2</span>
Strong parameters
</a></li>
<li>
<a id="sub_section-184" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-signup_error_messages"><span class="courseSec-num">7.3.3</span>
Signup error messages
</a></li>
<li>
<a id="sub_section-185" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_test_for_invalid_submission"><span class="courseSec-num">7.3.4</span>
A test for invalid submission
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-122" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-successful_signups"><span class="courseSec-num">7.4</span>
Successful signups
</a><ul class="courseSub">
<li>
<a id="sub_section-186" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-the_finished_signup_form"><span class="courseSec-num">7.4.1</span>
The finished signup form
</a></li>
<li>
<a id="sub_section-187" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-the_flash"><span class="courseSec-num">7.4.2</span>
The flash
</a></li>
<li>
<a id="sub_section-188" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-the_first_signup"><span class="courseSec-num">7.4.3</span>
The first signup
</a></li>
<li>
<a id="sub_section-189" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_test_for_valid_submission"><span class="courseSec-num">7.4.4</span>
A test for valid submission
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-123" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-professional_grade_deployment"><span class="courseSec-num">7.5</span>
Professional-grade deployment
</a><ul class="courseSub">
<li>
<a id="sub_section-190" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-ssl_in_production"><span class="courseSec-num">7.5.1</span>
SSL in production
</a></li>
<li>
<a id="sub_section-191" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-production_webserver"><span class="courseSec-num">7.5.2</span>
Production webserver
</a></li>
<li>
<a id="sub_section-1318" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-production_database_configuration"><span class="courseSec-num">7.5.3</span>
Production database configuration
</a></li>
<li>
<a id="sub_section-194" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-production_deployment"><span class="courseSec-num">7.5.4</span>
Production deployment
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-124" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-sign_up_conclusion"><span class="courseSec-num">7.6</span>
Conclusion
</a><ul class="courseSub">
<li>
<a id="sub_section-193" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-sign_up_what_we_learned_in_this_chapter"><span class="courseSec-num">7.6.1</span>
What we learned in this chapter
</a></li>
</ul>
</li>
</ul>
</li>
<li class="courseCh">
<a id="chapter-2006" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login">8. Basic login
</a><ul class="courseSecWr">
<li class="courseSec">
<a id="chapter_section-126" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-sessions_and_failed_login"><span class="courseSec-num">8.1</span>
Sessions
</a><ul class="courseSub">
<li>
<a id="sub_section-195" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-sessions_controller"><span class="courseSec-num">8.1.1</span>
Sessions controller
</a></li>
<li>
<a id="sub_section-196" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-login_form"><span class="courseSec-num">8.1.2</span>
Login form
</a></li>
<li>
<a id="sub_section-197" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-finding_and_authenticating_a_user"><span class="courseSec-num">8.1.3</span>
Finding and authenticating a user
</a></li>
<li>
<a id="sub_section-198" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-rendering_with_a_flash_message"><span class="courseSec-num">8.1.4</span>
Rendering with a flash message
</a></li>
<li>
<a id="sub_section-199" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-a_flash_test"><span class="courseSec-num">8.1.5</span>
A flash test
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-127" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-logging_in"><span class="courseSec-num">8.2</span>
Logging in
</a><ul class="courseSub">
<li>
<a id="sub_section-200" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-a_working_log_in_method"><span class="courseSec-num">8.2.1</span>
The login method
</a></li>
<li>
<a id="sub_section-201" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-current_user"><span class="courseSec-num">8.2.2</span>
Current user
</a></li>
<li>
<a id="sub_section-202" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-changing_the_layout_links"><span class="courseSec-num">8.2.3</span>
Changing the layout links
</a></li>
<li>
<a id="sub_section-203" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-testing_layout_changes"><span class="courseSec-num">8.2.4</span>
Testing layout changes
</a></li>
<li>
<a id="sub_section-204" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-login_upon_signup"><span class="courseSec-num">8.2.5</span>
Login upon signup
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-128" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-logging_out"><span class="courseSec-num">8.3</span>
Logging out
</a></li>
<li class="courseSec">
<a id="chapter_section-129" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-basic_login_conclusion"><span class="courseSec-num">8.4</span>
Conclusion
</a><ul class="courseSub">
<li>
<a id="sub_section-205" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-basic_login_what_we_learned_in_this_chapter"><span class="courseSec-num">8.4.1</span>
What we learned in this chapter
</a></li>
</ul>
</li>
</ul>
</li>
<li class="courseCh">
<a id="chapter-2007" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login">9. Advanced login
</a><ul class="courseSecWr">
<li class="courseSec">
<a id="chapter_section-130" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login#sec-remember_me"><span class="courseSec-num">9.1</span>
Remember me
</a><ul class="courseSub">
<li>
<a id="sub_section-206" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login#sec-remember_token"><span class="courseSec-num">9.1.1</span>
Remember token and digest
</a></li>
<li>
<a id="sub_section-207" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login#sec-login_with_remembering"><span class="courseSec-num">9.1.2</span>
Login with remembering
</a></li>
<li>
<a id="sub_section-208" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login#sec-forgetting_users"><span class="courseSec-num">9.1.3</span>
Forgetting users
</a></li>
<li>
<a id="sub_section-209" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login#sec-two_subtle_bugs"><span class="courseSec-num">9.1.4</span>
Two subtle bugs
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-131" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login#sec-remember_me_checkbox"><span class="courseSec-num">9.2</span>
“Remember me” checkbox
</a></li>
<li class="courseSec">
<a id="chapter_section-132" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login#sec-remember_tests"><span class="courseSec-num">9.3</span>
Remember tests
</a><ul class="courseSub">
<li>
<a id="sub_section-210" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login#sec-testing_the_remember_me_box"><span class="courseSec-num">9.3.1</span>
Testing the “remember me” box
</a></li>
<li>
<a id="sub_section-211" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login#sec-testing_the_remember_branch"><span class="courseSec-num">9.3.2</span>
Testing the remember branch
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-133" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login#sec-advanced_login_conclusion"><span class="courseSec-num">9.4</span>
Conclusion
</a><ul class="courseSub">
<li>
<a id="sub_section-212" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login#sec-advanced_login_what_we_learned_in_this_chapter"><span class="courseSec-num">9.4.1</span>
What we learned in this chapter
</a></li>
</ul>
</li>
</ul>
</li>
<li class="courseCh">
<a id="chapter-2016" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users">10. Updating, showing, and deleting users
</a><ul class="courseSecWr">
<li class="courseSec">
<a id="chapter_section-148" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-updating_users"><span class="courseSec-num">10.1</span>
Updating users
</a><ul class="courseSub">
<li>
<a id="sub_section-213" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-edit_form"><span class="courseSec-num">10.1.1</span>
Edit form
</a></li>
<li>
<a id="sub_section-214" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-unsuccessful_edits"><span class="courseSec-num">10.1.2</span>
Unsuccessful edits
</a></li>
<li>
<a id="sub_section-215" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-testing_unsuccessful_edits"><span class="courseSec-num">10.1.3</span>
Testing unsuccessful edits
</a></li>
<li>
<a id="sub_section-216" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-successful_edits"><span class="courseSec-num">10.1.4</span>
Successful edits (with TDD)
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-149" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-authorization"><span class="courseSec-num">10.2</span>
Authorization
</a><ul class="courseSub">
<li>
<a id="sub_section-217" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-requiring_logged_in_users"><span class="courseSec-num">10.2.1</span>
Requiring logged-in users
</a></li>
<li>
<a id="sub_section-218" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-requiring_the_right_user"><span class="courseSec-num">10.2.2</span>
Requiring the right user
</a></li>
<li>
<a id="sub_section-219" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-friendly_forwarding"><span class="courseSec-num">10.2.3</span>
Friendly forwarding
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-150" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-showing_all_users"><span class="courseSec-num">10.3</span>
Showing all users
</a><ul class="courseSub">
<li>
<a id="sub_section-220" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-users_index"><span class="courseSec-num">10.3.1</span>
Users index
</a></li>
<li>
<a id="sub_section-221" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-sample_users"><span class="courseSec-num">10.3.2</span>
Sample users
</a></li>
<li>
<a id="sub_section-222" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-pagination"><span class="courseSec-num">10.3.3</span>
Pagination
</a></li>
<li>
<a id="sub_section-223" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-users_index_test"><span class="courseSec-num">10.3.4</span>
Users index test
</a></li>
<li>
<a id="sub_section-224" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-partial_refactoring"><span class="courseSec-num">10.3.5</span>
Partial refactoring
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-151" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-deleting_users"><span class="courseSec-num">10.4</span>
Deleting users
</a><ul class="courseSub">
<li>
<a id="sub_section-225" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-administrative_users"><span class="courseSec-num">10.4.1</span>
Administrative users
</a></li>
<li>
<a id="sub_section-226" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-the_destroy_action"><span class="courseSec-num">10.4.2</span>
The destroy action
</a></li>
<li>
<a id="sub_section-227" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-user_destroy_tests"><span class="courseSec-num">10.4.3</span>
User destroy tests
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-152" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-updating_and_deleting_users_conclusion"><span class="courseSec-num">10.5</span>
Conclusion
</a><ul class="courseSub">
<li>
<a id="sub_section-228" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-updating_what_we_learned_in_this_chapter"><span class="courseSec-num">10.5.1</span>
What we learned in this chapter
</a></li>
</ul>
</li>
</ul>
</li>
<li class="courseCh">
<a id="chapter-2017" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation">11. Account activation
</a><ul class="courseSecWr">
<li class="courseSec">
<a id="chapter_section-154" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-account_activations_resource"><span class="courseSec-num">11.1</span>
Account activations resource
</a><ul class="courseSub">
<li>
<a id="sub_section-229" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-account_activations_controller"><span class="courseSec-num">11.1.1</span>
Account activations controller
</a></li>
<li>
<a id="sub_section-230" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-account_activation_data_model"><span class="courseSec-num">11.1.2</span>
Account activation data model
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-155" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-account_activation_emails"><span class="courseSec-num">11.2</span>
Account activation emails
</a><ul class="courseSub">
<li>
<a id="sub_section-231" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-mailer_templates"><span class="courseSec-num">11.2.1</span>
Mailer templates
</a></li>
<li>
<a id="sub_section-232" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-email_previews"><span class="courseSec-num">11.2.2</span>
Email previews
</a></li>
<li>
<a id="sub_section-233" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-email_tests"><span class="courseSec-num">11.2.3</span>
Email tests
</a></li>
<li>
<a id="sub_section-234" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-updating_create"><span class="courseSec-num">11.2.4</span>
Updating the Users create action
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-156" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-activating_the_account"><span class="courseSec-num">11.3</span>
Activating the account
</a><ul class="courseSub">
<li>
<a id="sub_section-235" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-generalizing_the_authenticated_method"><span class="courseSec-num">11.3.1</span>
Generalizing the authenticated? method
</a></li>
<li>
<a id="sub_section-236" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-activation_edit_action"><span class="courseSec-num">11.3.2</span>
Activation edit action
</a></li>
<li>
<a id="sub_section-237" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-activation_test_and_refactoring"><span class="courseSec-num">11.3.3</span>
Activation test and refactoring
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-157" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-activation_email_in_production"><span class="courseSec-num">11.4</span>
Email in production
</a></li>
<li class="courseSec">
<a id="chapter_section-158" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-activation_conclusion"><span class="courseSec-num">11.5</span>
Conclusion
</a><ul class="courseSub">
<li>
<a id="sub_section-238" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-activation_what_we_learned_in_this_chapter"><span class="courseSec-num">11.5.1</span>
What we learned in this chapter
</a></li>
</ul>
</li>
</ul>
</li>
<li class="courseCh">
<a id="chapter-2018" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset">12. Password reset
</a><ul class="courseSecWr">
<li class="courseSec">
<a id="chapter_section-159" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-password_resets_resource"><span class="courseSec-num">12.1</span>
Password resets resource
</a><ul class="courseSub">
<li>
<a id="sub_section-239" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-password_resets_controller"><span class="courseSec-num">12.1.1</span>
Password resets controller
</a></li>
<li>
<a id="sub_section-240" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-new_password_resets"><span class="courseSec-num">12.1.2</span>
New password resets
</a></li>
<li>
<a id="sub_section-241" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-password_reset_create_action"><span class="courseSec-num">12.1.3</span>
Password reset create action
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-181" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-password_reset_emails"><span class="courseSec-num">12.2</span>
Password reset emails
</a><ul class="courseSub">
<li>
<a id="sub_section-810" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-password_reset_mailer"><span class="courseSec-num">12.2.1</span>
Password reset mailer and templates
</a></li>
<li>
<a id="sub_section-811" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-reset_email_tests"><span class="courseSec-num">12.2.2</span>
Email tests
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-161" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-resetting_the_password"><span class="courseSec-num">12.3</span>
Resetting the password
</a><ul class="courseSub">
<li>
<a id="sub_section-244" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-reset_edit_action"><span class="courseSec-num">12.3.1</span>
Reset edit action
</a></li>
<li>
<a id="sub_section-245" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-updating_the_reset"><span class="courseSec-num">12.3.2</span>
Updating the reset
</a></li>
<li>
<a id="sub_section-246" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-password_reset_test"><span class="courseSec-num">12.3.3</span>
Password reset test
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-162" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-reset_email_in_production"><span class="courseSec-num">12.4</span>
Email in production (take two)
</a></li>
<li class="courseSec">
<a id="chapter_section-163" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-resets_conclusion"><span class="courseSec-num">12.5</span>
Conclusion
</a><ul class="courseSub">
<li>
<a id="sub_section-247" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-activation_resets_what_we_learned_in_this_chapter"><span class="courseSec-num">12.5.1</span>
What we learned in this chapter
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-164" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/password_reset#sec-expiration_proof"><span class="courseSec-num">12.6</span>
Proof of expiration comparison
</a></li>
</ul>
</li>
<li class="courseCh">
<a id="chapter-2026" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts">13. User microposts
</a><ul class="courseSecWr">
<li class="courseSec">
<a id="chapter_section-194" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-a_micropost_model"><span class="courseSec-num">13.1</span>
A Micropost model
</a><ul class="courseSub">
<li>
<a id="sub_section-838" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-the_basic_model"><span class="courseSec-num">13.1.1</span>
The basic model
</a></li>
<li>
<a id="sub_section-839" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-micropost_validations"><span class="courseSec-num">13.1.2</span>
Micropost validations
</a></li>
<li>
<a id="sub_section-840" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-user_micropost_associations"><span class="courseSec-num">13.1.3</span>
User/Micropost associations
</a></li>
<li>
<a id="sub_section-841" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-ordering_and_dependency"><span class="courseSec-num">13.1.4</span>
Micropost refinements
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-195" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-showing_microposts"><span class="courseSec-num">13.2</span>
Showing microposts
</a><ul class="courseSub">
<li>
<a id="sub_section-842" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-rendering_microposts"><span class="courseSec-num">13.2.1</span>
Rendering microposts
</a></li>
<li>
<a id="sub_section-843" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-sample_microposts"><span class="courseSec-num">13.2.2</span>
Sample microposts
</a></li>
<li>
<a id="sub_section-844" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-profile_micropost_tests"><span class="courseSec-num">13.2.3</span>
Profile micropost tests
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-196" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-manipulating_microposts"><span class="courseSec-num">13.3</span>
Manipulating microposts
</a><ul class="courseSub">
<li>
<a id="sub_section-845" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-micropost_access_control"><span class="courseSec-num">13.3.1</span>
Micropost access control
</a></li>
<li>
<a id="sub_section-846" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-creating_microposts"><span class="courseSec-num">13.3.2</span>
Creating microposts
</a></li>
<li>
<a id="sub_section-847" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-a_proto_feed"><span class="courseSec-num">13.3.3</span>
A proto-feed
</a></li>
<li>
<a id="sub_section-848" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-destroying_microposts"><span class="courseSec-num">13.3.4</span>
Destroying microposts
</a></li>
<li>
<a id="sub_section-849" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-micropost_tests"><span class="courseSec-num">13.3.5</span>
Micropost tests
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-197" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-micropost_images"><span class="courseSec-num">13.4</span>
Micropost images
</a><ul class="courseSub">
<li>
<a id="sub_section-850" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-basic_image_upload"><span class="courseSec-num">13.4.1</span>
Basic image upload
</a></li>
<li>
<a id="sub_section-851" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-image_validation"><span class="courseSec-num">13.4.2</span>
Image validation
</a></li>
<li>
<a id="sub_section-852" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-image_resizing"><span class="courseSec-num">13.4.3</span>
Image resizing
</a></li>
<li>
<a id="sub_section-853" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-image_upload_in_production"><span class="courseSec-num">13.4.4</span>
Image upload in production
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-198" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-user_microposts_conclusion"><span class="courseSec-num">13.5</span>
Conclusion
</a><ul class="courseSub">
<li>
<a id="sub_section-854" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-user_microposts_what_we_learned_in_this_chapter"><span class="courseSec-num">13.5.1</span>
What we learned in this chapter
</a></li>
</ul>
</li>
</ul>
</li>
<li class="courseCh">
<a id="chapter-2027" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users">14. Following users
</a><ul class="courseSecWr">
<li class="courseSec">
<a id="chapter_section-199" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-the_relationship_model"><span class="courseSec-num">14.1</span>
The Relationship model
</a><ul class="courseSub">
<li>
<a id="sub_section-855" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-a_problem_with_the_data_model"><span class="courseSec-num">14.1.1</span>
A problem with the data model (and a solution)
</a></li>
<li>
<a id="sub_section-856" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-relationship_user_associations"><span class="courseSec-num">14.1.2</span>
User/relationship associations
</a></li>
<li>
<a id="sub_section-857" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-relationship_validations"><span class="courseSec-num">14.1.3</span>
Relationship validations
</a></li>
<li>
<a id="sub_section-858" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-following"><span class="courseSec-num">14.1.4</span>
Followed users
</a></li>
<li>
<a id="sub_section-859" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-followers"><span class="courseSec-num">14.1.5</span>
Followers
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-200" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-a_web_interface_for_following_and_followers"><span class="courseSec-num">14.2</span>
A web interface for following users
</a><ul class="courseSub">
<li>
<a id="sub_section-860" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-sample_following_data"><span class="courseSec-num">14.2.1</span>
Sample following data
</a></li>
<li>
<a id="sub_section-861" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-stats_and_a_follow_form"><span class="courseSec-num">14.2.2</span>
Stats and a follow form
</a></li>
<li>
<a id="sub_section-862" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-following_and_followers_pages"><span class="courseSec-num">14.2.3</span>
Following and followers pages
</a></li>
<li>
<a id="sub_section-863" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-a_working_follow_button_the_standard_way"><span class="courseSec-num">14.2.4</span>
A working follow button the standard way
</a></li>
<li>
<a id="sub_section-864" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-a_working_follow_button_with_ajax"><span class="courseSec-num">14.2.5</span>
A working follow button with Ajax
</a></li>
<li>
<a id="sub_section-865" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-following_tests"><span class="courseSec-num">14.2.6</span>
Following tests
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-201" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-the_status_feed"><span class="courseSec-num">14.3</span>
The status feed
</a><ul class="courseSub">
<li>
<a id="sub_section-866" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-motivation_and_strategy"><span class="courseSec-num">14.3.1</span>
Motivation and strategy
</a></li>
<li>
<a id="sub_section-867" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-a_first_feed_implementation"><span class="courseSec-num">14.3.2</span>
A first feed implementation
</a></li>
<li>
<a id="sub_section-868" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-scopes_subselects_and_a_lambda"><span class="courseSec-num">14.3.3</span>
Subselects
</a></li>
</ul>
</li>
<li class="courseSec">
<a id="chapter_section-202" class="j_courseSection" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-following_conclusion"><span class="courseSec-num">14.4</span>
Conclusion
</a><ul class="courseSub">
<li>
<a id="sub_section-869" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-guide_to_further_resources"><span class="courseSec-num">14.4.1</span>
Guide to further resources
</a></li>
<li>
<a id="sub_section-870" href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#sec-following_users_what_we_learned_in_this_chapter"><span class="courseSec-num">14.4.2</span>
What we learned in this chapter
</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

</nav>
<div id="dropBG"></div>
</div>

<div class="le-content">
<div class="header-push">
<div class="header-push-close" id="header-push-toggle">
<a class="push-close" href="javascript://"><svg class="svg-inline--fa fa-times fa-w-11" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" data-fa-i2svg=""><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg><!-- <i class="fas fa-times"></i> -->
</a><a class="push-open" href="javascript://"><svg class="svg-inline--fa fa-caret-square-down fa-w-14" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-square-down" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zM92.5 220.5l123 123c4.7 4.7 12.3 4.7 17 0l123-123c7.6-7.6 2.2-20.5-8.5-20.5H101c-10.7 0-16.1 12.9-8.5 20.5z"></path></svg><!-- <i class="fas fa-caret-square-down"></i> -->
</a></div>
<div class="header-push-content">
<div class="header-push-copy">
<div>
<h5>
Get Single Tutorial
<a href="http://www.learnenough.com/ruby-on-rails-4th-edition"><div class="btn btn-icon-reveal">
<span class="btn-tiny_text">MORE INFO</span>
<svg class="svg-inline--fa fa-arrow-circle-right fa-w-16" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-circle-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm-28.9 143.6l75.5 72.4H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h182.6l-75.5 72.4c-9.7 9.3-9.9 24.8-.4 34.3l11 10.9c9.4 9.4 24.6 9.4 33.9 0L404.3 273c9.4-9.4 9.4-24.6 0-33.9L271.6 106.3c-9.4-9.4-24.6-9.4-33.9 0l-11 10.9c-9.5 9.6-9.3 25.1.4 34.4z"></path></svg><!-- <i class="fas fa-arrow-circle-right"></i> -->
</div>
</a></h5>
<p><em>Ruby on Rails Tutorial (Rails 5)</em> is available as an ebook, an offline video series, and as a structured, self-paced online course. The course includes full online access to the book content, streaming videos, progress tracking, exercises, and community exercise answers.</p>
<div class="header-push-cta">
<a href="http://www.learnenough.com/ruby-on-rails-4th-edition#landing-pricing"><button class="btn-small btn-outline-yellow">See Options - Starting at $9</button>
</a></div>
</div>
<div>
<h5>
All Access Bundle
<a href="http://www.learnenough.com/all-access"><div class="btn btn-icon-reveal">
<span class="btn-tiny_text">MORE INFO</span>
<svg class="svg-inline--fa fa-arrow-circle-right fa-w-16" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-circle-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm-28.9 143.6l75.5 72.4H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h182.6l-75.5 72.4c-9.7 9.3-9.9 24.8-.4 34.3l11 10.9c9.4 9.4 24.6 9.4 33.9 0L404.3 273c9.4-9.4 9.4-24.6 0-33.9L271.6 106.3c-9.4-9.4-24.6-9.4-33.9 0l-11 10.9c-9.5 9.6-9.3 25.1.4 34.4z"></path></svg><!-- <i class="fas fa-arrow-circle-right"></i> -->
</div>
</a></h5>
<p>The Learn Enough All Access Bundle includes the entire Learn Enough introductory sequence and the full Ruby on Rails Tutorial. More than 2500 pages of book content and 53 hours of video that teach you to code from total beginner up to professional-grade web development.</p>
<div class="header-push-cta">
<a data-id="10" class="btn_addBundleToCart" href="javascript://"><button class="btn-small attention">
<svg class="svg-inline--fa fa-shopping-cart fa-w-18" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="shopping-cart" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"></path></svg><!-- <i class="fas fa-shopping-cart"></i> -->
Add to Cart :
<sup>$</sup>
49
<sub>/mo</sub>
</button>
</a></div>
</div>
</div>
</div>
<div class="header-push-content-closed">
Sign up for the course and get access to the full tutorial and streaming screencasts!
</div>
</div>

<div class="mainWr">
<div id="book">
<div class="j_sectionContent" data-html="&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/REC-html40/loose.dtd&quot;&gt;
&lt;html&gt;&lt;body&gt;
&lt;div id=&quot;cha-sign_up&quot; data-tralics-id=&quot;cid37&quot; class=&quot;chapter&quot; data-number=&quot;7&quot; data-chapter=&quot;sign_up&quot;&gt;
&lt;h1&gt;&lt;a href=&quot;sign_up_fragment.html#cha-sign_up&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;Chapter 7 &lt;/span&gt;Sign up&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt; &lt;span class=&quot;free&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now that we have a working User model, it’s time to add an ability few websites can live without: letting users sign up.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We’ll use an HTML &lt;em&gt;form&lt;/em&gt; to submit user signup information to our application (&lt;a href=&quot;sign_up_fragment.html#sec-signup_form&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.2&lt;/span&gt;&lt;/a&gt;), which will then be used to create a new user and save its attributes to the database (&lt;a href=&quot;sign_up_fragment.html#sec-successful_signups&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.4&lt;/span&gt;&lt;/a&gt;).&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; At the end of the signup process, it’s important to render a profile page with the newly created user’s information, so we’ll begin by making a page for &lt;em&gt;showing&lt;/em&gt; users, which will serve as the first step toward implementing the REST architecture for users (&lt;a href=&quot;toy_app_fragment.html#sec-mvc_in_action&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;2.2.2&lt;/span&gt;&lt;/a&gt;).&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Along the way, we’ll build on our work in &lt;a href=&quot;filling_in_the_layout_fragment.html#sec-layout_link_tests&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;5.3.4&lt;/span&gt;&lt;/a&gt; to write succinct and expressive integration tests.&lt;/p&gt;
&lt;p&gt;In this chapter, we’ll rely on the User model validations from &lt;a href=&quot;modeling_users_fragment.html#cha-modeling_users&quot; class=&quot;hyperref&quot;&gt;Chapter &lt;span class=&quot;ref&quot;&gt;6&lt;/span&gt;&lt;/a&gt; to increase the odds of new users having valid email addresses.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In &lt;a href=&quot;account_activation_fragment.html#cha-account_activation&quot; class=&quot;hyperref&quot;&gt;Chapter &lt;span class=&quot;ref&quot;&gt;11&lt;/span&gt;&lt;/a&gt;, we’ll make &lt;em&gt;sure&lt;/em&gt; of email validity by adding a separate &lt;em&gt;account activation&lt;/em&gt; step to user signup.&lt;/p&gt;
&lt;p&gt;Although this tutorial is designed to be as simple as possible while still being professional-grade, web development is a complicated subject, and &lt;a href=&quot;sign_up_fragment.html#cha-sign_up&quot; class=&quot;hyperref&quot;&gt;Chapter &lt;span class=&quot;ref&quot;&gt;7&lt;/span&gt;&lt;/a&gt; necessarily marks a significant increase in the difficulty of the exposition.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; I recommend taking your time with the material and reviewing it as necessary.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (Some readers have reported simply doing the chapter twice is a helpful exercise.)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; You might also consider joining the &lt;a href=&quot;https://www.learnenough.com/story&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; to gain additional assistance, both with this tutorial and with its relevant prerequisites (especially &lt;a href=&quot;https://www.learnenough.com/ruby&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;em&gt;Learn Enough Ruby to Be Dangerous&lt;/em&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;cha-7_footnotes&quot;&gt;
  &lt;div class=&quot;footnotes&quot;&gt;
    &lt;div id=&quot;cha-7_footnote-1&quot; class=&quot;footnote&quot;&gt; &lt;a href=&quot;http://gomockingbird.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Mockingbird&lt;/a&gt; doesn’t support custom images like the profile photo in &lt;a href=&quot;sign_up_fragment.html#fig-profile_mockup_profile_name&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.1&lt;/span&gt;&lt;/a&gt;; I put that in by hand using &lt;a href=&quot;http://www.gimp.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GIMP&lt;/a&gt;.&lt;/div&gt;
    &lt;div id=&quot;cha-7_footnote-2&quot; class=&quot;footnote&quot;&gt; Image retrieved from http://www.flickr.com/photos/43803060@N00/24308857/ on 2014-06-16.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Copyright © 2002 by Shaun Wallin and used unaltered under the terms of the &lt;a href=&quot;https://creativecommons.org/licenses/by/2.0/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Creative Commons Attribution 2.0 Generic&lt;/a&gt; license.&lt;/div&gt;
    &lt;div id=&quot;cha-7_footnote-3&quot; class=&quot;footnote&quot;&gt; You can define your own custom environments as well; see the &lt;a href=&quot;http://railscasts.com/episodes/72-adding-an-environment&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;RailsCast on adding an environment&lt;/a&gt; for details.&lt;/div&gt;
    &lt;div id=&quot;cha-7_footnote-4&quot; class=&quot;footnote&quot;&gt; The exact appearance of the Rails debug information is slightly version-dependent.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; For example, as of Rails 5 the debug information shows the &lt;code&gt;permitted&lt;/code&gt; status of the information, a subject we’ll cover in &lt;a href=&quot;sign_up_fragment.html#sec-strong_parameters&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.3.2&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Use your technical sophistication (&lt;a href=&quot;beginning_fragment.html#aside-technical_sophistication&quot; class=&quot;hyperref&quot;&gt;Box &lt;span class=&quot;ref&quot;&gt;1.1&lt;/span&gt;&lt;/a&gt;) to resolve such minor discrepancies.&lt;/div&gt;
    &lt;div id=&quot;cha-7_footnote-5&quot; class=&quot;footnote&quot;&gt; The Rails &lt;code&gt;debug&lt;/code&gt; information is shown as &lt;a href=&quot;http://www.yaml.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;YAML&lt;/a&gt; (a &lt;a href=&quot;http://catb.org/jargon/html/R/recursive-acronym.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;recursive acronym&lt;/a&gt; standing for “YAML Ain’t Markup Language”), which is a friendly data format designed to be both machine- &lt;em&gt;and&lt;/em&gt; human-readable.&lt;/div&gt;
    &lt;div id=&quot;cha-7_footnote-6&quot; class=&quot;footnote&quot;&gt; This means that the &lt;em&gt;routing&lt;/em&gt; works, but the corresponding pages don’t necessarily work at this point.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; For example, /users/1/edit gets routed properly to the &lt;code&gt;edit&lt;/code&gt; action of the Users controller, but since the &lt;code&gt;edit&lt;/code&gt; action doesn’t exist yet actually hitting that URL will return an error.&lt;/div&gt;
    &lt;div id=&quot;cha-7_footnote-7&quot; class=&quot;footnote&quot;&gt; Using, e.g., &lt;code&gt;touch app/views/users/show.html.erb&lt;/code&gt;.&lt;/div&gt;
    &lt;div id=&quot;cha-7_footnote-8&quot; class=&quot;footnote&quot;&gt; In Hinduism, an avatar is the manifestation of a deity in human or animal form.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; By extension, the term &lt;em&gt;avatar&lt;/em&gt; is commonly used to mean some kind of personal representation, especially in a virtual environment.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (In the context of Twitter and other social media, the term &lt;em&gt;avi&lt;/em&gt; has gained currency, which is likely a mutated form of &lt;em&gt;avatar&lt;/em&gt;.)&lt;/div&gt;
    &lt;div id=&quot;cha-7_footnote-9&quot; class=&quot;footnote&quot;&gt; &lt;a href=&quot;sign_up_fragment.html#code-sidebar_css&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.11&lt;/span&gt;&lt;/a&gt; includes the &lt;code&gt;.gravatar_edit&lt;/code&gt; class, which we’ll put to work in &lt;a href=&quot;updating_and_deleting_users_fragment.html#cha-updating_showing_and_deleting_users&quot; class=&quot;hyperref&quot;&gt;Chapter &lt;span class=&quot;ref&quot;&gt;10&lt;/span&gt;&lt;/a&gt;.&lt;/div&gt;
    &lt;div id=&quot;cha-7_footnote-10&quot; class=&quot;footnote&quot;&gt; See the &lt;a href=&quot;http://stackoverflow.com/questions/941594/understand-rails-authenticity-token&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Stack Overflow entry on the Rails authenticity token&lt;/a&gt; if you’re interested in the details of how this works.&lt;/div&gt;
    &lt;div id=&quot;cha-7_footnote-11&quot; class=&quot;footnote&quot;&gt; Actually, we’ll use the closely related &lt;code&gt;flash.now&lt;/code&gt;, but we’ll defer that subtlety until we need it.&lt;/div&gt;
    &lt;div id=&quot;cha-7_footnote-12&quot; class=&quot;footnote&quot;&gt; Technically, SSL is now TLS, for Transport Layer Security, but everyone I know still says “SSL”.&lt;/div&gt;
    &lt;div id=&quot;cha-7_footnote-13&quot; class=&quot;footnote&quot;&gt; &lt;a href=&quot;sign_up_fragment.html#code-production_webserver_config&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.37&lt;/span&gt;&lt;/a&gt; changes the formatting slightly so that the code fits in the standard 80 columns.&lt;/div&gt;
    &lt;div id=&quot;cha-7_footnote-14&quot; class=&quot;footnote&quot;&gt; We haven’t changed the data model in this chapter, so running the migration at Heroku shouldn’t be necessary, but only if you followed the steps in &lt;a href=&quot;modeling_users_fragment.html#sec-modeling_users_conclusion&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;6.4&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Because several readers reported having trouble, I’ve added &lt;code&gt;heroku run rails db:migrate&lt;/code&gt; as a final step just to be safe.&lt;/div&gt;
    &lt;div id=&quot;cha-7_footnote-15&quot; class=&quot;footnote&quot;&gt; For example, at one point Heroku required Ruby 2.1.4, so I spent several hours trying unsuccessfully to install Ruby 2.1.4 on my local machine—only to discover that Ruby 2.1.5 had been released the previous day.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Attempts to install Ruby 2.1.5 then also failed.&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;&lt;/html&gt;"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book">

<div id="cha-sign_up" data-tralics-id="cid37" class="chapter" data-number="7" data-chapter="sign_up">
<h1><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-sign_up" class="heading hyperref"><span class="number">Chapter 7 </span>Sign up</a></h1>
<p> <span class="free"></span></p>
<p>Now that we have a working User model, it’s time to add an ability few websites can live without: letting users sign up.<span class="intersentencespace"></span> We’ll use an HTML <em>form</em> to submit user signup information to our application (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-signup_form" class="hyperref">Section&nbsp;<span class="ref">7.2</span></a>), which will then be used to create a new user and save its attributes to the database (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-successful_signups" class="hyperref">Section&nbsp;<span class="ref">7.4</span></a>).<span class="intersentencespace"></span> At the end of the signup process, it’s important to render a profile page with the newly created user’s information, so we’ll begin by making a page for <em>showing</em> users, which will serve as the first step toward implementing the REST architecture for users (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-mvc_in_action" class="hyperref">Section&nbsp;<span class="ref">2.2.2</span></a>).<span class="intersentencespace"></span> Along the way, we’ll build on our work in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-layout_link_tests" class="hyperref">Section&nbsp;<span class="ref">5.3.4</span></a> to write succinct and expressive integration tests.</p>
<p>In this chapter, we’ll rely on the User model validations from <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#cha-modeling_users" class="hyperref">Chapter&nbsp;<span class="ref">6</span></a> to increase the odds of new users having valid email addresses.<span class="intersentencespace"></span> In <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#cha-account_activation" class="hyperref">Chapter&nbsp;<span class="ref">11</span></a>, we’ll make <em>sure</em> of email validity by adding a separate <em>account activation</em> step to user signup.</p>
<p>Although this tutorial is designed to be as simple as possible while still being professional-grade, web development is a complicated subject, and <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-sign_up" class="hyperref">Chapter&nbsp;<span class="ref">7</span></a> necessarily marks a significant increase in the difficulty of the exposition.<span class="intersentencespace"></span> I recommend taking your time with the material and reviewing it as necessary.<span class="intersentencespace"></span> (Some readers have reported simply doing the chapter twice is a helpful exercise.)<span class="intersentencespace"></span> You might also consider joining the <a href="https://www.learnenough.com/story" target="_blank" rel="noopener">Learn Enough Society</a> to gain additional assistance, both with this tutorial and with its relevant prerequisites (especially <a href="https://www.learnenough.com/ruby" target="_blank" rel="noopener"><em>Learn Enough Ruby to Be Dangerous</em></a>).</p>
</div>
<div id="cha-7_footnotes">
  <div class="footnotes" style="display: none;">
    <div id="cha-7_footnote-1" class="footnote"> <a href="http://gomockingbird.com/" target="_blank" rel="noopener">Mockingbird</a> doesn’t support custom images like the profile photo in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-profile_mockup_profile_name" class="hyperref">Figure&nbsp;<span class="ref">7.1</span></a>; I put that in by hand using <a href="http://www.gimp.org/" target="_blank" rel="noopener">GIMP</a>.</div>
    <div id="cha-7_footnote-2" class="footnote"> Image retrieved from http://www.flickr.com/photos/43803060@N00/24308857/ on 2014-06-16.<span class="intersentencespace"></span> Copyright © 2002 by Shaun Wallin and used unaltered under the terms of the <a href="https://creativecommons.org/licenses/by/2.0/" target="_blank" rel="noopener">Creative Commons Attribution 2.0 Generic</a> license.</div>
    <div id="cha-7_footnote-3" class="footnote"> You can define your own custom environments as well; see the <a href="http://railscasts.com/episodes/72-adding-an-environment" target="_blank" rel="noopener">RailsCast on adding an environment</a> for details.</div>
    <div id="cha-7_footnote-4" class="footnote"> The exact appearance of the Rails debug information is slightly version-dependent.<span class="intersentencespace"></span> For example, as of Rails&nbsp;5 the debug information shows the <code>permitted</code> status of the information, a subject we’ll cover in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-strong_parameters" class="hyperref">Section&nbsp;<span class="ref">7.3.2</span></a>.<span class="intersentencespace"></span> Use your technical sophistication (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#aside-technical_sophistication" class="hyperref">Box&nbsp;<span class="ref">1.1</span></a>) to resolve such minor discrepancies.</div>
    <div id="cha-7_footnote-5" class="footnote"> The Rails <code>debug</code> information is shown as <a href="http://www.yaml.org/" target="_blank" rel="noopener">YAML</a> (a <a href="http://catb.org/jargon/html/R/recursive-acronym.html" target="_blank" rel="noopener">recursive acronym</a> standing for “YAML Ain’t Markup Language”), which is a friendly data format designed to be both machine- <em>and</em> human-readable.</div>
    <div id="cha-7_footnote-6" class="footnote"> This means that the <em>routing</em> works, but the corresponding pages don’t necessarily work at this point.<span class="intersentencespace"></span> For example, /users/1/edit gets routed properly to the <code>edit</code> action of the Users controller, but since the <code>edit</code> action doesn’t exist yet actually hitting that URL will return an error.</div>
    <div id="cha-7_footnote-7" class="footnote"> Using, e.g., <code>touch app/views/users/show.html.erb</code>.</div>
    <div id="cha-7_footnote-8" class="footnote"> In Hinduism, an avatar is the manifestation of a deity in human or animal form.<span class="intersentencespace"></span> By extension, the term <em>avatar</em> is commonly used to mean some kind of personal representation, especially in a virtual environment.<span class="intersentencespace"></span> (In the context of Twitter and other social media, the term <em>avi</em> has gained currency, which is likely a mutated form of <em>avatar</em>.)</div>
    <div id="cha-7_footnote-9" class="footnote"> <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-sidebar_css" class="hyperref">Listing&nbsp;<span class="ref">7.11</span></a> includes the <code>.gravatar_edit</code> class, which we’ll put to work in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#cha-updating_showing_and_deleting_users" class="hyperref">Chapter&nbsp;<span class="ref">10</span></a>.</div>
    <div id="cha-7_footnote-10" class="footnote"> See the <a href="http://stackoverflow.com/questions/941594/understand-rails-authenticity-token" target="_blank" rel="noopener">Stack Overflow entry on the Rails authenticity token</a> if you’re interested in the details of how this works.</div>
    <div id="cha-7_footnote-11" class="footnote"> Actually, we’ll use the closely related <code>flash.now</code>, but we’ll defer that subtlety until we need it.</div>
    <div id="cha-7_footnote-12" class="footnote"> Technically, SSL is now TLS, for Transport Layer Security, but everyone I know still says “SSL”.</div>
    <div id="cha-7_footnote-13" class="footnote"> <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-production_webserver_config" class="hyperref">Listing&nbsp;<span class="ref">7.37</span></a> changes the formatting slightly so that the code fits in the standard 80 columns.</div>
    <div id="cha-7_footnote-14" class="footnote"> We haven’t changed the data model in this chapter, so running the migration at Heroku shouldn’t be necessary, but only if you followed the steps in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-modeling_users_conclusion" class="hyperref">Section&nbsp;<span class="ref">6.4</span></a>.<span class="intersentencespace"></span> Because several readers reported having trouble, I’ve added <code>heroku run rails db:migrate</code> as a final step just to be safe.</div>
    <div id="cha-7_footnote-15" class="footnote"> For example, at one point Heroku required Ruby 2.1.4, so I spent several hours trying unsuccessfully to install Ruby 2.1.4 on my local machine—only to discover that Ruby 2.1.5 had been released the previous day.<span class="intersentencespace"></span> Attempts to install Ruby 2.1.5 then also failed.</div>
  </div>
</div>
</div></div></div>
<div class="j_sectionContent" data-html="&lt;div id=&quot;sec-showing_users&quot; data-tralics-id=&quot;cid38&quot; class=&quot;section&quot; data-number=&quot;7.1&quot;&gt;
&lt;h2&gt;&lt;a href=&quot;sign_up_fragment.html#sec-showing_users&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.1 &lt;/span&gt;Showing users&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;In this section, we’ll take the first steps toward the final profile by making a page to display a user’s name and profile photo, as indicated by the mockup in &lt;a href=&quot;sign_up_fragment.html#fig-profile_mockup_profile_name&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.1&lt;/span&gt;&lt;/a&gt;.&lt;sup id=&quot;cha-7_footnote-ref-1&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Our eventual goal for the user profile pages is to show the user’s profile image, basic user data, and a list of microposts, as mocked up in &lt;a href=&quot;sign_up_fragment.html#fig-profile_mockup&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.2&lt;/span&gt;&lt;/a&gt;.&lt;sup id=&quot;cha-7_footnote-ref-2&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (&lt;a href=&quot;sign_up_fragment.html#fig-profile_mockup&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.2&lt;/span&gt;&lt;/a&gt; has our first example of &lt;em&gt;lorem ipsum&lt;/em&gt; text, which has a &lt;a href=&quot;http://www.straightdope.com/columns/read/2290/what-does-the-filler-text-lorem-ipsum-mean&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;fascinating story&lt;/a&gt; that you should definitely read about some time.)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We’ll complete this task, and with it the sample application, in &lt;a href=&quot;following_users_fragment.html#cha-following_users&quot; class=&quot;hyperref&quot;&gt;Chapter &lt;span class=&quot;ref&quot;&gt;14&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If you’re following along with version control, make a topic branch as usual:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt; git checkout -b sign-up
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-profile_mockup_profile_name&quot; data-tralics-id=&quot;uid820&quot; data-number=&quot;7.1&quot;&gt;
&lt;div class=&quot;graphics image box&quot;&gt;&lt;img src=&quot;images/figures/profile_mockup_profile_name_bootstrap.png&quot; alt=&quot;images/figures/profile_mockup_profile_name_bootstrap&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.1: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;A mockup of the user profile made in this section.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-profile_mockup&quot; data-tralics-id=&quot;uid821&quot; data-number=&quot;7.2&quot;&gt;
&lt;div class=&quot;graphics image box&quot;&gt;&lt;img src=&quot;images/figures/profile_mockup_bootstrap.png&quot; alt=&quot;images/figures/profile_mockup_bootstrap&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.2: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;A mockup of our best guess at the final profile page.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;



&lt;/div&gt;"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-showing_users" data-tralics-id="cid38" class="section" data-number="7.1">
<h2><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-showing_users" class="heading hyperref"><span class="number">7.1 </span>Showing users</a></h2>
<p>In this section, we’ll take the first steps toward the final profile by making a page to display a user’s name and profile photo, as indicated by the mockup in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-profile_mockup_profile_name" class="hyperref">Figure&nbsp;<span class="ref">7.1</span></a>.<sup id="cha-7_footnote-ref-1" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-1" data-hasqtip="7">1</a></sup><span class="intersentencespace"></span> Our eventual goal for the user profile pages is to show the user’s profile image, basic user data, and a list of microposts, as mocked up in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-profile_mockup" class="hyperref">Figure&nbsp;<span class="ref">7.2</span></a>.<sup id="cha-7_footnote-ref-2" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-2" data-hasqtip="8">2</a></sup><span class="intersentencespace"></span> (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-profile_mockup" class="hyperref">Figure&nbsp;<span class="ref">7.2</span></a> has our first example of <em>lorem ipsum</em> text, which has a <a href="http://www.straightdope.com/columns/read/2290/what-does-the-filler-text-lorem-ipsum-mean" target="_blank" rel="noopener">fascinating story</a> that you should definitely read about some time.)<span class="intersentencespace"></span> We’ll complete this task, and with it the sample application, in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/following_users#cha-following_users" class="hyperref">Chapter&nbsp;<span class="ref">14</span></a>.</p>
<p>If you’re following along with version control, make a topic branch as usual:</p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> git checkout -b sign-up
</pre></div></div>
<div class="center figure" id="fig-profile_mockup_profile_name" data-tralics-id="uid820" data-number="7.1">
<div class="graphics image box"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/profile_mockup_profile_name_bootstrap.png" alt="images/figures/profile_mockup_profile_name_bootstrap"></div>
<div class="caption">
<span class="header">Figure 7.1: </span><span class="description">A mockup of the user profile made in this section.
</span>
</div>
</div>
<div class="center figure" id="fig-profile_mockup" data-tralics-id="uid821" data-number="7.2">
<div class="graphics image box"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/profile_mockup_bootstrap.png" alt="images/figures/profile_mockup_bootstrap"></div>
<div class="caption">
<span class="header">Figure 7.2: </span><span class="description">A mockup of our best guess at the final profile page.
</span>
</div>
</div>



</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-rails_environments&quot; data-tralics-id=&quot;uid822&quot; class=&quot;subsection&quot; data-number=&quot;7.1.1&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-rails_environments&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.1.1 &lt;/span&gt;Debug and Rails environments&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The profiles in this section will be the first truly dynamic pages in our application.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Although the view will exist as a single page of code, each profile will be customized using information retrieved from the application’s database.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; As preparation for adding dynamic pages to our sample application, now is a good time to add some debug information to our site layout (&lt;a href=&quot;sign_up_fragment.html#code-rails_debug&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.1&lt;/span&gt;&lt;/a&gt;).&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This displays some useful information about each page using the built-in &lt;code&gt;debug&lt;/code&gt; method and &lt;code&gt;params&lt;/code&gt; variable (which we’ll learn more about in &lt;a href=&quot;sign_up_fragment.html#sec-a_users_resource&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.1.2&lt;/span&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-rails_debug&quot; data-tralics-id=&quot;uid823&quot; data-number=&quot;7.1&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.1:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Adding some debug information to the site layout.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/views/layouts/application.html.erb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
  .
  .
  .
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;layouts/header&#39;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;container&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;layouts/footer&#39;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;development?&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Since we don’t want to display debug information to users of a deployed application, &lt;a href=&quot;sign_up_fragment.html#code-rails_debug&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.1&lt;/span&gt;&lt;/a&gt; uses&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;development?&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to restrict the debug information to the &lt;em&gt;development environment&lt;/em&gt;, which is one of three environments defined by default in Rails (&lt;a href=&quot;sign_up_fragment.html#aside-rails_environments&quot; class=&quot;hyperref&quot;&gt;Box &lt;span class=&quot;ref&quot;&gt;7.1&lt;/span&gt;&lt;/a&gt;).&lt;sup id=&quot;cha-7_footnote-ref-3&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-3&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In particular, &lt;code&gt;Rails.env.development?&lt;/code&gt; is &lt;code&gt;true&lt;/code&gt; only in a development environment, so the embedded Ruby&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;development?&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;won’t be inserted into production applications or tests.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (Inserting the debug information into tests probably wouldn’t do any harm, but it probably wouldn’t do any good, either, so it’s best to restrict the debug display to development only.)&lt;/p&gt;
&lt;div class=&quot;aside&quot; id=&quot;aside-rails_environments&quot; data-tralics-id=&quot;uid825&quot; data-number=&quot;7.1&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Box 7.1.&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Rails environments&lt;/span&gt;
&lt;/div&gt;
&lt;p&gt;Rails comes equipped with three environments: &lt;code class=&quot;tt&quot;&gt;test&lt;/code&gt;, &lt;code class=&quot;tt&quot;&gt;development&lt;/code&gt;, and &lt;code class=&quot;tt&quot;&gt;production&lt;/code&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The default environment for the Rails console is &lt;code class=&quot;tt&quot;&gt;development&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;  $ rails console
  Loading development environment
  &amp;gt;&amp;gt; Rails.env
  =&amp;gt; &quot;development&quot;
  &amp;gt;&amp;gt; Rails.env.development?
  =&amp;gt; true
  &amp;gt;&amp;gt; Rails.env.test?
  =&amp;gt; false&lt;/pre&gt;
&lt;p&gt;As you can see, Rails provides a &lt;code class=&quot;tt&quot;&gt;Rails&lt;/code&gt; object with an &lt;code class=&quot;tt&quot;&gt;env&lt;/code&gt; attribute and associated environment boolean methods, so that, for example, &lt;code class=&quot;tt&quot;&gt;Rails.env.test?&lt;/code&gt; returns &lt;code class=&quot;tt&quot;&gt;true&lt;/code&gt; in a test environment and &lt;code class=&quot;tt&quot;&gt;false&lt;/code&gt; otherwise.&lt;/p&gt;
&lt;p&gt;If you ever need to run a console in a different environment (to debug a test, for example), you can pass the environment as a parameter to the &lt;code class=&quot;tt&quot;&gt;console&lt;/code&gt; script:&lt;/p&gt;
&lt;pre&gt;  $ rails console test
  Loading test environment
  &amp;gt;&amp;gt; Rails.env
  =&amp;gt; &quot;test&quot;
  &amp;gt;&amp;gt; Rails.env.test?
  =&amp;gt; true&lt;/pre&gt;
&lt;p&gt;As with the console, &lt;code class=&quot;tt&quot;&gt;development&lt;/code&gt; is the default environment for the Rails server, but you can also run it in a different environment:&lt;/p&gt;
&lt;pre&gt;  $ rails server --environment production&lt;/pre&gt;
&lt;p&gt;If you view your app running in production, it won’t work without a production database, which we can create by running &lt;code class=&quot;tt&quot;&gt;rails db:migrate&lt;/code&gt; in production:&lt;/p&gt;
&lt;pre&gt;  $ rails db:migrate RAILS_ENV=production&lt;/pre&gt;
&lt;p&gt;(I find it confusing that the idiomatic commands to run the console, server, and migrate commands in non-default environments use different syntax, which is why I bothered showing all three.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; It’s worth noting, though, that preceding any of them with &lt;code class=&quot;tt&quot;&gt;RAILS_ENV=&amp;lt;env&amp;gt;&lt;/code&gt; will also work, as in &lt;code class=&quot;tt&quot;&gt;RAILS_ENV=production rails server&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;By the way, if you have deployed your sample app to Heroku, you can see its environment using &lt;code class=&quot;tt&quot;&gt;heroku run rails console&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;  $ heroku run rails console
  &amp;gt;&amp;gt; Rails.env
  =&amp;gt; &quot;production&quot;
  &amp;gt;&amp;gt; Rails.env.production?
  =&amp;gt; true&lt;/pre&gt;
&lt;p&gt;Naturally, since Heroku is a platform for production sites, it runs each application in a production environment.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;p&gt;To make the debug output look nice, we’ll add some rules to the custom stylesheet created in &lt;a href=&quot;filling_in_the_layout_fragment.html#cha-filling_in_the_layout&quot; class=&quot;hyperref&quot;&gt;Chapter &lt;span class=&quot;ref&quot;&gt;5&lt;/span&gt;&lt;/a&gt;, as shown in &lt;a href=&quot;sign_up_fragment.html#code-mixin_and_debug&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.2&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-mixin_and_debug&quot; data-tralics-id=&quot;uid826&quot; data-number=&quot;7.2&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.2:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Adding code for a pretty debug box, including a Sass mixin.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/assets/stylesheets/custom.scss&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;@import&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bootstrap-sprockets&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;@import&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bootstrap&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/* mixins, variables, etc. */&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$gray-medium-light&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;#eaeaea&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;k&quot;&gt;@mixin&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt; box_sizing&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;na&quot;&gt;-moz-box-sizing&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;na&quot;&gt;-webkit-box-sizing&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;na&quot;&gt;box-sizing&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;         &lt;span class=&quot;no&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;o&quot;&gt;/*&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;miscellaneous&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*/&lt;/span&gt;
&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;nc&quot;&gt;.debug_dump&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;na&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;both&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;na&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;na&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;na&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;k&quot;&gt;@include&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt; box_sizing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This introduces the Sass &lt;em&gt;mixin&lt;/em&gt; facility, in this case called &lt;code&gt;box_sizing&lt;/code&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; A mixin allows a group of CSS rules to be packaged up and used for multiple elements, converting&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nc&quot;&gt;.debug_dump&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;box_sizing&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nc&quot;&gt;.debug_dump&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;-moz-box-sizing&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;-webkit-box-sizing&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;box-sizing&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;         &lt;span class=&quot;no&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We’ll put this mixin to use again in &lt;a href=&quot;sign_up_fragment.html#sec-using_form_for&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.2.1&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The result in the case of the debug box is shown in &lt;a href=&quot;sign_up_fragment.html#fig-home_page_with_debug&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.3&lt;/span&gt;&lt;/a&gt;.&lt;sup id=&quot;cha-7_footnote-ref-4&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-4&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-home_page_with_debug&quot; data-tralics-id=&quot;uid828&quot; data-number=&quot;7.3&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/home_page_with_debug_3rd_edition.png&quot; alt=&quot;images/figures/home_page_with_debug_3rd_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.3: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;The sample application Home page with debug information.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The debug output in &lt;a href=&quot;sign_up_fragment.html#fig-home_page_with_debug&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.3&lt;/span&gt;&lt;/a&gt; gives potentially useful information about the page being rendered:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;l-Scalar-Plain&quot;&gt;controller&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;static_pages&lt;/span&gt;
&lt;span class=&quot;l-Scalar-Plain&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;home&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is a YAML&lt;sup id=&quot;cha-7_footnote-ref-5&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-5&quot;&gt;5&lt;/a&gt;&lt;/sup&gt; representation of &lt;code&gt;params&lt;/code&gt;, which is basically a hash, and in this case identifies the controller and action for the page.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We’ll see another example in &lt;a href=&quot;sign_up_fragment.html#sec-a_users_resource&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.1.2&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div id=&quot;sec-exercises_rails_environments&quot; data-tralics-id=&quot;uid830&quot; class=&quot;subsubsection&quot; data-number=&quot;7.1.1.1&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-exercises_rails_environments&quot; class=&quot;heading&quot;&gt;Exercises&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;society-note&quot;&gt;
&lt;p&gt;Solutions to exercises are available for free with any Rails Tutorial &lt;a href=&quot;https://www.railstutorial.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;purchase&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see other people’s answers and to record your own, join the &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; at &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;learnenough.com/society&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;  &lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Visit /about in your browser and use the debug information to determine the controller and action of the &lt;code&gt;params&lt;/code&gt; hash. &lt;span class=&quot;exercise&quot; id=&quot;ex-4fe125&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;In the Rails console, pull the first user out of the database and assign it to the variable &lt;code&gt;user&lt;/code&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; What is the output of &lt;code&gt;puts user.attributes.to_yaml&lt;/code&gt;?&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Compare this to using the &lt;code&gt;y&lt;/code&gt; method via &lt;code&gt;y user.attributes&lt;/code&gt;. &lt;span class=&quot;exercise&quot; id=&quot;ex-ab8c3e&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="176"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-rails_environments" data-tralics-id="uid822" class="subsection" data-number="7.1.1">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-rails_environments" class="heading hyperref"><span class="number">7.1.1 </span>Debug and Rails environments</a></h3>
<p>The profiles in this section will be the first truly dynamic pages in our application.<span class="intersentencespace"></span> Although the view will exist as a single page of code, each profile will be customized using information retrieved from the application’s database.<span class="intersentencespace"></span> As preparation for adding dynamic pages to our sample application, now is a good time to add some debug information to our site layout (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-rails_debug" class="hyperref">Listing&nbsp;<span class="ref">7.1</span></a>).<span class="intersentencespace"></span> This displays some useful information about each page using the built-in <code>debug</code> method and <code>params</code> variable (which we’ll learn more about in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_users_resource" class="hyperref">Section&nbsp;<span class="ref">7.1.2</span></a>).</p>
<div class="codelisting" id="code-rails_debug" data-tralics-id="uid823" data-number="7.1">
<div class="heading">
<span class="number">Listing 7.1:</span> 

<span class="description">Adding some debug information to the site layout.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/views/layouts/application.html.erb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  .
  .
  .
  <span class="nt">&lt;body&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s1">'layouts/header'</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
      <span class="cp">&lt;%=</span> <span class="k">yield</span> <span class="cp">%&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s1">'layouts/footer'</span> <span class="cp">%&gt;</span>
<span class="hll">      <span class="cp">&lt;%=</span> <span class="n">debug</span><span class="p">(</span><span class="n">params</span><span class="p">)</span> <span class="k">if</span> <span class="no">Rails</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">development?</span> <span class="cp">%&gt;</span>
</span>    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div></div>
</div>
<p>Since we don’t want to display debug information to users of a deployed application, <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-rails_debug" class="hyperref">Listing&nbsp;<span class="ref">7.1</span></a> uses</p>
<div class="code"><div class="highlight"><pre><span class="k">if</span> <span class="no">Rails</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">development?</span>
</pre></div></div>
<p>to restrict the debug information to the <em>development environment</em>, which is one of three environments defined by default in Rails (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#aside-rails_environments" class="hyperref">Box&nbsp;<span class="ref">7.1</span></a>).<sup id="cha-7_footnote-ref-3" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-3" data-hasqtip="9">3</a></sup><span class="intersentencespace"></span> In particular, <code>Rails.env.development?</code> is <code>true</code> only in a development environment, so the embedded Ruby</p>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">debug</span><span class="p">(</span><span class="n">params</span><span class="p">)</span> <span class="k">if</span> <span class="no">Rails</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">development?</span> <span class="cp">%&gt;</span>
</pre></div></div>
<p>won’t be inserted into production applications or tests.<span class="intersentencespace"></span> (Inserting the debug information into tests probably wouldn’t do any harm, but it probably wouldn’t do any good, either, so it’s best to restrict the debug display to development only.)</p>
<div class="aside" id="aside-rails_environments" data-tralics-id="uid825" data-number="7.1">
<div class="heading">
<span class="number">Box 7.1.</span> 

<span class="description">Rails environments</span>
</div>
<p>Rails comes equipped with three environments: <code class="tt">test</code>, <code class="tt">development</code>, and <code class="tt">production</code>.<span class="intersentencespace"></span> The default environment for the Rails console is <code class="tt">development</code>:</p>
<pre>  $ rails console
  Loading development environment
  &gt;&gt; Rails.env
  =&gt; "development"
  &gt;&gt; Rails.env.development?
  =&gt; true
  &gt;&gt; Rails.env.test?
  =&gt; false</pre>
<p>As you can see, Rails provides a <code class="tt">Rails</code> object with an <code class="tt">env</code> attribute and associated environment boolean methods, so that, for example, <code class="tt">Rails.env.test?</code> returns <code class="tt">true</code> in a test environment and <code class="tt">false</code> otherwise.</p>
<p>If you ever need to run a console in a different environment (to debug a test, for example), you can pass the environment as a parameter to the <code class="tt">console</code> script:</p>
<pre>  $ rails console test
  Loading test environment
  &gt;&gt; Rails.env
  =&gt; "test"
  &gt;&gt; Rails.env.test?
  =&gt; true</pre>
<p>As with the console, <code class="tt">development</code> is the default environment for the Rails server, but you can also run it in a different environment:</p>
<pre>  $ rails server --environment production</pre>
<p>If you view your app running in production, it won’t work without a production database, which we can create by running <code class="tt">rails db:migrate</code> in production:</p>
<pre>  $ rails db:migrate RAILS_ENV=production</pre>
<p>(I find it confusing that the idiomatic commands to run the console, server, and migrate commands in non-default environments use different syntax, which is why I bothered showing all three.<span class="intersentencespace"></span> It’s worth noting, though, that preceding any of them with <code class="tt">RAILS_ENV=&lt;env&gt;</code> will also work, as in <code class="tt">RAILS_ENV=production rails server</code>).</p>
<p>By the way, if you have deployed your sample app to Heroku, you can see its environment using <code class="tt">heroku run rails console</code>:</p>
<pre>  $ heroku run rails console
  &gt;&gt; Rails.env
  =&gt; "production"
  &gt;&gt; Rails.env.production?
  =&gt; true</pre>
<p>Naturally, since Heroku is a platform for production sites, it runs each application in a production environment.<span class="intersentencespace"></span></p>

</div>
<p>To make the debug output look nice, we’ll add some rules to the custom stylesheet created in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#cha-filling_in_the_layout" class="hyperref">Chapter&nbsp;<span class="ref">5</span></a>, as shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-mixin_and_debug" class="hyperref">Listing&nbsp;<span class="ref">7.2</span></a>.</p>
<div class="codelisting" id="code-mixin_and_debug" data-tralics-id="uid826" data-number="7.2">
<div class="heading">
<span class="number">Listing 7.2:</span> 

<span class="description">Adding code for a pretty debug box, including a Sass mixin.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/assets/stylesheets/custom.scss</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">@import</span> <span class="s2">"bootstrap-sprockets"</span><span class="p">;</span>
<span class="k">@import</span> <span class="s2">"bootstrap"</span><span class="p">;</span>

<span class="cm">/* mixins, variables, etc. */</span>

<span class="nv">$gray-medium-light</span><span class="o">:</span> <span class="mh">#eaeaea</span><span class="p">;</span>

<span class="hll"><span class="k">@mixin</span><span class="nf"> box_sizing</span> <span class="p">{</span>
</span><span class="hll">  <span class="na">-moz-box-sizing</span><span class="o">:</span>    <span class="no">border</span><span class="o">-</span><span class="n">box</span><span class="p">;</span>
</span><span class="hll">  <span class="na">-webkit-box-sizing</span><span class="o">:</span> <span class="no">border</span><span class="o">-</span><span class="n">box</span><span class="p">;</span>
</span><span class="hll">  <span class="na">box-sizing</span><span class="o">:</span>         <span class="no">border</span><span class="o">-</span><span class="n">box</span><span class="p">;</span>
</span><span class="hll"><span class="p">}</span>
</span><span class="nc">.</span>
<span class="nc">.</span>
<span class="nc">.</span>
<span class="hll"><span class="o">/*</span> <span class="nt">miscellaneous</span> <span class="o">*/</span>
</span>
<span class="hll"><span class="nc">.debug_dump</span> <span class="p">{</span>
</span><span class="hll">  <span class="na">clear</span><span class="o">:</span> <span class="no">both</span><span class="p">;</span>
</span><span class="hll">  <span class="na">float</span><span class="o">:</span> <span class="no">left</span><span class="p">;</span>
</span><span class="hll">  <span class="na">width</span><span class="o">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
</span><span class="hll">  <span class="na">margin-top</span><span class="o">:</span> <span class="mi">45</span><span class="kt">px</span><span class="p">;</span>
</span><span class="hll">  <span class="k">@include</span><span class="nd"> box_sizing</span><span class="p">;</span>
</span><span class="hll"><span class="p">}</span>
</span></pre></div></div>
</div>
<p>This introduces the Sass <em>mixin</em> facility, in this case called <code>box_sizing</code>.<span class="intersentencespace"></span> A mixin allows a group of CSS rules to be packaged up and used for multiple elements, converting</p>
<div class="code"><div class="highlight"><pre><span class="nc">.debug_dump</span> <span class="p">{</span>
  <span class="nc">.</span>
  <span class="nc">.</span>
  <span class="nc">.</span>
  <span class="o">@</span><span class="nt">include</span> <span class="nt">box_sizing</span><span class="o">;</span>
<span class="p">}</span>
</pre></div></div>
<p>to</p>
<div class="code"><div class="highlight"><pre><span class="nc">.debug_dump</span> <span class="p">{</span>
  <span class="na">.</span>
  <span class="na">.</span>
  <span class="na">.</span>
  <span class="na">-moz-box-sizing</span><span class="o">:</span>    <span class="no">border</span><span class="o">-</span><span class="n">box</span><span class="p">;</span>
  <span class="na">-webkit-box-sizing</span><span class="o">:</span> <span class="no">border</span><span class="o">-</span><span class="n">box</span><span class="p">;</span>
  <span class="na">box-sizing</span><span class="o">:</span>         <span class="no">border</span><span class="o">-</span><span class="n">box</span><span class="p">;</span>
<span class="p">}</span>
</pre></div></div>
<p>We’ll put this mixin to use again in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-using_form_for" class="hyperref">Section&nbsp;<span class="ref">7.2.1</span></a>.<span class="intersentencespace"></span> The result in the case of the debug box is shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-home_page_with_debug" class="hyperref">Figure&nbsp;<span class="ref">7.3</span></a>.<sup id="cha-7_footnote-ref-4" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-4" data-hasqtip="10">4</a></sup></p>
<div class="center figure" id="fig-home_page_with_debug" data-tralics-id="uid828" data-number="7.3">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/home_page_with_debug_3rd_edition.png" alt="images/figures/home_page_with_debug_3rd_edition"></div>
<div class="caption">
<span class="header">Figure 7.3: </span><span class="description">The sample application Home page with debug information.
</span>
</div>
</div>
<p>The debug output in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-home_page_with_debug" class="hyperref">Figure&nbsp;<span class="ref">7.3</span></a> gives potentially useful information about the page being rendered:</p>
<div class="code"><div class="highlight"><pre><span class="nn">---</span>
<span class="l-Scalar-Plain">controller</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">static_pages</span>
<span class="l-Scalar-Plain">action</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">home</span>
</pre></div></div>
<p>This is a YAML<sup id="cha-7_footnote-ref-5" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-5" data-hasqtip="11">5</a></sup> representation of <code>params</code>, which is basically a hash, and in this case identifies the controller and action for the page.<span class="intersentencespace"></span> We’ll see another example in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_users_resource" class="hyperref">Section&nbsp;<span class="ref">7.1.2</span></a>.</p>
<div id="sec-exercises_rails_environments" data-tralics-id="uid830" class="subsubsection" data-number="7.1.1.1">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_rails_environments" class="heading">Exercises</a></h4>
<p> </p>
<div class="society-note">
<p>Solutions to exercises are available for free with any Rails Tutorial <a href="https://www.railstutorial.org/" target="_blank" rel="noopener">purchase</a>.<span class="intersentencespace"></span> To see other people’s answers and to record your own, join the <a href="http://learnenough.com/society" target="_blank" rel="noopener">Learn Enough Society</a> at <a href="http://learnenough.com/society" target="_blank" rel="noopener">learnenough.com/society</a>.<span class="intersentencespace"></span>  </p>
</div>
<ol>
<li>Visit /about in your browser and use the debug information to determine the controller and action of the <code>params</code> hash. <span class="exercise" id="ex-4fe125"></span>
</li>
<li>In the Rails console, pull the first user out of the database and assign it to the variable <code>user</code>.<span class="intersentencespace"></span> What is the output of <code>puts user.attributes.to_yaml</code>?<span class="intersentencespace"></span> Compare this to using the <code>y</code> method via <code>y user.attributes</code>. <span class="exercise" id="ex-ab8c3e"></span>
</li>
</ol>
</div>
</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-a_users_resource&quot; data-tralics-id=&quot;uid833&quot; class=&quot;subsection&quot; data-number=&quot;7.1.2&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-a_users_resource&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.1.2 &lt;/span&gt;A Users resource&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;In order to make a user profile page, we need to have a user in the database, which introduces a chicken-and-egg problem: how can the site have a user before there is a working signup page?&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Happily, this problem has already been solved: in &lt;a href=&quot;modeling_users_fragment.html#sec-creating_and_authenticating_a_user&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;6.3.4&lt;/span&gt;&lt;/a&gt;, we created a User record by hand using the Rails console, so there should be one user in the database:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;go&quot;&gt;$ rails console&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; 1&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;first&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; #&amp;lt;User id: 1, name: &quot;Michael Hartl&quot;, email: &quot;mhartl@example.com&quot;,&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;created_at: &quot;2016-05-23 20:36:46&quot;, updated_at: &quot;2016-05-23 20:36:46&quot;,&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;password_digest: &quot;$2a$10$xxucoRlMp06RLJSfWpZ8hO8Dt9AZXlGRi3usP3njQg3...&quot;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(If you don’t currently have a user in your database, you should visit &lt;a href=&quot;modeling_users_fragment.html#sec-creating_and_authenticating_a_user&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;6.3.4&lt;/span&gt;&lt;/a&gt; now and complete it before proceeding.)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We see from the console output above that the user has id &lt;code&gt;1&lt;/code&gt;, and our goal now is to make a page to display this user’s information.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We’ll follow the conventions of the REST architecture favored in Rails applications (&lt;a href=&quot;toy_app_fragment.html#aside-REST&quot; class=&quot;hyperref&quot;&gt;Box &lt;span class=&quot;ref&quot;&gt;2.2&lt;/span&gt;&lt;/a&gt;), which means representing data as &lt;em&gt;resources&lt;/em&gt; that can be created, shown, updated, or destroyed—four actions corresponding to the four fundamental operations &lt;code class=&quot;tt&quot;&gt;POST&lt;/code&gt;, &lt;code class=&quot;tt&quot;&gt;GET&lt;/code&gt;, &lt;code class=&quot;tt&quot;&gt;PATCH&lt;/code&gt;, and &lt;code class=&quot;tt&quot;&gt;DELETE&lt;/code&gt; defined by the &lt;a href=&quot;https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;HTTP standard&lt;/a&gt; (&lt;a href=&quot;static_pages_fragment.html#aside-get_etc&quot; class=&quot;hyperref&quot;&gt;Box &lt;span class=&quot;ref&quot;&gt;3.2&lt;/span&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;When following REST principles, resources are typically referenced using the resource name and a unique identifier.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; What this means in the context of users—which we’re now thinking of as a Users &lt;em&gt;resource&lt;/em&gt;—is that we should view the user with id &lt;code&gt;1&lt;/code&gt; by issuing a &lt;code class=&quot;tt&quot;&gt;GET&lt;/code&gt; request to the URL /users/1.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Here the &lt;code&gt;show&lt;/code&gt; action is &lt;em&gt;implicit&lt;/em&gt; in the type of request—when Rails’ REST features are activated, &lt;code class=&quot;tt&quot;&gt;GET&lt;/code&gt; requests are automatically handled by the &lt;code&gt;show&lt;/code&gt; action.&lt;/p&gt;
&lt;p&gt;We saw in &lt;a href=&quot;toy_app_fragment.html#sec-a_user_tour&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;2.2.1&lt;/span&gt;&lt;/a&gt; that the page for a user with id &lt;code&gt;1&lt;/code&gt; has URL /users/1.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Unfortunately, visiting that URL right now just gives an error, as seen in the server log (&lt;a href=&quot;sign_up_fragment.html#fig-profile_routing_error&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.4&lt;/span&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-profile_routing_error&quot; data-tralics-id=&quot;uid834&quot; data-number=&quot;7.4&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/profile_routing_error_4th_edition.png&quot; alt=&quot;images/figures/profile_routing_error_4th_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.4: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;The server log error for /users/1.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;We can get the routing for /users/1 to work by adding a single line to our routes file (&lt;code&gt;config/routes.rb&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;resources&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:users&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The result appears in &lt;a href=&quot;sign_up_fragment.html#code-users_resource&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.3&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-users_resource&quot; data-tralics-id=&quot;uid835&quot; data-number=&quot;7.3&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.3:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Adding a Users resource to the routes file.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;config/routes.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;no&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;routes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;draw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;static_pages#home&#39;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;&#39;/help&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;    &lt;span class=&quot;ss&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;static_pages#help&#39;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;&#39;/about&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;   &lt;span class=&quot;ss&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;static_pages#about&#39;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;&#39;/contact&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;static_pages#contact&#39;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;&#39;/signup&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;ss&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;users#new&#39;&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;n&quot;&gt;resources&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:users&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Although our immediate motivation is making a page to show users, the single line &lt;code&gt;resources :users&lt;/code&gt; doesn’t just add a working /users/1 URL; it endows our sample application with &lt;em&gt;all&lt;/em&gt; the actions needed for a RESTful Users resource,&lt;sup id=&quot;cha-7_footnote-ref-6&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-6&quot;&gt;6&lt;/a&gt;&lt;/sup&gt; along with a large number of named routes (&lt;a href=&quot;filling_in_the_layout_fragment.html#sec-named_routes&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;5.3.3&lt;/span&gt;&lt;/a&gt;) for generating user URLs.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The resulting correspondence of URLs, actions, and named routes is shown in &lt;a href=&quot;sign_up_fragment.html#table-RESTful_users&quot; class=&quot;hyperref&quot;&gt;Table &lt;span class=&quot;ref&quot;&gt;7.1&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (Compare to &lt;a href=&quot;toy_app_fragment.html#table-demo_RESTful_users&quot; class=&quot;hyperref&quot;&gt;Table &lt;span class=&quot;ref&quot;&gt;2.2&lt;/span&gt;&lt;/a&gt;.)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Over the course of the next three chapters, we’ll cover all of the other entries in &lt;a href=&quot;sign_up_fragment.html#table-RESTful_users&quot; class=&quot;hyperref&quot;&gt;Table &lt;span class=&quot;ref&quot;&gt;7.1&lt;/span&gt;&lt;/a&gt; as we fill in all the actions necessary to make Users a fully RESTful resource.&lt;/p&gt;
&lt;div class=&quot;table&quot; id=&quot;table-RESTful_users&quot; data-tralics-id=&quot;uid837&quot; data-number=&quot;7.1&quot;&gt;
&lt;table class=&quot;tabular&quot;&gt;
&lt;tbody&gt;
&lt;tr class=&quot;bottom_border&quot;&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;strong&gt;HTTP request&lt;/strong&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;strong&gt;URL&lt;/strong&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;strong&gt;Named route&lt;/strong&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;strong&gt;Purpose&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code class=&quot;tt&quot;&gt;GET&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;/users&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code&gt;index&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code&gt;users_path&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;page to list all users&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code class=&quot;tt&quot;&gt;GET&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;/users/1&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code&gt;show&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code&gt;user_path(user)&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;page to show user&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code class=&quot;tt&quot;&gt;GET&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;/users/new&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code&gt;new&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code&gt;new_user_path&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;page to make a new user (signup)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code class=&quot;tt&quot;&gt;POST&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;/users&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code&gt;create&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code&gt;users_path&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;create a new user&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code class=&quot;tt&quot;&gt;GET&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;/users/1/edit&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code&gt;edit&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code&gt;edit_user_path(user)&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;page to edit user with id &lt;code&gt;1&lt;/code&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code class=&quot;tt&quot;&gt;PATCH&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;/users/1&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code&gt;update&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code&gt;user_path(user)&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;update user&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code class=&quot;tt&quot;&gt;DELETE&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;/users/1&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code&gt;destroy&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;&lt;code&gt;user_path(user)&lt;/code&gt;&lt;/td&gt;
&lt;td class=&quot;align_left&quot;&gt;delete user&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Table 7.1: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;RESTful routes provided by the Users resource in &lt;a href=&quot;sign_up_fragment.html#code-users_resource&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.3&lt;/span&gt;&lt;/a&gt;.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;With the code in &lt;a href=&quot;sign_up_fragment.html#code-users_resource&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.3&lt;/span&gt;&lt;/a&gt;, the routing works, but there’s still no page there (&lt;a href=&quot;sign_up_fragment.html#fig-user_show_unknown_action&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.5&lt;/span&gt;&lt;/a&gt;).&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To fix this, we’ll begin with a minimalist version of the profile page, which we’ll flesh out in &lt;a href=&quot;sign_up_fragment.html#sec-a_gravatar_image&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.1.4&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-user_show_unknown_action&quot; data-tralics-id=&quot;uid838&quot; data-number=&quot;7.5&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/user_show_unknown_action_3rd_edition.png&quot; alt=&quot;images/figures/user_show_unknown_action_3rd_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.5: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;The URL /users/1 with routing but no page.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;We’ll use the standard Rails location for showing a user, which is &lt;code&gt;app/views/users/show.html.erb&lt;/code&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Unlike the &lt;code&gt;new.html.erb&lt;/code&gt; view, which we created with the generator in &lt;a href=&quot;filling_in_the_layout_fragment.html#code-generate_users_controller&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;5.38&lt;/span&gt;&lt;/a&gt;, the &lt;code&gt;show.html.erb&lt;/code&gt; file doesn’t currently exist, so you’ll have to create it by hand,&lt;sup id=&quot;cha-7_footnote-ref-7&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-7&quot;&gt;7&lt;/a&gt;&lt;/sup&gt; and then fill it with the content shown in &lt;a href=&quot;sign_up_fragment.html#code-stub_user_view&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.4&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-stub_user_view&quot; data-tralics-id=&quot;uid840&quot; data-number=&quot;7.4&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.4:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;A stub view for showing user information.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/views/users/show.html.erb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;, &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This view uses embedded Ruby to display the user’s name and email address, assuming the existence of an instance variable called &lt;code&gt;@user&lt;/code&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Of course, eventually the real user show page will look very different (and won’t display the email address publicly).&lt;/p&gt;
&lt;p&gt;In order to get the user show view to work, we need to define an &lt;code&gt;@user&lt;/code&gt; variable in the corresponding &lt;code&gt;show&lt;/code&gt; action in the Users controller.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; As you might expect, we use the &lt;code&gt;find&lt;/code&gt; method on the User model (&lt;a href=&quot;modeling_users_fragment.html#sec-finding_user_objects&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;6.1.4&lt;/span&gt;&lt;/a&gt;) to retrieve the user from the database, as shown in &lt;a href=&quot;sign_up_fragment.html#code-user_show_action&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.5&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-user_show_action&quot; data-tralics-id=&quot;uid841&quot; data-number=&quot;7.5&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.5:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;The Users controller with a &lt;code&gt;show&lt;/code&gt; action.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/controllers/users_controller.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UsersController&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationController&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;show&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Here we’ve used &lt;code&gt;params&lt;/code&gt; to retrieve the user id.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; When we make the appropriate request to the Users controller, &lt;code&gt;params[:id]&lt;/code&gt; will be the user id &lt;code class=&quot;tt&quot;&gt;1&lt;/code&gt;, so the effect is the same as the &lt;code&gt;find&lt;/code&gt; method &lt;code&gt;User.find(1)&lt;/code&gt; we saw in &lt;a href=&quot;modeling_users_fragment.html#sec-finding_user_objects&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;6.1.4&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (Technically, &lt;code&gt;params[:id]&lt;/code&gt; is the string &lt;code&gt;&quot;1&quot;&lt;/code&gt;, but &lt;code&gt;find&lt;/code&gt; is smart enough to convert this to an integer.)&lt;/p&gt;
&lt;p&gt;With the user view and action defined, the URL /users/1 works perfectly, as seen in &lt;a href=&quot;sign_up_fragment.html#fig-user_show_rails&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.6&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (If you haven’t restarted the Rails server since adding bcrypt, you may have to do so at this time.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This sort of thing is a good application of technical sophistication (&lt;a href=&quot;beginning_fragment.html#aside-technical_sophistication&quot; class=&quot;hyperref&quot;&gt;Box &lt;span class=&quot;ref&quot;&gt;1.1&lt;/span&gt;&lt;/a&gt;).)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Note that the debug information in &lt;a href=&quot;sign_up_fragment.html#fig-user_show_rails&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.6&lt;/span&gt;&lt;/a&gt; confirms the value of &lt;code&gt;params[:id]&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;l-Scalar-Plain&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;show&lt;/span&gt;
&lt;span class=&quot;l-Scalar-Plain&quot;&gt;controller&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;users&lt;/span&gt;
&lt;span class=&quot;l-Scalar-Plain&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&#39;1&#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is why the code&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;in &lt;a href=&quot;sign_up_fragment.html#code-user_show_action&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.5&lt;/span&gt;&lt;/a&gt; finds the user with id &lt;code class=&quot;tt&quot;&gt;1&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-user_show_rails&quot; data-tralics-id=&quot;uid842&quot; data-number=&quot;7.6&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/user_show_3rd_edition.png&quot; alt=&quot;images/figures/user_show_3rd_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.6: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;The user show page after adding a Users resource.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;sec-exercises_a_users_resource&quot; data-tralics-id=&quot;uid843&quot; class=&quot;subsubsection&quot; data-number=&quot;7.1.2.1&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-exercises_a_users_resource&quot; class=&quot;heading&quot;&gt;Exercises&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;society-note&quot;&gt;
&lt;p&gt;Solutions to exercises are available for free with any Rails Tutorial &lt;a href=&quot;https://www.railstutorial.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;purchase&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see other people’s answers and to record your own, join the &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; at &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;learnenough.com/society&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;  &lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Using embedded Ruby, add the &lt;code&gt;created_at&lt;/code&gt; and &lt;code&gt;updated_at&lt;/code&gt; “magic column” attributes to the user show page from &lt;a href=&quot;sign_up_fragment.html#code-stub_user_view&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.4&lt;/span&gt;&lt;/a&gt;. &lt;span class=&quot;exercise&quot; id=&quot;ex-3fb238&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;Using embedded Ruby, add &lt;code&gt;Time.now&lt;/code&gt; to the user show page.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; What happens when you refresh the browser? &lt;span class=&quot;exercise&quot; id=&quot;ex-da090a&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="177"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-a_users_resource" data-tralics-id="uid833" class="subsection" data-number="7.1.2">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_users_resource" class="heading hyperref"><span class="number">7.1.2 </span>A Users resource</a></h3>
<p>In order to make a user profile page, we need to have a user in the database, which introduces a chicken-and-egg problem: how can the site have a user before there is a working signup page?<span class="intersentencespace"></span> Happily, this problem has already been solved: in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-creating_and_authenticating_a_user" class="hyperref">Section&nbsp;<span class="ref">6.3.4</span></a>, we created a User record by hand using the Rails console, so there should be one user in the database:</p>
<div class="code"><div class="highlight"><pre><span class="go">$ rails console</span>
<span class="gp">&gt;&gt; </span><span class="no">User</span><span class="o">.</span><span class="n">count</span>
<span class="go">=&gt; 1</span>
<span class="gp">&gt;&gt; </span><span class="no">User</span><span class="o">.</span><span class="n">first</span>
<span class="go">=&gt; #&lt;User id: 1, name: "Michael Hartl", email: "mhartl@example.com",</span>
<span class="go">created_at: "2016-05-23 20:36:46", updated_at: "2016-05-23 20:36:46",</span>
<span class="go">password_digest: "$2a$10$xxucoRlMp06RLJSfWpZ8hO8Dt9AZXlGRi3usP3njQg3..."&gt;</span>
</pre></div></div>
<p>(If you don’t currently have a user in your database, you should visit <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-creating_and_authenticating_a_user" class="hyperref">Section&nbsp;<span class="ref">6.3.4</span></a> now and complete it before proceeding.)<span class="intersentencespace"></span> We see from the console output above that the user has id&nbsp;<code>1</code>, and our goal now is to make a page to display this user’s information.<span class="intersentencespace"></span> We’ll follow the conventions of the REST architecture favored in Rails applications (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#aside-REST" class="hyperref">Box&nbsp;<span class="ref">2.2</span></a>), which means representing data as <em>resources</em> that can be created, shown, updated, or destroyed—four actions corresponding to the four fundamental operations <code class="tt">POST</code>, <code class="tt">GET</code>, <code class="tt">PATCH</code>, and <code class="tt">DELETE</code> defined by the <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" target="_blank" rel="noopener">HTTP standard</a> (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#aside-get_etc" class="hyperref">Box&nbsp;<span class="ref">3.2</span></a>).</p>
<p>When following REST principles, resources are typically referenced using the resource name and a unique identifier.<span class="intersentencespace"></span> What this means in the context of users—which we’re now thinking of as a Users <em>resource</em>—is that we should view the user with id&nbsp;<code>1</code> by issuing a <code class="tt">GET</code> request to the URL /users/1.<span class="intersentencespace"></span> Here the <code>show</code> action is <em>implicit</em> in the type of request—when Rails’ REST features are activated, <code class="tt">GET</code> requests are automatically handled by the <code>show</code> action.</p>
<p>We saw in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-a_user_tour" class="hyperref">Section&nbsp;<span class="ref">2.2.1</span></a> that the page for a user with id&nbsp;<code>1</code> has URL /users/1.<span class="intersentencespace"></span> Unfortunately, visiting that URL right now just gives an error, as seen in the server log (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-profile_routing_error" class="hyperref">Figure&nbsp;<span class="ref">7.4</span></a>).</p>
<div class="center figure" id="fig-profile_routing_error" data-tralics-id="uid834" data-number="7.4">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/profile_routing_error_4th_edition.png" alt="images/figures/profile_routing_error_4th_edition"></div>
<div class="caption">
<span class="header">Figure 7.4: </span><span class="description">The server log error for /users/1.
</span>
</div>
</div>
<p>We can get the routing for /users/1 to work by adding a single line to our routes file (<code>config/routes.rb</code>):</p>
<div class="code"><div class="highlight"><pre><span class="n">resources</span> <span class="ss">:users</span>
</pre></div></div>
<p>The result appears in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-users_resource" class="hyperref">Listing&nbsp;<span class="ref">7.3</span></a>.</p>
<div class="codelisting" id="code-users_resource" data-tralics-id="uid835" data-number="7.3">
<div class="heading">
<span class="number">Listing 7.3:</span> 

<span class="description">Adding a Users resource to the routes file.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">config/routes.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="no">Rails</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">routes</span><span class="o">.</span><span class="n">draw</span> <span class="k">do</span>
  <span class="n">root</span> <span class="s1">'static_pages#home'</span>
  <span class="n">get</span>  <span class="s1">'/help'</span><span class="p">,</span>    <span class="ss">to</span><span class="p">:</span> <span class="s1">'static_pages#help'</span>
  <span class="n">get</span>  <span class="s1">'/about'</span><span class="p">,</span>   <span class="ss">to</span><span class="p">:</span> <span class="s1">'static_pages#about'</span>
  <span class="n">get</span>  <span class="s1">'/contact'</span><span class="p">,</span> <span class="ss">to</span><span class="p">:</span> <span class="s1">'static_pages#contact'</span>
  <span class="n">get</span>  <span class="s1">'/signup'</span><span class="p">,</span>  <span class="ss">to</span><span class="p">:</span> <span class="s1">'users#new'</span>
<span class="hll">  <span class="n">resources</span> <span class="ss">:users</span>
</span><span class="k">end</span>
</pre></div></div>
</div>
<p>Although our immediate motivation is making a page to show users, the single line <code>resources :users</code> doesn’t just add a working /users/1 URL; it endows our sample application with <em>all</em> the actions needed for a RESTful Users resource,<sup id="cha-7_footnote-ref-6" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-6" data-hasqtip="12">6</a></sup> along with a large number of named routes (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-named_routes" class="hyperref">Section&nbsp;<span class="ref">5.3.3</span></a>) for generating user URLs.<span class="intersentencespace"></span> The resulting correspondence of URLs, actions, and named routes is shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#table-RESTful_users" class="hyperref">Table&nbsp;<span class="ref">7.1</span></a>.<span class="intersentencespace"></span> (Compare to <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#table-demo_RESTful_users" class="hyperref">Table&nbsp;<span class="ref">2.2</span></a>.)<span class="intersentencespace"></span> Over the course of the next three chapters, we’ll cover all of the other entries in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#table-RESTful_users" class="hyperref">Table&nbsp;<span class="ref">7.1</span></a> as we fill in all the actions necessary to make Users a fully RESTful resource.</p>
<div class="table" id="table-RESTful_users" data-tralics-id="uid837" data-number="7.1">
<table class="tabular">
<tbody>
<tr class="bottom_border">
<td class="align_left"><strong>HTTP request</strong></td>
<td class="align_left"><strong>URL</strong></td>
<td class="align_left"><strong>Action</strong></td>
<td class="align_left"><strong>Named route</strong></td>
<td class="align_left"><strong>Purpose</strong></td>
</tr>
<tr>
<td class="align_left"><code class="tt">GET</code></td>
<td class="align_left">/users</td>
<td class="align_left"><code>index</code></td>
<td class="align_left"><code>users_path</code></td>
<td class="align_left">page to list all users</td>
</tr>
<tr>
<td class="align_left"><code class="tt">GET</code></td>
<td class="align_left">/users/1</td>
<td class="align_left"><code>show</code></td>
<td class="align_left"><code>user_path(user)</code></td>
<td class="align_left">page to show user</td>
</tr>
<tr>
<td class="align_left"><code class="tt">GET</code></td>
<td class="align_left">/users/new</td>
<td class="align_left"><code>new</code></td>
<td class="align_left"><code>new_user_path</code></td>
<td class="align_left">page to make a new user (signup)</td>
</tr>
<tr>
<td class="align_left"><code class="tt">POST</code></td>
<td class="align_left">/users</td>
<td class="align_left"><code>create</code></td>
<td class="align_left"><code>users_path</code></td>
<td class="align_left">create a new user</td>
</tr>
<tr>
<td class="align_left"><code class="tt">GET</code></td>
<td class="align_left">/users/1/edit</td>
<td class="align_left"><code>edit</code></td>
<td class="align_left"><code>edit_user_path(user)</code></td>
<td class="align_left">page to edit user with id <code>1</code>
</td>
</tr>
<tr>
<td class="align_left"><code class="tt">PATCH</code></td>
<td class="align_left">/users/1</td>
<td class="align_left"><code>update</code></td>
<td class="align_left"><code>user_path(user)</code></td>
<td class="align_left">update user</td>
</tr>
<tr>
<td class="align_left"><code class="tt">DELETE</code></td>
<td class="align_left">/users/1</td>
<td class="align_left"><code>destroy</code></td>
<td class="align_left"><code>user_path(user)</code></td>
<td class="align_left">delete user</td>
</tr>
</tbody>
</table>
<div class="caption">
<span class="header">Table 7.1: </span><span class="description">RESTful routes provided by the Users resource in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-users_resource" class="hyperref">Listing&nbsp;<span class="ref">7.3</span></a>.
</span>
</div>
</div>
<p>With the code in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-users_resource" class="hyperref">Listing&nbsp;<span class="ref">7.3</span></a>, the routing works, but there’s still no page there (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-user_show_unknown_action" class="hyperref">Figure&nbsp;<span class="ref">7.5</span></a>).<span class="intersentencespace"></span> To fix this, we’ll begin with a minimalist version of the profile page, which we’ll flesh out in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_gravatar_image" class="hyperref">Section&nbsp;<span class="ref">7.1.4</span></a>.</p>
<div class="center figure" id="fig-user_show_unknown_action" data-tralics-id="uid838" data-number="7.5">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/user_show_unknown_action_3rd_edition.png" alt="images/figures/user_show_unknown_action_3rd_edition"></div>
<div class="caption">
<span class="header">Figure 7.5: </span><span class="description">The URL /users/1 with routing but no page.
</span>
</div>
</div>
<p>We’ll use the standard Rails location for showing a user, which is <code>app/views/users/show.html.erb</code>.<span class="intersentencespace"></span> Unlike the <code>new.html.erb</code> view, which we created with the generator in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#code-generate_users_controller" class="hyperref">Listing&nbsp;<span class="ref">5.38</span></a>, the <code>show.html.erb</code> file doesn’t currently exist, so you’ll have to create it by hand,<sup id="cha-7_footnote-ref-7" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-7" data-hasqtip="13">7</a></sup> and then fill it with the content shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-stub_user_view" class="hyperref">Listing&nbsp;<span class="ref">7.4</span></a>.</p>
<div class="codelisting" id="code-stub_user_view" data-tralics-id="uid840" data-number="7.4">
<div class="heading">
<span class="number">Listing 7.4:</span> 

<span class="description">A stub view for showing user information.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/views/users/show.html.erb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="vi">@user</span><span class="o">.</span><span class="n">name</span> <span class="cp">%&gt;</span>, <span class="cp">&lt;%=</span> <span class="vi">@user</span><span class="o">.</span><span class="n">email</span> <span class="cp">%&gt;</span>
</pre></div></div>
</div>
<p>This view uses embedded Ruby to display the user’s name and email address, assuming the existence of an instance variable called <code>@user</code>.<span class="intersentencespace"></span> Of course, eventually the real user show page will look very different (and won’t display the email address publicly).</p>
<p>In order to get the user show view to work, we need to define an <code>@user</code> variable in the corresponding <code>show</code> action in the Users controller.<span class="intersentencespace"></span> As you might expect, we use the <code>find</code> method on the User model (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-finding_user_objects" class="hyperref">Section&nbsp;<span class="ref">6.1.4</span></a>) to retrieve the user from the database, as shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-user_show_action" class="hyperref">Listing&nbsp;<span class="ref">7.5</span></a>.</p>
<div class="codelisting" id="code-user_show_action" data-tralics-id="uid841" data-number="7.5">
<div class="heading">
<span class="number">Listing 7.5:</span> 

<span class="description">The Users controller with a <code>show</code> action.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/controllers/users_controller.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>

  <span class="k">def</span> <span class="nf">show</span>
<span class="hll">    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</span>  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">new</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
<p>Here we’ve used <code>params</code> to retrieve the user&nbsp;id.<span class="intersentencespace"></span> When we make the appropriate request to the Users controller, <code>params[:id]</code> will be the user id&nbsp;<code class="tt">1</code>, so the effect is the same as the <code>find</code> method <code>User.find(1)</code> we saw in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-finding_user_objects" class="hyperref">Section&nbsp;<span class="ref">6.1.4</span></a>.<span class="intersentencespace"></span> (Technically, <code>params[:id]</code> is the string&nbsp;<code>"1"</code>, but <code>find</code> is smart enough to convert this to an integer.)</p>
<p>With the user view and action defined, the URL /users/1 works perfectly, as seen in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-user_show_rails" class="hyperref">Figure&nbsp;<span class="ref">7.6</span></a>.<span class="intersentencespace"></span> (If you haven’t restarted the Rails server since adding bcrypt, you may have to do so at this time.<span class="intersentencespace"></span> This sort of thing is a good application of technical sophistication (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#aside-technical_sophistication" class="hyperref">Box&nbsp;<span class="ref">1.1</span></a>).)<span class="intersentencespace"></span> Note that the debug information in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-user_show_rails" class="hyperref">Figure&nbsp;<span class="ref">7.6</span></a> confirms the value of <code>params[:id]</code>:</p>
<div class="code"><div class="highlight"><pre><span class="nn">---</span>
<span class="l-Scalar-Plain">action</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">show</span>
<span class="l-Scalar-Plain">controller</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">users</span>
<span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="s">'1'</span>
</pre></div></div>
<p>This is why the code</p>
<div class="code"><div class="highlight"><pre><span class="no">User</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</pre></div></div>
<p>in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-user_show_action" class="hyperref">Listing&nbsp;<span class="ref">7.5</span></a> finds the user with id&nbsp;<code class="tt">1</code>.</p>
<div class="center figure" id="fig-user_show_rails" data-tralics-id="uid842" data-number="7.6">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/user_show_3rd_edition.png" alt="images/figures/user_show_3rd_edition"></div>
<div class="caption">
<span class="header">Figure 7.6: </span><span class="description">The user show page after adding a Users resource.
</span>
</div>
</div>
<div id="sec-exercises_a_users_resource" data-tralics-id="uid843" class="subsubsection" data-number="7.1.2.1">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_a_users_resource" class="heading">Exercises</a></h4>
<p> </p>
<div class="society-note">
<p>Solutions to exercises are available for free with any Rails Tutorial <a href="https://www.railstutorial.org/" target="_blank" rel="noopener">purchase</a>.<span class="intersentencespace"></span> To see other people’s answers and to record your own, join the <a href="http://learnenough.com/society" target="_blank" rel="noopener">Learn Enough Society</a> at <a href="http://learnenough.com/society" target="_blank" rel="noopener">learnenough.com/society</a>.<span class="intersentencespace"></span>  </p>
</div>
<ol>
<li>Using embedded Ruby, add the <code>created_at</code> and <code>updated_at</code> “magic column” attributes to the user show page from <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-stub_user_view" class="hyperref">Listing&nbsp;<span class="ref">7.4</span></a>. <span class="exercise" id="ex-3fb238"></span>
</li>
<li>Using embedded Ruby, add <code>Time.now</code> to the user show page.<span class="intersentencespace"></span> What happens when you refresh the browser? <span class="exercise" id="ex-da090a"></span>
</li>
</ol>
</div>
</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-debugger&quot; data-tralics-id=&quot;uid846&quot; class=&quot;subsection&quot; data-number=&quot;7.1.3&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-debugger&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.1.3 &lt;/span&gt;Debugger&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;We saw in &lt;a href=&quot;sign_up_fragment.html#sec-a_users_resource&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.1.2&lt;/span&gt;&lt;/a&gt; how the information in the &lt;code&gt;debug&lt;/code&gt; could help us understand what’s going on in our application, but there’s also a more direct way to get debugging information using the &lt;code class=&quot;tt&quot;&gt;byebug&lt;/code&gt; gem (&lt;a href=&quot;static_pages_fragment.html#code-gemfile_sample_app&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;3.2&lt;/span&gt;&lt;/a&gt;).&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see how it works, we just need to add a line consisting of &lt;code&gt;debugger&lt;/code&gt; to our application, as shown in &lt;a href=&quot;sign_up_fragment.html#code-debugger&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.6&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-debugger&quot; data-tralics-id=&quot;uid847&quot; data-number=&quot;7.6&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.6:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;The Users controller with a debugger.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/controllers/users_controller.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UsersController&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationController&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;show&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;n&quot;&gt;debugger&lt;/span&gt;
&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Now, when we visit /users/1, the Rails server shows a &lt;code&gt;byebug&lt;/code&gt; prompt:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;go&quot;&gt;(byebug)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We can treat this like a Rails console, issuing commands to figure out the state of the application:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;go&quot;&gt;(byebug) @user.name&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;&quot;Example User&quot;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;(byebug) @user.email&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;&quot;example@railstutorial.org&quot;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;(byebug) params[:id]&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;&quot;1&quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;To release the prompt and continue execution of the application, press Ctrl-D, then remove the &lt;code&gt;debugger&lt;/code&gt; line from the &lt;code&gt;show&lt;/code&gt; action (&lt;a href=&quot;sign_up_fragment.html#code-debugger_removed&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.7&lt;/span&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-debugger_removed&quot; data-tralics-id=&quot;uid848&quot; data-number=&quot;7.7&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.7:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;The Users controller with the debugger line removed.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/controllers/users_controller.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UsersController&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationController&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;show&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Whenever you’re confused about something in a Rails application, it’s a good practice to put &lt;code&gt;debugger&lt;/code&gt; close to the code you think might be causing the trouble.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Inspecting the state of the system using &lt;code class=&quot;tt&quot;&gt;byebug&lt;/code&gt; is a powerful method for tracking down application errors and interactively debugging your application.&lt;/p&gt;
&lt;div id=&quot;sec-exercises_debugger&quot; data-tralics-id=&quot;uid849&quot; class=&quot;subsubsection&quot; data-number=&quot;7.1.3.1&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-exercises_debugger&quot; class=&quot;heading&quot;&gt;Exercises&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;society-note&quot;&gt;
&lt;p&gt;Solutions to exercises are available for free with any Rails Tutorial &lt;a href=&quot;https://www.railstutorial.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;purchase&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see other people’s answers and to record your own, join the &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; at &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;learnenough.com/society&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;  &lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;With the &lt;code&gt;debugger&lt;/code&gt; in the &lt;code&gt;show&lt;/code&gt; action as in &lt;a href=&quot;sign_up_fragment.html#code-debugger&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.6&lt;/span&gt;&lt;/a&gt;, hit /users/1.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Use &lt;code&gt;puts&lt;/code&gt; to display the value of the YAML form of the &lt;code&gt;params&lt;/code&gt; hash.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;em&gt;Hint&lt;/em&gt;: Refer to the relevant exercise in &lt;a href=&quot;sign_up_fragment.html#sec-exercises_rails_environments&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.1.1.1&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; How does it compare to the debug information shown by the &lt;code&gt;debug&lt;/code&gt; method in the site template? &lt;span class=&quot;exercise&quot; id=&quot;ex-8679b1&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;Put the &lt;code&gt;debugger&lt;/code&gt; in the User &lt;code&gt;new&lt;/code&gt; action and hit /users/new.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; What is the value of &lt;code&gt;@user&lt;/code&gt;? &lt;span class=&quot;exercise&quot; id=&quot;ex-2302af&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="178"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-debugger" data-tralics-id="uid846" class="subsection" data-number="7.1.3">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-debugger" class="heading hyperref"><span class="number">7.1.3 </span>Debugger</a></h3>
<p>We saw in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_users_resource" class="hyperref">Section&nbsp;<span class="ref">7.1.2</span></a> how the information in the <code>debug</code> could help us understand what’s going on in our application, but there’s also a more direct way to get debugging information using the <code class="tt">byebug</code> gem (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#code-gemfile_sample_app" class="hyperref">Listing&nbsp;<span class="ref">3.2</span></a>).<span class="intersentencespace"></span> To see how it works, we just need to add a line consisting of <code>debugger</code> to our application, as shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-debugger" class="hyperref">Listing&nbsp;<span class="ref">7.6</span></a>.</p>
<div class="codelisting" id="code-debugger" data-tralics-id="uid847" data-number="7.6">
<div class="heading">
<span class="number">Listing 7.6:</span> 

<span class="description">The Users controller with a debugger.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/controllers/users_controller.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>

  <span class="k">def</span> <span class="nf">show</span>
    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
<span class="hll">    <span class="n">debugger</span>
</span>  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">new</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
<p>Now, when we visit /users/1, the Rails server shows a <code>byebug</code> prompt:</p>
<div class="code"><div class="highlight"><pre><span class="go">(byebug)</span>
</pre></div></div>
<p>We can treat this like a Rails console, issuing commands to figure out the state of the application:</p>
<div class="code"><div class="highlight"><pre><span class="go">(byebug) @user.name</span>
<span class="go">"Example User"</span>
<span class="go">(byebug) @user.email</span>
<span class="go">"example@railstutorial.org"</span>
<span class="go">(byebug) params[:id]</span>
<span class="go">"1"</span>
</pre></div></div>
<p>To release the prompt and continue execution of the application, press Ctrl-D, then remove the <code>debugger</code> line from the <code>show</code> action (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-debugger_removed" class="hyperref">Listing&nbsp;<span class="ref">7.7</span></a>).</p>
<div class="codelisting" id="code-debugger_removed" data-tralics-id="uid848" data-number="7.7">
<div class="heading">
<span class="number">Listing 7.7:</span> 

<span class="description">The Users controller with the debugger line removed.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/controllers/users_controller.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>

  <span class="k">def</span> <span class="nf">show</span>
    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">new</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
<p>Whenever you’re confused about something in a Rails application, it’s a good practice to put <code>debugger</code> close to the code you think might be causing the trouble.<span class="intersentencespace"></span> Inspecting the state of the system using <code class="tt">byebug</code> is a powerful method for tracking down application errors and interactively debugging your application.</p>
<div id="sec-exercises_debugger" data-tralics-id="uid849" class="subsubsection" data-number="7.1.3.1">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_debugger" class="heading">Exercises</a></h4>
<p> </p>
<div class="society-note">
<p>Solutions to exercises are available for free with any Rails Tutorial <a href="https://www.railstutorial.org/" target="_blank" rel="noopener">purchase</a>.<span class="intersentencespace"></span> To see other people’s answers and to record your own, join the <a href="http://learnenough.com/society" target="_blank" rel="noopener">Learn Enough Society</a> at <a href="http://learnenough.com/society" target="_blank" rel="noopener">learnenough.com/society</a>.<span class="intersentencespace"></span>  </p>
</div>
<ol>
<li>With the <code>debugger</code> in the <code>show</code> action as in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-debugger" class="hyperref">Listing&nbsp;<span class="ref">7.6</span></a>, hit /users/1.<span class="intersentencespace"></span> Use <code>puts</code> to display the value of the YAML form of the <code>params</code> hash.<span class="intersentencespace"></span> <em>Hint</em>: Refer to the relevant exercise in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_rails_environments" class="hyperref">Section&nbsp;<span class="ref">7.1.1.1</span></a>.<span class="intersentencespace"></span> How does it compare to the debug information shown by the <code>debug</code> method in the site template? <span class="exercise" id="ex-8679b1"></span>
</li>
<li>Put the <code>debugger</code> in the User <code>new</code> action and hit /users/new.<span class="intersentencespace"></span> What is the value of <code>@user</code>? <span class="exercise" id="ex-2302af"></span>
</li>
</ol>
</div>
</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-a_gravatar_image&quot; data-tralics-id=&quot;uid852&quot; class=&quot;subsection&quot; data-number=&quot;7.1.4&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-a_gravatar_image&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.1.4 &lt;/span&gt;A Gravatar image and a sidebar&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Having defined a basic user page in the previous section, we’ll now flesh it out a little with a profile image for each user and the first cut of the user sidebar.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We’ll start by adding a “globally recognized avatar”, or &lt;a href=&quot;http://gravatar.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Gravatar&lt;/a&gt;, to the user profile.&lt;sup id=&quot;cha-7_footnote-ref-8&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-8&quot;&gt;8&lt;/a&gt;&lt;/sup&gt;&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Gravatar is a free service that allows users to upload images and associate them with email addresses they control.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; As a result, Gravatars are a convenient way to include user profile images without going through the trouble of managing image upload, cropping, and storage; all we need to do is construct the proper Gravatar image URL using the user’s email address and the corresponding Gravatar image will automatically appear.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (We’ll learn how to handle custom image upload in &lt;a href=&quot;user_microposts_fragment.html#sec-micropost_images&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;13.4&lt;/span&gt;&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;Our plan is to define a &lt;code&gt;gravatar_for&lt;/code&gt; helper function to return a Gravatar image for a given user, as shown in &lt;a href=&quot;sign_up_fragment.html#code-user_show_view_with_gravatar&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.8&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-user_show_view_with_gravatar&quot; data-tralics-id=&quot;uid854&quot; data-number=&quot;7.8&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.8:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;The user show view with name and Gravatar.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/views/users/show.html.erb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;provide&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;h1&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gravatar_for&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;By default, methods defined in any helper file are automatically available in any view, but for convenience we’ll put the &lt;code&gt;gravatar_for&lt;/code&gt; method in the file for helpers associated with the Users controller.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; As noted in the &lt;a href=&quot;http://en.gravatar.com/site/implement/hash/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Gravatar documentation&lt;/a&gt;, Gravatar URLs are based on an &lt;a href=&quot;https://en.wikipedia.org/wiki/MD5&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;MD5 hash&lt;/a&gt; of the user’s email address.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In Ruby, the MD5 hashing algorithm is implemented using the &lt;code&gt;hexdigest&lt;/code&gt; method, which is part of the &lt;code&gt;Digest&lt;/code&gt; library:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;MHARTL@example.COM&quot;&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Digest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;MD5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hexdigest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;downcase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;=&amp;gt; &quot;1fda4469bcbec3badf5418269ffc5968&quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since email addresses are case-insensitive (&lt;a href=&quot;modeling_users_fragment.html#sec-format_validation&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;6.2.4&lt;/span&gt;&lt;/a&gt;) but MD5 hashes are not, we’ve used the &lt;code&gt;downcase&lt;/code&gt; method to ensure that the argument to &lt;code&gt;hexdigest&lt;/code&gt; is all lower-case.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (Because of the email downcasing callback in &lt;a href=&quot;modeling_users_fragment.html#code-email_downcase&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;6.32&lt;/span&gt;&lt;/a&gt;, this will never make a difference in this tutorial, but it’s a good practice in case the &lt;code&gt;gravatar_for&lt;/code&gt; ever gets used on email addresses from other sources.)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The resulting &lt;code&gt;gravatar_for&lt;/code&gt; helper appears in &lt;a href=&quot;sign_up_fragment.html#code-gravatar_for_helper&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.9&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-gravatar_for_helper&quot; data-tralics-id=&quot;uid855&quot; data-number=&quot;7.9&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.9:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Defining a &lt;code&gt;gravatar_for&lt;/code&gt; helper method.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/helpers/users_helper.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;UsersHelper&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# Returns the Gravatar for the given user.&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;gravatar_for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gravatar_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Digest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;MD5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hexdigest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;downcase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gravatar_url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://secure.gravatar.com/avatar/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gravatar_id&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;image_tag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gravatar_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gravatar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The code in &lt;a href=&quot;sign_up_fragment.html#code-gravatar_for_helper&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.9&lt;/span&gt;&lt;/a&gt; returns an image tag for the Gravatar with a &lt;code&gt;gravatar&lt;/code&gt; CSS class and alt text equal to the user’s name (which is especially convenient for sight-impaired users using a screen reader).&lt;/p&gt;
&lt;p&gt;The profile page appears as in &lt;a href=&quot;sign_up_fragment.html#fig-profile_with_gravatar&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.7&lt;/span&gt;&lt;/a&gt;, which shows the default Gravatar image, which appears because &lt;code&gt;user@example.com&lt;/code&gt; isn’t a real email address.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (In fact, as you can see by visiting it, the &lt;a href=&quot;http://www.example.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;example.com&lt;/a&gt; domain is reserved for examples like this one.)&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-profile_with_gravatar&quot; data-tralics-id=&quot;uid856&quot; data-number=&quot;7.7&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/profile_with_gravatar_3rd_edition.png&quot; alt=&quot;images/figures/profile_with_gravatar_3rd_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.7: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;The user profile page with the default Gravatar.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;To get our application to display a custom Gravatar, we’ll use &lt;code&gt;update_attributes&lt;/code&gt; (&lt;a href=&quot;modeling_users_fragment.html#sec-updating_user_objects&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;6.1.5&lt;/span&gt;&lt;/a&gt;) to change the user’s email to something I control:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;go&quot;&gt;$ rails console&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;first&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;update_attributes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Example User&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;?&amp;gt; &lt;/span&gt;                       &lt;span class=&quot;ss&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;example@railstutorial.org&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;?&amp;gt; &lt;/span&gt;                       &lt;span class=&quot;ss&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;foobar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;?&amp;gt; &lt;/span&gt;                       &lt;span class=&quot;ss&quot;&gt;password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;foobar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; true&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here we’ve assigned the user the email address &lt;code&gt;example@railstutorial.org&lt;/code&gt;, which I’ve associated with the Rails Tutorial logo, as seen in &lt;a href=&quot;sign_up_fragment.html#fig-profile_custom_gravatar&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.8&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-profile_custom_gravatar&quot; data-tralics-id=&quot;uid857&quot; data-number=&quot;7.8&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/profile_custom_gravatar_3rd_edition.png&quot; alt=&quot;images/figures/profile_custom_gravatar_3rd_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.8: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;The user show page with a custom Gravatar.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The last element needed to complete the mockup from &lt;a href=&quot;sign_up_fragment.html#fig-profile_mockup_profile_name&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.1&lt;/span&gt;&lt;/a&gt; is the initial version of the user sidebar.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We’ll implement it using the &lt;code&gt;aside&lt;/code&gt; tag, which is used for content (such as sidebars) that complements the rest of the page but can also stand alone.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We include &lt;code&gt;row&lt;/code&gt; and &lt;code&gt;col-md-4&lt;/code&gt; classes, which are both part of Bootstrap.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The code for the modified user show page appears in &lt;a href=&quot;sign_up_fragment.html#code-user_show_with_sidebar&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.10&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-user_show_with_sidebar&quot; data-tralics-id=&quot;uid858&quot; data-number=&quot;7.10&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.10:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Adding a sidebar to the user &lt;code&gt;show&lt;/code&gt; view.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/views/users/show.html.erb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;provide&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;row&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;aside&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;col-md-4&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;section&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_info&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;h1&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gravatar_for&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/section&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/aside&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;With the HTML elements and CSS classes in place, we can style the profile page (including the sidebar and the Gravatar) with the SCSS shown in &lt;a href=&quot;sign_up_fragment.html#code-sidebar_css&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.11&lt;/span&gt;&lt;/a&gt;.&lt;sup id=&quot;cha-7_footnote-ref-9&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-9&quot;&gt;9&lt;/a&gt;&lt;/sup&gt;&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (Note the nesting of the table CSS rules, which works only because of the Sass engine used by the asset pipeline.)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The resulting page is shown in &lt;a href=&quot;sign_up_fragment.html#fig-user_show_sidebar_css&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.9&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-sidebar_css&quot; data-tralics-id=&quot;uid860&quot; data-number=&quot;7.11&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.11:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;SCSS for styling the user show page, including the sidebar.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/assets/stylesheets/custom.scss&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/*&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;sidebar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*/&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;aside&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;section&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.user_info&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;section&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;px&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:first-child&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;padding-top&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;span&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;margin-bottom&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;line-height&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;h1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.4&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;em&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;letter-spacing&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;margin-bottom&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.gravatar&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;margin-right&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.gravatar_edit&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-user_show_sidebar_css&quot; data-tralics-id=&quot;uid861&quot; data-number=&quot;7.9&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/user_show_sidebar_css_3rd_edition.png&quot; alt=&quot;images/figures/user_show_sidebar_css_3rd_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.9: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;The user show page with a sidebar and CSS.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;sec-exercises_a_gravatar_image&quot; data-tralics-id=&quot;uid862&quot; class=&quot;subsubsection&quot; data-number=&quot;7.1.4.1&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-exercises_a_gravatar_image&quot; class=&quot;heading&quot;&gt;Exercises&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;society-note&quot;&gt;
&lt;p&gt;Solutions to exercises are available for free with any Rails Tutorial &lt;a href=&quot;https://www.railstutorial.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;purchase&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see other people’s answers and to record your own, join the &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; at &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;learnenough.com/society&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;  &lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Associate a Gravatar with your primary email address if you haven’t already.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; What is the MD5 hash associated with the image? &lt;span class=&quot;exercise&quot; id=&quot;ex-6e602e&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;Verify that the code in &lt;a href=&quot;sign_up_fragment.html#code-gravatar_option&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.12&lt;/span&gt;&lt;/a&gt; allows the &lt;code&gt;gravatar_for&lt;/code&gt; helper defined in &lt;a href=&quot;sign_up_fragment.html#sec-a_gravatar_image&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.1.4&lt;/span&gt;&lt;/a&gt; to take an optional &lt;code&gt;size&lt;/code&gt; parameter, allowing code like &lt;code&gt;gravatar_for user, size: 50&lt;/code&gt; in the view.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (We’ll put this improved helper to use in &lt;a href=&quot;updating_and_deleting_users_fragment.html#sec-users_index&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;10.3.1&lt;/span&gt;&lt;/a&gt;.) &lt;span class=&quot;exercise&quot; id=&quot;ex-8214c8&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;The options hash used in the previous exercise is still commonly used, but as of Ruby 2.0 we can use &lt;em&gt;keyword arguments&lt;/em&gt; instead.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Confirm that the code in &lt;a href=&quot;sign_up_fragment.html#code-gravatar_keyword&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.13&lt;/span&gt;&lt;/a&gt; can be used in place of &lt;a href=&quot;sign_up_fragment.html#code-gravatar_option&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.12&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; What are the diffs between the two? &lt;span class=&quot;exercise&quot; id=&quot;ex-61914e&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-gravatar_option&quot; data-tralics-id=&quot;uid866&quot; data-number=&quot;7.12&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.12:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Adding an options hash in the &lt;code&gt;gravatar_for&lt;/code&gt; helper.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/helpers/users_helper.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;UsersHelper&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# Returns the Gravatar for the given user.&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;gravatar_for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;gravatar_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Digest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;MD5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hexdigest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;downcase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;n&quot;&gt;gravatar_url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://secure.gravatar.com/avatar/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gravatar_id&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;?s=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;image_tag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gravatar_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gravatar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-gravatar_keyword&quot; data-tralics-id=&quot;uid867&quot; data-number=&quot;7.13&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.13:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Using keyword arguments in the &lt;code&gt;gravatar_for&lt;/code&gt; helper.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/helpers/users_helper.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;UsersHelper&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# Returns the Gravatar for the given user.&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;gravatar_for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;gravatar_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Digest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;MD5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hexdigest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;downcase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gravatar_url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://secure.gravatar.com/avatar/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gravatar_id&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;?s=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;image_tag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gravatar_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gravatar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="179"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-a_gravatar_image" data-tralics-id="uid852" class="subsection" data-number="7.1.4">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_gravatar_image" class="heading hyperref"><span class="number">7.1.4 </span>A Gravatar image and a sidebar</a></h3>
<p>Having defined a basic user page in the previous section, we’ll now flesh it out a little with a profile image for each user and the first cut of the user sidebar.<span class="intersentencespace"></span> We’ll start by adding a “globally recognized avatar”, or <a href="http://gravatar.com/" target="_blank" rel="noopener">Gravatar</a>, to the user profile.<sup id="cha-7_footnote-ref-8" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-8" data-hasqtip="14">8</a></sup><span class="intersentencespace"></span> Gravatar is a free service that allows users to upload images and associate them with email addresses they control.<span class="intersentencespace"></span> As a result, Gravatars are a convenient way to include user profile images without going through the trouble of managing image upload, cropping, and storage; all we need to do is construct the proper Gravatar image URL using the user’s email address and the corresponding Gravatar image will automatically appear.<span class="intersentencespace"></span> (We’ll learn how to handle custom image upload in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-micropost_images" class="hyperref">Section&nbsp;<span class="ref">13.4</span></a>.)</p>
<p>Our plan is to define a <code>gravatar_for</code> helper function to return a Gravatar image for a given user, as shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-user_show_view_with_gravatar" class="hyperref">Listing&nbsp;<span class="ref">7.8</span></a>.</p>
<div class="codelisting" id="code-user_show_view_with_gravatar" data-tralics-id="uid854" data-number="7.8">
<div class="heading">
<span class="number">Listing 7.8:</span> 

<span class="description">The user show view with name and Gravatar.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/views/users/show.html.erb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;%</span> <span class="n">provide</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="vi">@user</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;h1&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">gravatar_for</span> <span class="vi">@user</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%=</span> <span class="vi">@user</span><span class="o">.</span><span class="n">name</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/h1&gt;</span>
</pre></div></div>
</div>
<p>By default, methods defined in any helper file are automatically available in any view, but for convenience we’ll put the <code>gravatar_for</code> method in the file for helpers associated with the Users controller.<span class="intersentencespace"></span> As noted in the <a href="http://en.gravatar.com/site/implement/hash/" target="_blank" rel="noopener">Gravatar documentation</a>, Gravatar URLs are based on an <a href="https://en.wikipedia.org/wiki/MD5" target="_blank" rel="noopener">MD5 hash</a> of the user’s email address.<span class="intersentencespace"></span> In Ruby, the MD5 hashing algorithm is implemented using the <code>hexdigest</code> method, which is part of the <code>Digest</code> library:</p>
<div class="code"><div class="highlight"><pre><span class="gp">&gt;&gt; </span><span class="n">email</span> <span class="o">=</span> <span class="s2">"MHARTL@example.COM"</span>
<span class="hll"><span class="gp">&gt;&gt; </span><span class="no">Digest</span><span class="o">::</span><span class="no">MD5</span><span class="o">::</span><span class="n">hexdigest</span><span class="p">(</span><span class="n">email</span><span class="o">.</span><span class="n">downcase</span><span class="p">)</span>
</span><span class="go">=&gt; "1fda4469bcbec3badf5418269ffc5968"</span>
</pre></div></div>
<p>Since email addresses are case-insensitive (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-format_validation" class="hyperref">Section&nbsp;<span class="ref">6.2.4</span></a>) but MD5 hashes are not, we’ve used the <code>downcase</code> method to ensure that the argument to <code>hexdigest</code> is all lower-case.<span class="intersentencespace"></span> (Because of the email downcasing callback in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#code-email_downcase" class="hyperref">Listing&nbsp;<span class="ref">6.32</span></a>, this will never make a difference in this tutorial, but it’s a good practice in case the <code>gravatar_for</code> ever gets used on email addresses from other sources.)<span class="intersentencespace"></span> The resulting <code>gravatar_for</code> helper appears in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-gravatar_for_helper" class="hyperref">Listing&nbsp;<span class="ref">7.9</span></a>.</p>
<div class="codelisting" id="code-gravatar_for_helper" data-tralics-id="uid855" data-number="7.9">
<div class="heading">
<span class="number">Listing 7.9:</span> 

<span class="description">Defining a <code>gravatar_for</code> helper method.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/helpers/users_helper.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">module</span> <span class="nn">UsersHelper</span>

  <span class="c1"># Returns the Gravatar for the given user.</span>
  <span class="k">def</span> <span class="nf">gravatar_for</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
    <span class="n">gravatar_id</span> <span class="o">=</span> <span class="no">Digest</span><span class="o">::</span><span class="no">MD5</span><span class="o">::</span><span class="n">hexdigest</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="o">.</span><span class="n">downcase</span><span class="p">)</span>
    <span class="n">gravatar_url</span> <span class="o">=</span> <span class="s2">"https://secure.gravatar.com/avatar/</span><span class="si">#{</span><span class="n">gravatar_id</span><span class="si">}</span><span class="s2">"</span>
    <span class="n">image_tag</span><span class="p">(</span><span class="n">gravatar_url</span><span class="p">,</span> <span class="ss">alt</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s2">"gravatar"</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
<p>The code in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-gravatar_for_helper" class="hyperref">Listing&nbsp;<span class="ref">7.9</span></a> returns an image tag for the Gravatar with a <code>gravatar</code> CSS class and alt text equal to the user’s name (which is especially convenient for sight-impaired users using a screen reader).</p>
<p>The profile page appears as in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-profile_with_gravatar" class="hyperref">Figure&nbsp;<span class="ref">7.7</span></a>, which shows the default Gravatar image, which appears because <code>user@example.com</code> isn’t a real email address.<span class="intersentencespace"></span> (In fact, as you can see by visiting it, the <a href="http://www.example.com/" target="_blank" rel="noopener">example.com</a> domain is reserved for examples like this one.)</p>
<div class="center figure" id="fig-profile_with_gravatar" data-tralics-id="uid856" data-number="7.7">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/profile_with_gravatar_3rd_edition.png" alt="images/figures/profile_with_gravatar_3rd_edition"></div>
<div class="caption">
<span class="header">Figure 7.7: </span><span class="description">The user profile page with the default Gravatar.
</span>
</div>
</div>
<p>To get our application to display a custom Gravatar, we’ll use <code>update_attributes</code> (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-updating_user_objects" class="hyperref">Section&nbsp;<span class="ref">6.1.5</span></a>) to change the user’s email to something I control:</p>
<div class="code"><div class="highlight"><pre><span class="go">$ rails console</span>
<span class="gp">&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">first</span>
<span class="gp">&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">update_attributes</span><span class="p">(</span><span class="nb">name</span><span class="p">:</span> <span class="s2">"Example User"</span><span class="p">,</span>
<span class="gp">?&gt; </span>                       <span class="ss">email</span><span class="p">:</span> <span class="s2">"example@railstutorial.org"</span><span class="p">,</span>
<span class="gp">?&gt; </span>                       <span class="ss">password</span><span class="p">:</span> <span class="s2">"foobar"</span><span class="p">,</span>
<span class="gp">?&gt; </span>                       <span class="ss">password_confirmation</span><span class="p">:</span> <span class="s2">"foobar"</span><span class="p">)</span>
<span class="go">=&gt; true</span>
</pre></div></div>
<p>Here we’ve assigned the user the email address <code>example@railstutorial.org</code>, which I’ve associated with the Rails Tutorial logo, as seen in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-profile_custom_gravatar" class="hyperref">Figure&nbsp;<span class="ref">7.8</span></a>.</p>
<div class="center figure" id="fig-profile_custom_gravatar" data-tralics-id="uid857" data-number="7.8">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/profile_custom_gravatar_3rd_edition.png" alt="images/figures/profile_custom_gravatar_3rd_edition"></div>
<div class="caption">
<span class="header">Figure 7.8: </span><span class="description">The user show page with a custom Gravatar.
</span>
</div>
</div>
<p>The last element needed to complete the mockup from <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-profile_mockup_profile_name" class="hyperref">Figure&nbsp;<span class="ref">7.1</span></a> is the initial version of the user sidebar.<span class="intersentencespace"></span> We’ll implement it using the <code>aside</code> tag, which is used for content (such as sidebars) that complements the rest of the page but can also stand alone.<span class="intersentencespace"></span> We include <code>row</code> and <code>col-md-4</code> classes, which are both part of Bootstrap.<span class="intersentencespace"></span> The code for the modified user show page appears in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-user_show_with_sidebar" class="hyperref">Listing&nbsp;<span class="ref">7.10</span></a>.</p>
<div class="codelisting" id="code-user_show_with_sidebar" data-tralics-id="uid858" data-number="7.10">
<div class="heading">
<span class="number">Listing 7.10:</span> 

<span class="description">Adding a sidebar to the user <code>show</code> view.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/views/users/show.html.erb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;%</span> <span class="n">provide</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="vi">@user</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;aside</span> <span class="na">class=</span><span class="s">"col-md-4"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"user_info"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h1&gt;</span>
        <span class="cp">&lt;%=</span> <span class="n">gravatar_for</span> <span class="vi">@user</span> <span class="cp">%&gt;</span>
        <span class="cp">&lt;%=</span> <span class="vi">@user</span><span class="o">.</span><span class="n">name</span> <span class="cp">%&gt;</span>
      <span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;/section&gt;</span>
  <span class="nt">&lt;/aside&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div></div>
</div>
<p>With the HTML elements and CSS classes in place, we can style the profile page (including the sidebar and the Gravatar) with the SCSS shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-sidebar_css" class="hyperref">Listing&nbsp;<span class="ref">7.11</span></a>.<sup id="cha-7_footnote-ref-9" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-9" data-hasqtip="15">9</a></sup><span class="intersentencespace"></span> (Note the nesting of the table CSS rules, which works only because of the Sass engine used by the asset pipeline.)<span class="intersentencespace"></span> The resulting page is shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-user_show_sidebar_css" class="hyperref">Figure&nbsp;<span class="ref">7.9</span></a>.</p>
<div class="codelisting" id="code-sidebar_css" data-tralics-id="uid860" data-number="7.11">
<div class="heading">
<span class="number">Listing 7.11:</span> 

<span class="description">SCSS for styling the user show page, including the sidebar.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/assets/stylesheets/custom.scss</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="nc">.</span>
<span class="nc">.</span>
<span class="nc">.</span>
<span class="o">/*</span> <span class="nt">sidebar</span> <span class="o">*/</span>

<span class="nt">aside</span> <span class="p">{</span>
  <span class="nt">section</span><span class="nc">.user_info</span> <span class="p">{</span>
    <span class="na">margin-top</span><span class="o">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nt">section</span> <span class="p">{</span>
    <span class="na">padding</span><span class="o">:</span> <span class="mi">10</span><span class="kt">px</span> <span class="mi">0</span><span class="p">;</span>
    <span class="na">margin-top</span><span class="o">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">&amp;</span><span class="nd">:first-child</span> <span class="p">{</span>
      <span class="na">border</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
      <span class="na">padding-top</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nt">span</span> <span class="p">{</span>
      <span class="na">display</span><span class="o">:</span> <span class="no">block</span><span class="p">;</span>
      <span class="na">margin-bottom</span><span class="o">:</span> <span class="mi">3</span><span class="kt">px</span><span class="p">;</span>
      <span class="na">line-height</span><span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nt">h1</span> <span class="p">{</span>
      <span class="na">font-size</span><span class="o">:</span> <span class="mi">1</span><span class="mf">.4</span><span class="kt">em</span><span class="p">;</span>
      <span class="na">text-align</span><span class="o">:</span> <span class="no">left</span><span class="p">;</span>
      <span class="na">letter-spacing</span><span class="o">:</span> <span class="mi">-1</span><span class="kt">px</span><span class="p">;</span>
      <span class="na">margin-bottom</span><span class="o">:</span> <span class="mi">3</span><span class="kt">px</span><span class="p">;</span>
      <span class="na">margin-top</span><span class="o">:</span> <span class="mi">0</span><span class="kt">px</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nc">.gravatar</span> <span class="p">{</span>
  <span class="na">float</span><span class="o">:</span> <span class="no">left</span><span class="p">;</span>
  <span class="na">margin-right</span><span class="o">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.gravatar_edit</span> <span class="p">{</span>
  <span class="na">margin-top</span><span class="o">:</span> <span class="mi">15</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div></div>
</div>
<div class="center figure" id="fig-user_show_sidebar_css" data-tralics-id="uid861" data-number="7.9">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/user_show_sidebar_css_3rd_edition.png" alt="images/figures/user_show_sidebar_css_3rd_edition"></div>
<div class="caption">
<span class="header">Figure 7.9: </span><span class="description">The user show page with a sidebar and CSS.
</span>
</div>
</div>
<div id="sec-exercises_a_gravatar_image" data-tralics-id="uid862" class="subsubsection" data-number="7.1.4.1">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_a_gravatar_image" class="heading">Exercises</a></h4>
<p> </p>
<div class="society-note">
<p>Solutions to exercises are available for free with any Rails Tutorial <a href="https://www.railstutorial.org/" target="_blank" rel="noopener">purchase</a>.<span class="intersentencespace"></span> To see other people’s answers and to record your own, join the <a href="http://learnenough.com/society" target="_blank" rel="noopener">Learn Enough Society</a> at <a href="http://learnenough.com/society" target="_blank" rel="noopener">learnenough.com/society</a>.<span class="intersentencespace"></span>  </p>
</div>
<ol>
<li>Associate a Gravatar with your primary email address if you haven’t already.<span class="intersentencespace"></span> What is the MD5 hash associated with the image? <span class="exercise" id="ex-6e602e"></span>
</li>
<li>Verify that the code in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-gravatar_option" class="hyperref">Listing&nbsp;<span class="ref">7.12</span></a> allows the <code>gravatar_for</code> helper defined in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_gravatar_image" class="hyperref">Section&nbsp;<span class="ref">7.1.4</span></a> to take an optional <code>size</code> parameter, allowing code like <code>gravatar_for user, size: 50</code> in the view.<span class="intersentencespace"></span> (We’ll put this improved helper to use in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-users_index" class="hyperref">Section&nbsp;<span class="ref">10.3.1</span></a>.) <span class="exercise" id="ex-8214c8"></span>
</li>
<li>The options hash used in the previous exercise is still commonly used, but as of Ruby 2.0 we can use <em>keyword arguments</em> instead.<span class="intersentencespace"></span> Confirm that the code in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-gravatar_keyword" class="hyperref">Listing&nbsp;<span class="ref">7.13</span></a> can be used in place of <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-gravatar_option" class="hyperref">Listing&nbsp;<span class="ref">7.12</span></a>.<span class="intersentencespace"></span> What are the diffs between the two? <span class="exercise" id="ex-61914e"></span>
</li>
</ol>
<div class="codelisting" id="code-gravatar_option" data-tralics-id="uid866" data-number="7.12">
<div class="heading">
<span class="number">Listing 7.12:</span> 

<span class="description">Adding an options hash in the <code>gravatar_for</code> helper.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/helpers/users_helper.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">module</span> <span class="nn">UsersHelper</span>

  <span class="c1"># Returns the Gravatar for the given user.</span>
<span class="hll">  <span class="k">def</span> <span class="nf">gravatar_for</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">options</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">size</span><span class="p">:</span> <span class="mi">80</span> <span class="p">})</span>
</span>    <span class="n">gravatar_id</span> <span class="o">=</span> <span class="no">Digest</span><span class="o">::</span><span class="no">MD5</span><span class="o">::</span><span class="n">hexdigest</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="o">.</span><span class="n">downcase</span><span class="p">)</span>
<span class="hll">    <span class="n">size</span> <span class="o">=</span> <span class="n">options</span><span class="o">[</span><span class="ss">:size</span><span class="o">]</span>
</span><span class="hll">    <span class="n">gravatar_url</span> <span class="o">=</span> <span class="s2">"https://secure.gravatar.com/avatar/</span><span class="si">#{</span><span class="n">gravatar_id</span><span class="si">}</span><span class="s2">?s=</span><span class="si">#{</span><span class="n">size</span><span class="si">}</span><span class="s2">"</span>
</span>    <span class="n">image_tag</span><span class="p">(</span><span class="n">gravatar_url</span><span class="p">,</span> <span class="ss">alt</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s2">"gravatar"</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
<div class="codelisting" id="code-gravatar_keyword" data-tralics-id="uid867" data-number="7.13">
<div class="heading">
<span class="number">Listing 7.13:</span> 

<span class="description">Using keyword arguments in the <code>gravatar_for</code> helper.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/helpers/users_helper.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">module</span> <span class="nn">UsersHelper</span>

  <span class="c1"># Returns the Gravatar for the given user.</span>
<span class="hll">  <span class="k">def</span> <span class="nf">gravatar_for</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="ss">size</span><span class="p">:</span> <span class="mi">80</span><span class="p">)</span>
</span>    <span class="n">gravatar_id</span> <span class="o">=</span> <span class="no">Digest</span><span class="o">::</span><span class="no">MD5</span><span class="o">::</span><span class="n">hexdigest</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="o">.</span><span class="n">downcase</span><span class="p">)</span>
    <span class="n">gravatar_url</span> <span class="o">=</span> <span class="s2">"https://secure.gravatar.com/avatar/</span><span class="si">#{</span><span class="n">gravatar_id</span><span class="si">}</span><span class="s2">?s=</span><span class="si">#{</span><span class="n">size</span><span class="si">}</span><span class="s2">"</span>
    <span class="n">image_tag</span><span class="p">(</span><span class="n">gravatar_url</span><span class="p">,</span> <span class="ss">alt</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s2">"gravatar"</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
</div>
</div></div></div></div>
<div class="j_sectionContent" data-html="&lt;div id=&quot;sec-signup_form&quot; data-tralics-id=&quot;cid39&quot; class=&quot;section&quot; data-number=&quot;7.2&quot;&gt;
&lt;h2&gt;&lt;a href=&quot;sign_up_fragment.html#sec-signup_form&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.2 &lt;/span&gt;Signup form&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Now that we have a working (though not yet complete) user profile page, we’re ready to make a signup form for our site.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We saw in &lt;a href=&quot;filling_in_the_layout_fragment.html#fig-new_signup_page&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;5.11&lt;/span&gt;&lt;/a&gt; (shown again in &lt;a href=&quot;sign_up_fragment.html#fig-blank_signup_page_recap&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.10&lt;/span&gt;&lt;/a&gt;) that the signup page is currently blank: useless for signing up new users.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The goal of this section is to start changing this sad state of affairs by producing the signup form mocked up in &lt;a href=&quot;sign_up_fragment.html#fig-signup_mockup&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.11&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-blank_signup_page_recap&quot; data-tralics-id=&quot;uid868&quot; data-number=&quot;7.10&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/new_signup_page_3rd_edition.png&quot; alt=&quot;images/figures/new_signup_page_3rd_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.10: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;The current state of the signup page /signup.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-signup_mockup&quot; data-tralics-id=&quot;uid869&quot; data-number=&quot;7.11&quot;&gt;
&lt;div class=&quot;graphics image box&quot;&gt;&lt;img src=&quot;images/figures/signup_mockup_bootstrap.png&quot; alt=&quot;images/figures/signup_mockup_bootstrap&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.11: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;A mockup of the user signup page.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-signup_form" data-tralics-id="cid39" class="section" data-number="7.2">
<h2><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-signup_form" class="heading hyperref"><span class="number">7.2 </span>Signup form</a></h2>
<p>Now that we have a working (though not yet complete) user profile page, we’re ready to make a signup form for our site.<span class="intersentencespace"></span> We saw in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#fig-new_signup_page" class="hyperref">Figure&nbsp;<span class="ref">5.11</span></a> (shown again in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-blank_signup_page_recap" class="hyperref">Figure&nbsp;<span class="ref">7.10</span></a>) that the signup page is currently blank: useless for signing up new users.<span class="intersentencespace"></span> The goal of this section is to start changing this sad state of affairs by producing the signup form mocked up in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_mockup" class="hyperref">Figure&nbsp;<span class="ref">7.11</span></a>.</p>
<div class="center figure" id="fig-blank_signup_page_recap" data-tralics-id="uid868" data-number="7.10">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/new_signup_page_3rd_edition.png" alt="images/figures/new_signup_page_3rd_edition"></div>
<div class="caption">
<span class="header">Figure 7.10: </span><span class="description">The current state of the signup page /signup.
</span>
</div>
</div>
<div class="center figure" id="fig-signup_mockup" data-tralics-id="uid869" data-number="7.11">
<div class="graphics image box"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/signup_mockup_bootstrap.png" alt="images/figures/signup_mockup_bootstrap"></div>
<div class="caption">
<span class="header">Figure 7.11: </span><span class="description">A mockup of the user signup page.
</span>
</div>
</div>

</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-using_form_for&quot; data-tralics-id=&quot;uid870&quot; class=&quot;subsection&quot; data-number=&quot;7.2.1&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-using_form_for&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.2.1 &lt;/span&gt;Using &lt;code class=&quot;tt&quot;&gt;form_for&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The heart of the signup page is a &lt;em&gt;form&lt;/em&gt; for submitting the relevant signup information (name, email, password, confirmation).&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We can accomplish this in Rails with the &lt;code&gt;form_for&lt;/code&gt; helper method, which takes in an Active Record object and builds a form using the object’s attributes.&lt;/p&gt;
&lt;p&gt;Recalling that the signup page /signup is routed to the &lt;code&gt;new&lt;/code&gt; action in the Users controller (&lt;a href=&quot;filling_in_the_layout_fragment.html#code-signup_route&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;5.43&lt;/span&gt;&lt;/a&gt;), our first step is to create the User object required as an argument to &lt;code&gt;form_for&lt;/code&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The resulting &lt;code&gt;@user&lt;/code&gt; variable definition appears in &lt;a href=&quot;sign_up_fragment.html#code-new_action_with_user&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.14&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-new_action_with_user&quot; data-tralics-id=&quot;uid871&quot; data-number=&quot;7.14&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.14:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Adding an &lt;code&gt;@user&lt;/code&gt; variable to the &lt;code&gt;new&lt;/code&gt; action.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/controllers/users_controller.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UsersController&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationController&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;show&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;
&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The form itself appears as in &lt;a href=&quot;sign_up_fragment.html#code-signup_form&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.15&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We’ll discuss it in detail in &lt;a href=&quot;sign_up_fragment.html#sec-the_form_html&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.2.2&lt;/span&gt;&lt;/a&gt;, but first let’s style it a little with the SCSS in &lt;a href=&quot;sign_up_fragment.html#code-form_css&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.16&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (Note the reuse of the &lt;code&gt;box_sizing&lt;/code&gt; mixin from &lt;a href=&quot;sign_up_fragment.html#code-mixin_and_debug&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.2&lt;/span&gt;&lt;/a&gt;.)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Once these CSS rules have been applied, the signup page appears as in &lt;a href=&quot;sign_up_fragment.html#fig-signup_form&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.12&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-signup_form&quot; data-tralics-id=&quot;uid872&quot; data-number=&quot;7.15&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.15:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;A form to sign up new users.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/views/users/new.html.erb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;provide&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;Sign up&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;h1&amp;gt;&lt;/span&gt;Sign up&lt;span class=&quot;nt&quot;&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;row&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;col-md-6 col-md-offset-3&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;form_for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;

      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;

      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;password_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;

      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Confirmation&quot;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;password_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;

      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;submit&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Create my account&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;btn btn-primary&quot;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-form_css&quot; data-tralics-id=&quot;uid873&quot; data-number=&quot;7.16&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.16:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;CSS for the signup form.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/assets/stylesheets/custom.scss&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/*&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;forms&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*/&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;textarea&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;.uneditable-input&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;px&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;solid&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;#bbb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;margin-bottom&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;@include&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt; box_sizing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;auto&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;!important&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-signup_form&quot; data-tralics-id=&quot;uid874&quot; data-number=&quot;7.12&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/signup_form_3rd_edition.png&quot; alt=&quot;images/figures/signup_form_3rd_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.12: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;The user signup form.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;sec-exercises_using_form_for&quot; data-tralics-id=&quot;uid875&quot; class=&quot;subsubsection&quot; data-number=&quot;7.2.1.1&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-exercises_using_form_for&quot; class=&quot;heading&quot;&gt;Exercises&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;society-note&quot;&gt;
&lt;p&gt;Solutions to exercises are available for free with any Rails Tutorial &lt;a href=&quot;https://www.railstutorial.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;purchase&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see other people’s answers and to record your own, join the &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; at &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;learnenough.com/society&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;  &lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;In &lt;a href=&quot;sign_up_fragment.html#code-signup_form&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.15&lt;/span&gt;&lt;/a&gt;, replace &lt;code&gt;:name&lt;/code&gt; with &lt;code&gt;:nome&lt;/code&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; What error message do you get as a result? &lt;span class=&quot;exercise&quot; id=&quot;ex-7224ab&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;Confirm by replacing all occurrences of &lt;code&gt;f&lt;/code&gt; with &lt;code&gt;foobar&lt;/code&gt; that the name of the block variable is irrelevant as far as the result is concerned.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Why might &lt;code&gt;foobar&lt;/code&gt; nevertheless be a bad choice? &lt;span class=&quot;exercise&quot; id=&quot;ex-d0bbfe&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="180"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-using_form_for" data-tralics-id="uid870" class="subsection" data-number="7.2.1">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-using_form_for" class="heading hyperref"><span class="number">7.2.1 </span>Using <code class="tt">form_for</code></a></h3>
<p>The heart of the signup page is a <em>form</em> for submitting the relevant signup information (name, email, password, confirmation).<span class="intersentencespace"></span> We can accomplish this in Rails with the <code>form_for</code> helper method, which takes in an Active Record object and builds a form using the object’s attributes.</p>
<p>Recalling that the signup page /signup is routed to the <code>new</code> action in the Users controller (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#code-signup_route" class="hyperref">Listing&nbsp;<span class="ref">5.43</span></a>), our first step is to create the User object required as an argument to <code>form_for</code>.<span class="intersentencespace"></span> The resulting <code>@user</code> variable definition appears in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-new_action_with_user" class="hyperref">Listing&nbsp;<span class="ref">7.14</span></a>.</p>
<div class="codelisting" id="code-new_action_with_user" data-tralics-id="uid871" data-number="7.14">
<div class="heading">
<span class="number">Listing 7.14:</span> 

<span class="description">Adding an <code>@user</code> variable to the <code>new</code> action.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/controllers/users_controller.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>

  <span class="k">def</span> <span class="nf">show</span>
    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">new</span>
<span class="hll">    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span>
</span>  <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
<p>The form itself appears as in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-signup_form" class="hyperref">Listing&nbsp;<span class="ref">7.15</span></a>.<span class="intersentencespace"></span> We’ll discuss it in detail in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-the_form_html" class="hyperref">Section&nbsp;<span class="ref">7.2.2</span></a>, but first let’s style it a little with the SCSS in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-form_css" class="hyperref">Listing&nbsp;<span class="ref">7.16</span></a>.<span class="intersentencespace"></span> (Note the reuse of the <code>box_sizing</code> mixin from <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-mixin_and_debug" class="hyperref">Listing&nbsp;<span class="ref">7.2</span></a>.)<span class="intersentencespace"></span> Once these CSS rules have been applied, the signup page appears as in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_form" class="hyperref">Figure&nbsp;<span class="ref">7.12</span></a>.</p>
<div class="codelisting" id="code-signup_form" data-tralics-id="uid872" data-number="7.15">
<div class="heading">
<span class="number">Listing 7.15:</span> 

<span class="description">A form to sign up new users.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/views/users/new.html.erb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;%</span> <span class="n">provide</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="s1">'Sign up'</span><span class="p">)</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;h1&gt;</span>Sign up<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-6 col-md-offset-3"</span><span class="nt">&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">form_for</span><span class="p">(</span><span class="vi">@user</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:name</span> <span class="cp">%&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">text_field</span> <span class="ss">:name</span> <span class="cp">%&gt;</span>

      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:email</span> <span class="cp">%&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">email_field</span> <span class="ss">:email</span> <span class="cp">%&gt;</span>

      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:password</span> <span class="cp">%&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">password_field</span> <span class="ss">:password</span> <span class="cp">%&gt;</span>

      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:password_confirmation</span><span class="p">,</span> <span class="s2">"Confirmation"</span> <span class="cp">%&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">password_field</span> <span class="ss">:password_confirmation</span> <span class="cp">%&gt;</span>

      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">submit</span> <span class="s2">"Create my account"</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s2">"btn btn-primary"</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div></div>
</div>
<div class="codelisting" id="code-form_css" data-tralics-id="uid873" data-number="7.16">
<div class="heading">
<span class="number">Listing 7.16:</span> 

<span class="description">CSS for the signup form.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/assets/stylesheets/custom.scss</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="nc">.</span>
<span class="nc">.</span>
<span class="nc">.</span>
<span class="o">/*</span> <span class="nt">forms</span> <span class="o">*/</span>

<span class="nt">input</span><span class="o">,</span> <span class="nt">textarea</span><span class="o">,</span> <span class="nt">select</span><span class="o">,</span> <span class="nc">.uneditable-input</span> <span class="p">{</span>
  <span class="na">border</span><span class="o">:</span> <span class="mi">1</span><span class="kt">px</span> <span class="no">solid</span> <span class="mh">#bbb</span><span class="p">;</span>
  <span class="na">width</span><span class="o">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
  <span class="na">margin-bottom</span><span class="o">:</span> <span class="mi">15</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">@include</span><span class="nd"> box_sizing</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">input</span> <span class="p">{</span>
  <span class="na">height</span><span class="o">:</span> <span class="no">auto</span> <span class="nv">!important</span><span class="p">;</span>
<span class="p">}</span>
</pre></div></div>
</div>
<div class="center figure" id="fig-signup_form" data-tralics-id="uid874" data-number="7.12">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/signup_form_3rd_edition.png" alt="images/figures/signup_form_3rd_edition"></div>
<div class="caption">
<span class="header">Figure 7.12: </span><span class="description">The user signup form.
</span>
</div>
</div>
<div id="sec-exercises_using_form_for" data-tralics-id="uid875" class="subsubsection" data-number="7.2.1.1">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_using_form_for" class="heading">Exercises</a></h4>
<p> </p>
<div class="society-note">
<p>Solutions to exercises are available for free with any Rails Tutorial <a href="https://www.railstutorial.org/" target="_blank" rel="noopener">purchase</a>.<span class="intersentencespace"></span> To see other people’s answers and to record your own, join the <a href="http://learnenough.com/society" target="_blank" rel="noopener">Learn Enough Society</a> at <a href="http://learnenough.com/society" target="_blank" rel="noopener">learnenough.com/society</a>.<span class="intersentencespace"></span>  </p>
</div>
<ol>
<li>In <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-signup_form" class="hyperref">Listing&nbsp;<span class="ref">7.15</span></a>, replace <code>:name</code> with <code>:nome</code>.<span class="intersentencespace"></span> What error message do you get as a result? <span class="exercise" id="ex-7224ab"></span>
</li>
<li>Confirm by replacing all occurrences of <code>f</code> with <code>foobar</code> that the name of the block variable is irrelevant as far as the result is concerned.<span class="intersentencespace"></span> Why might <code>foobar</code> nevertheless be a bad choice? <span class="exercise" id="ex-d0bbfe"></span>
</li>
</ol>
</div>
</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-the_form_html&quot; data-tralics-id=&quot;uid878&quot; class=&quot;subsection&quot; data-number=&quot;7.2.2&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-the_form_html&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.2.2 &lt;/span&gt;Signup form HTML&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;To understand the form defined in &lt;a href=&quot;sign_up_fragment.html#code-signup_form&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.15&lt;/span&gt;&lt;/a&gt;, it’s helpful to break it into smaller pieces.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We’ll first look at the outer structure, which consists of embedded Ruby opening with a call to &lt;code&gt;form_for&lt;/code&gt; and closing with &lt;code&gt;end&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;form_for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
  .
  .
  .
&lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The presence of the &lt;code&gt;do&lt;/code&gt; keyword indicates that &lt;code&gt;form_for&lt;/code&gt; takes a block with one variable, which we’ve called &lt;code&gt;f&lt;/code&gt; (for “form”).&lt;/p&gt;
&lt;p&gt;As is usually the case with Rails helpers, we don’t need to know any details about the implementation, but what we &lt;em&gt;do&lt;/em&gt; need to know is what the &lt;code&gt;f&lt;/code&gt; object does: when called with a method corresponding to an &lt;a href=&quot;http://www.w3schools.com/html/html_forms.asp&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;HTML form element&lt;/a&gt;—such as a text field, radio button, or password field—&lt;code&gt;f&lt;/code&gt; returns code for that element specifically designed to set an attribute of the &lt;code&gt;@user&lt;/code&gt; object.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In other words,&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;creates the HTML needed to make a labeled text field element appropriate for setting the &lt;code&gt;name&lt;/code&gt; attribute of a User model.&lt;/p&gt;
&lt;p&gt;If you look at the HTML for the generated form by Ctrl-clicking and using the “inspect element” function of your browser, the page’s source should look something like &lt;a href=&quot;sign_up_fragment.html#code-signup_form_html&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.17&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Let’s take a moment to discuss its structure.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-signup_form_html&quot; data-tralics-id=&quot;uid879&quot; data-number=&quot;7.17&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.17:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;The HTML for the form in &lt;a href=&quot;sign_up_fragment.html#fig-signup_form&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.12&lt;/span&gt;&lt;/a&gt;.&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;form&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;accept-charset=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;action=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/users&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;new_user&quot;&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;new_user&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;method=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;utf8&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;hidden&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;amp;#x2713;&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;authenticity_token&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;hidden&quot;&lt;/span&gt;
         &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;NNb6+J/j46LcrgYUC60wQ2titMuJQ5lLqyAbnbAUkdo=&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;for=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_name&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Name&lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_name&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user[name]&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;

  &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;for=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_email&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Email&lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_email&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user[email]&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;email&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;

  &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;for=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_password&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Password&lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_password&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user[password]&quot;&lt;/span&gt;
         &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;

  &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;for=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_password_confirmation&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Confirmation&lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_password_confirmation&quot;&lt;/span&gt;
         &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user[password_confirmation]&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;

  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;btn btn-primary&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;commit&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;submit&quot;&lt;/span&gt;
         &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Create my account&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;We’ll start with the internal structure of the document.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Comparing &lt;a href=&quot;sign_up_fragment.html#code-signup_form&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.15&lt;/span&gt;&lt;/a&gt; with &lt;a href=&quot;sign_up_fragment.html#code-signup_form_html&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.17&lt;/span&gt;&lt;/a&gt;, we see that the embedded Ruby&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;produces the HTML&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;label&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;for=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_name&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Name&lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_name&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user[name]&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;while&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;produces the HTML&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;label&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;for=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_email&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Email&lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_email&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user[email]&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;email&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;password_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;produces the HTML&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;label&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;for=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_password&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Password&lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_password&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user[password]&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As seen in &lt;a href=&quot;sign_up_fragment.html#fig-filled_in_form&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.13&lt;/span&gt;&lt;/a&gt;, text and email fields (&lt;code&gt;type=&quot;text&quot;&lt;/code&gt; and &lt;code&gt;type=&quot;email&quot;&lt;/code&gt;) simply display their contents, whereas password fields (&lt;code&gt;type=&quot;password&quot;&lt;/code&gt;) obscure the input for security purposes, as seen in &lt;a href=&quot;sign_up_fragment.html#fig-filled_in_form&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.13&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (The benefit of using an email field is that some systems treat it differently from a text field; for example, the code &lt;code&gt;type=&quot;email&quot;&lt;/code&gt; will cause some mobile devices to display a special keyboard optimized for entering email addresses.)&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-filled_in_form&quot; data-tralics-id=&quot;uid880&quot; data-number=&quot;7.13&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/filled_in_form_bootstrap_3rd_edition.png&quot; alt=&quot;images/figures/filled_in_form_bootstrap_3rd_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.13: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;A filled-in form with &lt;code&gt;text&lt;/code&gt; and &lt;code&gt;password&lt;/code&gt; fields.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;As we’ll see in &lt;a href=&quot;sign_up_fragment.html#sec-successful_signups&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.4&lt;/span&gt;&lt;/a&gt;, the key to creating a user is the special &lt;code&gt;name&lt;/code&gt; attribute in each &lt;code&gt;input&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_name&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user[name]&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
.
.
.
&lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_password&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user[password]&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;These &lt;code&gt;name&lt;/code&gt; values allow Rails to construct an initialization hash (via the &lt;code&gt;params&lt;/code&gt; variable) for creating users using the values entered by the user, as we’ll see in &lt;a href=&quot;sign_up_fragment.html#sec-unsuccessful_signups&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.3&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The second important element is the &lt;code&gt;form&lt;/code&gt; tag itself.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Rails creates the &lt;code&gt;form&lt;/code&gt; tag using the &lt;code&gt;@user&lt;/code&gt; object: because every Ruby object knows its own class (&lt;a href=&quot;rails_flavored_ruby_fragment.html#sec-constructors&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;4.4.1&lt;/span&gt;&lt;/a&gt;), Rails figures out that &lt;code&gt;@user&lt;/code&gt; is of class &lt;code&gt;User&lt;/code&gt;; moreover, since &lt;code&gt;@user&lt;/code&gt; is a &lt;em&gt;new&lt;/em&gt; user, Rails knows to construct a form with the &lt;code&gt;post&lt;/code&gt; method, which is the proper verb for creating a new object (&lt;a href=&quot;static_pages_fragment.html#aside-get_etc&quot; class=&quot;hyperref&quot;&gt;Box &lt;span class=&quot;ref&quot;&gt;3.2&lt;/span&gt;&lt;/a&gt;):&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;form&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;action=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/users&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;new_user&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;new_user&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;method=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here the &lt;code&gt;class&lt;/code&gt; and &lt;code&gt;id&lt;/code&gt; attributes are largely irrelevant; what’s important is &lt;code&gt;action=&quot;/users&quot;&lt;/code&gt; and &lt;code&gt;method=&quot;post&quot;&lt;/code&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Together, these constitute instructions to issue an HTTP &lt;code class=&quot;tt&quot;&gt;POST&lt;/code&gt; request to the /users URL.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We’ll see in the next two sections what effects this has.&lt;/p&gt;
&lt;p&gt;(You may also have noticed the code that appears just inside the &lt;code&gt;form&lt;/code&gt; tag:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;utf8&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;hidden&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;amp;#x2713;&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;authenticity_token&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;hidden&quot;&lt;/span&gt;
       &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;NNb6+J/j46LcrgYUC60wQ2titMuJQ5lLqyAbnbAUkdo=&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This code, which isn’t displayed in the browser, is used internally by Rails, so it’s not important for us to understand what it does.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Briefly, it uses the Unicode character &lt;code&gt;&amp;amp;#x2713;&lt;/code&gt; (a checkmark ✓) to force browsers to submit data using the right character encoding, and then it includes an &lt;em&gt;authenticity token&lt;/em&gt;, which Rails uses to thwart an attack called a &lt;em&gt;cross-site request forgery&lt;/em&gt; (CSRF).&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Knowing when it’s OK to ignore details like this is a good mark of technical sophistication (&lt;a href=&quot;beginning_fragment.html#aside-technical_sophistication&quot; class=&quot;hyperref&quot;&gt;Box &lt;span class=&quot;ref&quot;&gt;1.1&lt;/span&gt;&lt;/a&gt;).)&lt;sup id=&quot;cha-7_footnote-ref-10&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-10&quot;&gt;10&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;div id=&quot;sec-exercises_the_form_html&quot; data-tralics-id=&quot;uid882&quot; class=&quot;subsubsection&quot; data-number=&quot;7.2.2.1&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-exercises_the_form_html&quot; class=&quot;heading&quot;&gt;Exercises&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;society-note&quot;&gt;
&lt;p&gt;Solutions to exercises are available for free with any Rails Tutorial &lt;a href=&quot;https://www.railstutorial.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;purchase&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see other people’s answers and to record your own, join the &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; at &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;learnenough.com/society&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;  &lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;a href=&quot;https://www.learnenough.com/html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;em&gt;Learn Enough HTML to Be Dangerous&lt;/em&gt;&lt;/a&gt;, in which all HTML is written by hand, doesn’t cover the &lt;code&gt;form&lt;/code&gt; tag.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Why not? &lt;span class=&quot;exercise&quot; id=&quot;ex-602989&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="181"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-the_form_html" data-tralics-id="uid878" class="subsection" data-number="7.2.2">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-the_form_html" class="heading hyperref"><span class="number">7.2.2 </span>Signup form HTML</a></h3>
<p>To understand the form defined in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-signup_form" class="hyperref">Listing&nbsp;<span class="ref">7.15</span></a>, it’s helpful to break it into smaller pieces.<span class="intersentencespace"></span> We’ll first look at the outer structure, which consists of embedded Ruby opening with a call to <code>form_for</code> and closing with <code>end</code>:</p>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">form_for</span><span class="p">(</span><span class="vi">@user</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>
  .
  .
  .
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</pre></div></div>
<p>The presence of the <code>do</code> keyword indicates that <code>form_for</code> takes a block with one variable, which we’ve called <code>f</code> (for “form”).</p>
<p>As is usually the case with Rails helpers, we don’t need to know any details about the implementation, but what we <em>do</em> need to know is what the <code>f</code> object does: when called with a method corresponding to an <a href="http://www.w3schools.com/html/html_forms.asp" target="_blank" rel="noopener">HTML form element</a>—such as a text field, radio button, or password field—<code>f</code> returns code for that element specifically designed to set an attribute of the <code>@user</code> object.<span class="intersentencespace"></span> In other words,</p>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:name</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">text_field</span> <span class="ss">:name</span> <span class="cp">%&gt;</span>
</pre></div></div>
<p>creates the HTML needed to make a labeled text field element appropriate for setting the <code>name</code> attribute of a User model.</p>
<p>If you look at the HTML for the generated form by Ctrl-clicking and using the “inspect element” function of your browser, the page’s source should look something like <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-signup_form_html" class="hyperref">Listing&nbsp;<span class="ref">7.17</span></a>.<span class="intersentencespace"></span> Let’s take a moment to discuss its structure.</p>
<div class="codelisting" id="code-signup_form_html" data-tralics-id="uid879" data-number="7.17">
<div class="heading">
<span class="number">Listing 7.17:</span> 

<span class="description">The HTML for the form in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_form" class="hyperref">Figure&nbsp;<span class="ref">7.12</span></a>.</span>
</div>

<div class="code"><div class="highlight"><pre><span class="nt">&lt;form</span> <span class="na">accept-charset=</span><span class="s">"UTF-8"</span> <span class="na">action=</span><span class="s">"/users"</span> <span class="na">class=</span><span class="s">"new_user"</span>
      <span class="na">id=</span><span class="s">"new_user"</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">"utf8"</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">value=</span><span class="s">"&amp;#x2713;"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">"authenticity_token"</span> <span class="na">type=</span><span class="s">"hidden"</span>
         <span class="na">value=</span><span class="s">"NNb6+J/j46LcrgYUC60wQ2titMuJQ5lLqyAbnbAUkdo="</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"user_name"</span><span class="nt">&gt;</span>Name<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"user_name"</span> <span class="na">name=</span><span class="s">"user[name]"</span> <span class="na">type=</span><span class="s">"text"</span> <span class="nt">/&gt;</span>

  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"user_email"</span><span class="nt">&gt;</span>Email<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"user_email"</span> <span class="na">name=</span><span class="s">"user[email]"</span> <span class="na">type=</span><span class="s">"email"</span> <span class="nt">/&gt;</span>

  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"user_password"</span><span class="nt">&gt;</span>Password<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"user_password"</span> <span class="na">name=</span><span class="s">"user[password]"</span>
         <span class="na">type=</span><span class="s">"password"</span> <span class="nt">/&gt;</span>

  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"user_password_confirmation"</span><span class="nt">&gt;</span>Confirmation<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"user_password_confirmation"</span>
         <span class="na">name=</span><span class="s">"user[password_confirmation]"</span> <span class="na">type=</span><span class="s">"password"</span> <span class="nt">/&gt;</span>

  <span class="nt">&lt;input</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span> <span class="na">name=</span><span class="s">"commit"</span> <span class="na">type=</span><span class="s">"submit"</span>
         <span class="na">value=</span><span class="s">"Create my account"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</pre></div></div>
</div>
<p>We’ll start with the internal structure of the document.<span class="intersentencespace"></span> Comparing <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-signup_form" class="hyperref">Listing&nbsp;<span class="ref">7.15</span></a> with <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-signup_form_html" class="hyperref">Listing&nbsp;<span class="ref">7.17</span></a>, we see that the embedded Ruby</p>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:name</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">text_field</span> <span class="ss">:name</span> <span class="cp">%&gt;</span>
</pre></div></div>
<p>produces the HTML</p>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"user_name"</span><span class="nt">&gt;</span>Name<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"user_name"</span> <span class="na">name=</span><span class="s">"user[name]"</span> <span class="na">type=</span><span class="s">"text"</span> <span class="nt">/&gt;</span>
</pre></div></div>
<p>while</p>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:email</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">email_field</span> <span class="ss">:email</span> <span class="cp">%&gt;</span>
</pre></div></div>
<p>produces the HTML</p>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"user_email"</span><span class="nt">&gt;</span>Email<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"user_email"</span> <span class="na">name=</span><span class="s">"user[email]"</span> <span class="na">type=</span><span class="s">"email"</span> <span class="nt">/&gt;</span>
</pre></div></div>
<p>and</p>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:password</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">password_field</span> <span class="ss">:password</span> <span class="cp">%&gt;</span>
</pre></div></div>
<p>produces the HTML</p>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"user_password"</span><span class="nt">&gt;</span>Password<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"user_password"</span> <span class="na">name=</span><span class="s">"user[password]"</span> <span class="na">type=</span><span class="s">"password"</span> <span class="nt">/&gt;</span>
</pre></div></div>
<p>As seen in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-filled_in_form" class="hyperref">Figure&nbsp;<span class="ref">7.13</span></a>, text and email fields (<code>type="text"</code> and <code>type="email"</code>) simply display their contents, whereas password fields (<code>type="password"</code>) obscure the input for security purposes, as seen in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-filled_in_form" class="hyperref">Figure&nbsp;<span class="ref">7.13</span></a>.<span class="intersentencespace"></span> (The benefit of using an email field is that some systems treat it differently from a text field; for example, the code <code>type="email"</code> will cause some mobile devices to display a special keyboard optimized for entering email addresses.)</p>
<div class="center figure" id="fig-filled_in_form" data-tralics-id="uid880" data-number="7.13">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/filled_in_form_bootstrap_3rd_edition.png" alt="images/figures/filled_in_form_bootstrap_3rd_edition"></div>
<div class="caption">
<span class="header">Figure 7.13: </span><span class="description">A filled-in form with <code>text</code> and <code>password</code> fields.
</span>
</div>
</div>
<p>As we’ll see in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-successful_signups" class="hyperref">Section&nbsp;<span class="ref">7.4</span></a>, the key to creating a user is the special <code>name</code> attribute in each <code>input</code>:</p>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"user_name"</span> <span class="na">name=</span><span class="s">"user[name]"</span> <span class="na">-</span> <span class="na">-</span> <span class="na">-</span> <span class="nt">/&gt;</span>
.
.
.
<span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"user_password"</span> <span class="na">name=</span><span class="s">"user[password]"</span> <span class="na">-</span> <span class="na">-</span> <span class="na">-</span> <span class="nt">/&gt;</span>
</pre></div></div>
<p>These <code>name</code> values allow Rails to construct an initialization hash (via the <code>params</code> variable) for creating users using the values entered by the user, as we’ll see in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-unsuccessful_signups" class="hyperref">Section&nbsp;<span class="ref">7.3</span></a>.</p>
<p>The second important element is the <code>form</code> tag itself.<span class="intersentencespace"></span> Rails creates the <code>form</code> tag using the <code>@user</code> object: because every Ruby object knows its own class (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-constructors" class="hyperref">Section&nbsp;<span class="ref">4.4.1</span></a>), Rails figures out that <code>@user</code> is of class <code>User</code>; moreover, since <code>@user</code> is a <em>new</em> user, Rails knows to construct a form with the <code>post</code> method, which is the proper verb for creating a new object (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#aside-get_etc" class="hyperref">Box&nbsp;<span class="ref">3.2</span></a>):</p>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"/users"</span> <span class="na">class=</span><span class="s">"new_user"</span> <span class="na">id=</span><span class="s">"new_user"</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>
</pre></div></div>
<p>Here the <code>class</code> and <code>id</code> attributes are largely irrelevant; what’s important is <code>action="/users"</code> and <code>method="post"</code>.<span class="intersentencespace"></span> Together, these constitute instructions to issue an HTTP <code class="tt">POST</code> request to the /users URL.<span class="intersentencespace"></span> We’ll see in the next two sections what effects this has.</p>
<p>(You may also have noticed the code that appears just inside the <code>form</code> tag:</p>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">"utf8"</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">value=</span><span class="s">"&amp;#x2713;"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">"authenticity_token"</span> <span class="na">type=</span><span class="s">"hidden"</span>
       <span class="na">value=</span><span class="s">"NNb6+J/j46LcrgYUC60wQ2titMuJQ5lLqyAbnbAUkdo="</span> <span class="nt">/&gt;</span>
</pre></div></div>
<p>This code, which isn’t displayed in the browser, is used internally by Rails, so it’s not important for us to understand what it does.<span class="intersentencespace"></span> Briefly, it uses the Unicode character <code>&amp;#x2713;</code> (a checkmark&nbsp;✓) to force browsers to submit data using the right character encoding, and then it includes an <em>authenticity token</em>, which Rails uses to thwart an attack called a <em>cross-site request forgery</em> (CSRF).<span class="intersentencespace"></span> Knowing when it’s OK to ignore details like this is a good mark of technical sophistication (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#aside-technical_sophistication" class="hyperref">Box&nbsp;<span class="ref">1.1</span></a>).)<sup id="cha-7_footnote-ref-10" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-10" data-hasqtip="16">10</a></sup></p>
<div id="sec-exercises_the_form_html" data-tralics-id="uid882" class="subsubsection" data-number="7.2.2.1">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_the_form_html" class="heading">Exercises</a></h4>
<p> </p>
<div class="society-note">
<p>Solutions to exercises are available for free with any Rails Tutorial <a href="https://www.railstutorial.org/" target="_blank" rel="noopener">purchase</a>.<span class="intersentencespace"></span> To see other people’s answers and to record your own, join the <a href="http://learnenough.com/society" target="_blank" rel="noopener">Learn Enough Society</a> at <a href="http://learnenough.com/society" target="_blank" rel="noopener">learnenough.com/society</a>.<span class="intersentencespace"></span>  </p>
</div>
<ol>
<li>
<a href="https://www.learnenough.com/html" target="_blank" rel="noopener"><em>Learn Enough HTML to Be Dangerous</em></a>, in which all HTML is written by hand, doesn’t cover the <code>form</code> tag.<span class="intersentencespace"></span> Why not? <span class="exercise" id="ex-602989"></span>
</li>
</ol>
</div>
</div></div></div></div>
<div class="j_sectionContent" data-html="&lt;div id=&quot;sec-unsuccessful_signups&quot; data-tralics-id=&quot;cid40&quot; class=&quot;section&quot; data-number=&quot;7.3&quot;&gt;
&lt;h2&gt;&lt;a href=&quot;sign_up_fragment.html#sec-unsuccessful_signups&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.3 &lt;/span&gt;Unsuccessful signups&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Although we’ve briefly examined the HTML for the form in &lt;a href=&quot;sign_up_fragment.html#fig-signup_form&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.12&lt;/span&gt;&lt;/a&gt; (shown in &lt;a href=&quot;sign_up_fragment.html#code-signup_form_html&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.17&lt;/span&gt;&lt;/a&gt;), we haven’t yet covered any details, and the form is best understood in the context of &lt;em&gt;signup failure&lt;/em&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In this section, we’ll create a signup form that accepts an invalid submission and re-renders the signup page with a list of errors, as mocked up in &lt;a href=&quot;sign_up_fragment.html#fig-signup_failure_mockup&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.14&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-signup_failure_mockup&quot; data-tralics-id=&quot;uid884&quot; data-number=&quot;7.14&quot;&gt;
&lt;div class=&quot;graphics image box&quot;&gt;&lt;img src=&quot;images/figures/signup_failure_mockup_bootstrap.png&quot; alt=&quot;images/figures/signup_failure_mockup_bootstrap&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.14: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;A mockup of the signup failure page.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;



&lt;/div&gt;"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-unsuccessful_signups" data-tralics-id="cid40" class="section" data-number="7.3">
<h2><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-unsuccessful_signups" class="heading hyperref"><span class="number">7.3 </span>Unsuccessful signups</a></h2>
<p>Although we’ve briefly examined the HTML for the form in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_form" class="hyperref">Figure&nbsp;<span class="ref">7.12</span></a> (shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-signup_form_html" class="hyperref">Listing&nbsp;<span class="ref">7.17</span></a>), we haven’t yet covered any details, and the form is best understood in the context of <em>signup failure</em>.<span class="intersentencespace"></span> In this section, we’ll create a signup form that accepts an invalid submission and re-renders the signup page with a list of errors, as mocked up in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_failure_mockup" class="hyperref">Figure&nbsp;<span class="ref">7.14</span></a>.</p>
<div class="center figure" id="fig-signup_failure_mockup" data-tralics-id="uid884" data-number="7.14">
<div class="graphics image box"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/signup_failure_mockup_bootstrap.png" alt="images/figures/signup_failure_mockup_bootstrap"></div>
<div class="caption">
<span class="header">Figure 7.14: </span><span class="description">A mockup of the signup failure page.
</span>
</div>
</div>



</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-a_working_form&quot; data-tralics-id=&quot;uid885&quot; class=&quot;subsection&quot; data-number=&quot;7.3.1&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-a_working_form&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.3.1 &lt;/span&gt;A working form&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Recall from &lt;a href=&quot;sign_up_fragment.html#sec-a_users_resource&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.1.2&lt;/span&gt;&lt;/a&gt; that adding &lt;code&gt;resources :users&lt;/code&gt; to the &lt;code&gt;routes.rb&lt;/code&gt; file (&lt;a href=&quot;sign_up_fragment.html#code-users_resource&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.3&lt;/span&gt;&lt;/a&gt;) automatically ensures that our Rails application responds to the RESTful URLs from &lt;a href=&quot;sign_up_fragment.html#table-RESTful_users&quot; class=&quot;hyperref&quot;&gt;Table &lt;span class=&quot;ref&quot;&gt;7.1&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In particular, it ensures that a &lt;code class=&quot;tt&quot;&gt;POST&lt;/code&gt; request to /users is handled by the &lt;code&gt;create&lt;/code&gt; action.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Our strategy for the &lt;code&gt;create&lt;/code&gt; action is to use the form submission to make a new user object using &lt;code&gt;User.new&lt;/code&gt;, try (and fail) to save that user, and then render the signup page for possible resubmission.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Let’s get started by reviewing the code for the signup form:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;form&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;action=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/users&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;new_user&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;new_user&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;method=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As noted in &lt;a href=&quot;sign_up_fragment.html#sec-the_form_html&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.2.2&lt;/span&gt;&lt;/a&gt;, this HTML issues a &lt;code class=&quot;tt&quot;&gt;POST&lt;/code&gt; request to the /users URL.&lt;/p&gt;
&lt;p&gt;Our first step toward a working signup form is adding the code in &lt;a href=&quot;sign_up_fragment.html#code-first_create_action&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.18&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This listing includes a second use of the &lt;code&gt;render&lt;/code&gt; method, which we first saw in the context of partials (&lt;a href=&quot;filling_in_the_layout_fragment.html#sec-partials&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;5.1.3&lt;/span&gt;&lt;/a&gt;); as you can see, &lt;code&gt;render&lt;/code&gt; works in controller actions as well.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Note that we’ve taken this opportunity to introduce an &lt;code&gt;if&lt;/code&gt;-&lt;code&gt;else&lt;/code&gt; branching structure, which allows us to handle the cases of failure and success separately based on the value of &lt;code&gt;@user.save&lt;/code&gt;, which (as we saw in &lt;a href=&quot;modeling_users_fragment.html#sec-creating_user_objects&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;6.1.3&lt;/span&gt;&lt;/a&gt;) is either &lt;code&gt;true&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt; depending on whether or not the save succeeds.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-first_create_action&quot; data-tralics-id=&quot;uid886&quot; data-number=&quot;7.18&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.18:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;A &lt;code&gt;create&lt;/code&gt; action that can handle signup failure.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/controllers/users_controller.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UsersController&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationController&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;show&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# Not the final implementation!&lt;/span&gt;
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Handle a successful save.&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;new&#39;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Note the comment: this is not the final implementation.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; But it’s enough to get us started, and we’ll finish the implementation in &lt;a href=&quot;sign_up_fragment.html#sec-strong_parameters&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.3.2&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The best way to understand how the code in &lt;a href=&quot;sign_up_fragment.html#code-first_create_action&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.18&lt;/span&gt;&lt;/a&gt; works is to &lt;em&gt;submit&lt;/em&gt; the form with some invalid signup data.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The result appears in &lt;a href=&quot;sign_up_fragment.html#fig-signup_failure&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.15&lt;/span&gt;&lt;/a&gt;, and the full debug information appears in &lt;a href=&quot;sign_up_fragment.html#fig-signup_failure_rails_debug&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.16&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-signup_failure&quot; data-tralics-id=&quot;uid887&quot; data-number=&quot;7.15&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/signup_failure_4th_edition.png&quot; alt=&quot;images/figures/signup_failure_4th_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.15: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;Signup failure.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-signup_failure_rails_debug&quot; data-tralics-id=&quot;uid888&quot; data-number=&quot;7.16&quot;&gt;
&lt;div class=&quot;graphics image box&quot;&gt;&lt;img src=&quot;images/figures/signup_failure_debug_4th_edition.png&quot; alt=&quot;images/figures/signup_failure_debug_4th_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.16: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;Signup failure debug information.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;To get a better picture of how Rails handles the submission, let’s take a closer look at the &lt;code&gt;user&lt;/code&gt; part of the parameters hash from the debug information (&lt;a href=&quot;sign_up_fragment.html#fig-signup_failure_rails_debug&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.16&lt;/span&gt;&lt;/a&gt;):&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;s2&quot;&gt;&quot;user&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Foo Bar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;email&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;foo@invalid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;[FILTERED]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;password_confirmation&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;[FILTERED]&quot;&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This hash gets passed to the Users controller as part of &lt;code&gt;params&lt;/code&gt;, and we saw starting in &lt;a href=&quot;sign_up_fragment.html#sec-a_users_resource&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.1.2&lt;/span&gt;&lt;/a&gt; that the &lt;code&gt;params&lt;/code&gt; hash contains information about each request.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In the case of a URL like /users/1, the value of &lt;code&gt;params[:id]&lt;/code&gt; is the &lt;code&gt;id&lt;/code&gt; of the corresponding user (&lt;code&gt;1&lt;/code&gt; in this example).&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In the case of posting to the signup form, &lt;code&gt;params&lt;/code&gt; instead contains a hash of hashes, a construction we first saw in &lt;a href=&quot;rails_flavored_ruby_fragment.html#sec-hashes_and_symbols&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;4.3.3&lt;/span&gt;&lt;/a&gt;, which introduced the strategically named &lt;code&gt;params&lt;/code&gt; variable in a console session.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The debug information above shows that submitting the form results in a &lt;code&gt;user&lt;/code&gt; hash with attributes corresponding to the submitted values, where the keys come from the &lt;code&gt;name&lt;/code&gt; attributes of the &lt;code&gt;input&lt;/code&gt; tags seen in &lt;a href=&quot;sign_up_fragment.html#code-signup_form_html&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.17&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; For example, the value of&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user_email&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user[email]&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;email&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;with name &lt;code&gt;&quot;user[email]&quot;&lt;/code&gt; is precisely the &lt;code&gt;email&lt;/code&gt; attribute of the &lt;code&gt;user&lt;/code&gt; hash.&lt;/p&gt;
&lt;p&gt;Although the hash keys appear as strings in the debug output, we can access them in the Users controller as symbols, so that &lt;code&gt;params[:user]&lt;/code&gt; is the hash of user attributes—in fact, exactly the attributes needed as an argument to &lt;code&gt;User.new&lt;/code&gt;, as first seen in &lt;a href=&quot;rails_flavored_ruby_fragment.html#sec-a_user_class&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;4.4.5&lt;/span&gt;&lt;/a&gt; and appearing in &lt;a href=&quot;sign_up_fragment.html#code-first_create_action&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.18&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This means that the line&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is mostly equivalent to&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Foo Bar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;foo@invalid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;ss&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In previous versions of Rails, using&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;actually worked, but it was insecure by default and required a careful and error-prone procedure to prevent malicious users from potentially modifying the application database.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In Rails version later than 4.0, this code raises an error (as seen in &lt;a href=&quot;sign_up_fragment.html#fig-signup_failure&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.15&lt;/span&gt;&lt;/a&gt; and &lt;a href=&quot;sign_up_fragment.html#fig-signup_failure_rails_debug&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.16&lt;/span&gt;&lt;/a&gt; above), which means it is secure by default.&lt;/p&gt;
&lt;/div&gt;" data-sub-section-id="182"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-a_working_form" data-tralics-id="uid885" class="subsection" data-number="7.3.1">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_working_form" class="heading hyperref"><span class="number">7.3.1 </span>A working form</a></h3>
<p>Recall from <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_users_resource" class="hyperref">Section&nbsp;<span class="ref">7.1.2</span></a> that adding <code>resources :users</code> to the <code>routes.rb</code> file (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-users_resource" class="hyperref">Listing&nbsp;<span class="ref">7.3</span></a>) automatically ensures that our Rails application responds to the RESTful URLs from <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#table-RESTful_users" class="hyperref">Table&nbsp;<span class="ref">7.1</span></a>.<span class="intersentencespace"></span> In particular, it ensures that a <code class="tt">POST</code> request to /users is handled by the <code>create</code> action.<span class="intersentencespace"></span> Our strategy for the <code>create</code> action is to use the form submission to make a new user object using <code>User.new</code>, try (and fail) to save that user, and then render the signup page for possible resubmission.<span class="intersentencespace"></span> Let’s get started by reviewing the code for the signup form:</p>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"/users"</span> <span class="na">class=</span><span class="s">"new_user"</span> <span class="na">id=</span><span class="s">"new_user"</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>
</pre></div></div>
<p>As noted in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-the_form_html" class="hyperref">Section&nbsp;<span class="ref">7.2.2</span></a>, this HTML issues a <code class="tt">POST</code> request to the /users URL.</p>
<p>Our first step toward a working signup form is adding the code in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-first_create_action" class="hyperref">Listing&nbsp;<span class="ref">7.18</span></a>.<span class="intersentencespace"></span> This listing includes a second use of the <code>render</code> method, which we first saw in the context of partials (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-partials" class="hyperref">Section&nbsp;<span class="ref">5.1.3</span></a>); as you can see, <code>render</code> works in controller actions as well.<span class="intersentencespace"></span> Note that we’ve taken this opportunity to introduce an <code>if</code>-<code>else</code> branching structure, which allows us to handle the cases of failure and success separately based on the value of <code>@user.save</code>, which (as we saw in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-creating_user_objects" class="hyperref">Section&nbsp;<span class="ref">6.1.3</span></a>) is either <code>true</code> or <code>false</code> depending on whether or not the save succeeds.</p>
<div class="codelisting" id="code-first_create_action" data-tralics-id="uid886" data-number="7.18">
<div class="heading">
<span class="number">Listing 7.18:</span> 

<span class="description">A <code>create</code> action that can handle signup failure.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/controllers/users_controller.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>

  <span class="k">def</span> <span class="nf">show</span>
    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">new</span>
    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">create</span>
<span class="hll">    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:user</span><span class="o">]</span><span class="p">)</span>    <span class="c1"># Not the final implementation!</span>
</span>    <span class="k">if</span> <span class="vi">@user</span><span class="o">.</span><span class="n">save</span>
      <span class="c1"># Handle a successful save.</span>
    <span class="k">else</span>
      <span class="n">render</span> <span class="s1">'new'</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
<p>Note the comment: this is not the final implementation.<span class="intersentencespace"></span> But it’s enough to get us started, and we’ll finish the implementation in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-strong_parameters" class="hyperref">Section&nbsp;<span class="ref">7.3.2</span></a>.</p>
<p>The best way to understand how the code in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-first_create_action" class="hyperref">Listing&nbsp;<span class="ref">7.18</span></a> works is to <em>submit</em> the form with some invalid signup data.<span class="intersentencespace"></span> The result appears in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_failure" class="hyperref">Figure&nbsp;<span class="ref">7.15</span></a>, and the full debug information appears in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_failure_rails_debug" class="hyperref">Figure&nbsp;<span class="ref">7.16</span></a>.</p>
<div class="center figure" id="fig-signup_failure" data-tralics-id="uid887" data-number="7.15">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/signup_failure_4th_edition.png" alt="images/figures/signup_failure_4th_edition"></div>
<div class="caption">
<span class="header">Figure 7.15: </span><span class="description">Signup failure.
</span>
</div>
</div>
<div class="center figure" id="fig-signup_failure_rails_debug" data-tralics-id="uid888" data-number="7.16">
<div class="graphics image box"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/signup_failure_debug_4th_edition.png" alt="images/figures/signup_failure_debug_4th_edition"></div>
<div class="caption">
<span class="header">Figure 7.16: </span><span class="description">Signup failure debug information.
</span>
</div>
</div>
<p>To get a better picture of how Rails handles the submission, let’s take a closer look at the <code>user</code> part of the parameters hash from the debug information (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_failure_rails_debug" class="hyperref">Figure&nbsp;<span class="ref">7.16</span></a>):</p>
<div class="code"><div class="highlight"><pre><span class="s2">"user"</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Foo Bar"</span><span class="p">,</span>
            <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"foo@invalid"</span><span class="p">,</span>
            <span class="s2">"password"</span> <span class="o">=&gt;</span> <span class="s2">"[FILTERED]"</span><span class="p">,</span>
            <span class="s2">"password_confirmation"</span> <span class="o">=&gt;</span> <span class="s2">"[FILTERED]"</span>
          <span class="p">}</span>
</pre></div></div>
<p>This hash gets passed to the Users controller as part of <code>params</code>, and we saw starting in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_users_resource" class="hyperref">Section&nbsp;<span class="ref">7.1.2</span></a> that the <code>params</code> hash contains information about each request.<span class="intersentencespace"></span> In the case of a URL like /users/1, the value of <code>params[:id]</code> is the <code>id</code> of the corresponding user (<code>1</code>&nbsp;in this example).<span class="intersentencespace"></span> In the case of posting to the signup form, <code>params</code> instead contains a hash of hashes, a construction we first saw in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-hashes_and_symbols" class="hyperref">Section&nbsp;<span class="ref">4.3.3</span></a>, which introduced the strategically named <code>params</code> variable in a console session.<span class="intersentencespace"></span> The debug information above shows that submitting the form results in a <code>user</code> hash with attributes corresponding to the submitted values, where the keys come from the <code>name</code> attributes of the <code>input</code> tags seen in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-signup_form_html" class="hyperref">Listing&nbsp;<span class="ref">7.17</span></a>.<span class="intersentencespace"></span> For example, the value of</p>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"user_email"</span> <span class="na">name=</span><span class="s">"user[email]"</span> <span class="na">type=</span><span class="s">"email"</span> <span class="nt">/&gt;</span>
</pre></div></div>
<p>with name <code>"user[email]"</code> is precisely the <code>email</code> attribute of the <code>user</code> hash.</p>
<p>Although the hash keys appear as strings in the debug output, we can access them in the Users controller as symbols, so that <code>params[:user]</code> is the hash of user attributes—in fact, exactly the attributes needed as an argument to <code>User.new</code>, as first seen in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-a_user_class" class="hyperref">Section&nbsp;<span class="ref">4.4.5</span></a> and appearing in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-first_create_action" class="hyperref">Listing&nbsp;<span class="ref">7.18</span></a>.<span class="intersentencespace"></span> This means that the line</p>
<div class="code"><div class="highlight"><pre><span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:user</span><span class="o">]</span><span class="p">)</span>
</pre></div></div>
<p>is mostly equivalent to</p>
<div class="code"><div class="highlight"><pre><span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">name</span><span class="p">:</span> <span class="s2">"Foo Bar"</span><span class="p">,</span> <span class="ss">email</span><span class="p">:</span> <span class="s2">"foo@invalid"</span><span class="p">,</span>
                 <span class="ss">password</span><span class="p">:</span> <span class="s2">"foo"</span><span class="p">,</span> <span class="ss">password_confirmation</span><span class="p">:</span> <span class="s2">"bar"</span><span class="p">)</span>
</pre></div></div>
<p>In previous versions of Rails, using</p>
<div class="code"><div class="highlight"><pre><span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:user</span><span class="o">]</span><span class="p">)</span>
</pre></div></div>
<p>actually worked, but it was insecure by default and required a careful and error-prone procedure to prevent malicious users from potentially modifying the application database.<span class="intersentencespace"></span> In Rails version later than 4.0, this code raises an error (as seen in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_failure" class="hyperref">Figure&nbsp;<span class="ref">7.15</span></a> and <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_failure_rails_debug" class="hyperref">Figure&nbsp;<span class="ref">7.16</span></a> above), which means it is secure by default.</p>
</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-strong_parameters&quot; data-tralics-id=&quot;uid889&quot; class=&quot;subsection&quot; data-number=&quot;7.3.2&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-strong_parameters&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.3.2 &lt;/span&gt;Strong parameters&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;We mentioned briefly in &lt;a href=&quot;rails_flavored_ruby_fragment.html#sec-a_user_class&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;4.4.5&lt;/span&gt;&lt;/a&gt; the idea of &lt;em&gt;mass assignment&lt;/em&gt;, which involves initializing a Ruby variable using a hash of values, as in&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# Not the final implementation!&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The comment included in &lt;a href=&quot;sign_up_fragment.html#code-first_create_action&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.18&lt;/span&gt;&lt;/a&gt; and reproduced above indicates that this is not the final implementation.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The reason is that initializing the entire &lt;code&gt;params&lt;/code&gt; hash is &lt;em&gt;extremely&lt;/em&gt; dangerous—it arranges to pass to &lt;code&gt;User.new&lt;/code&gt; &lt;em&gt;all&lt;/em&gt; data submitted by a user.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In particular, suppose that, in addition to the current attributes, the User model included an &lt;code&gt;admin&lt;/code&gt; attribute used to identify administrative users of the site.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (We will implement just such an attribute in &lt;a href=&quot;updating_and_deleting_users_fragment.html#sec-administrative_users&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;10.4.1&lt;/span&gt;&lt;/a&gt;.)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The way to set such an attribute to &lt;code&gt;true&lt;/code&gt; is to pass the value &lt;code&gt;admin=&#39;1&#39;&lt;/code&gt; as part of &lt;code&gt;params[:user]&lt;/code&gt;, a task that is easy to accomplish using a command-line HTTP client such as &lt;code class=&quot;tt&quot;&gt;curl&lt;/code&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The result would be that, by passing in the entire &lt;code&gt;params&lt;/code&gt; hash to &lt;code&gt;User.new&lt;/code&gt;, we would allow any user of the site to gain administrative access by including &lt;code&gt;admin=&#39;1&#39;&lt;/code&gt; in the web request.&lt;/p&gt;
&lt;p&gt;Previous versions of Rails used a method called &lt;code&gt;attr_accessible&lt;/code&gt; in the &lt;em&gt;model&lt;/em&gt; layer to solve this problem, and you may still see that method in legacy Rails applications, but as of Rails 4.0 the preferred technique is to use so-called &lt;em&gt;strong parameters&lt;/em&gt; in the controller layer.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This allows us to specify which parameters are &lt;em&gt;required&lt;/em&gt; and which ones are &lt;em&gt;permitted&lt;/em&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In addition, passing in a raw &lt;code&gt;params&lt;/code&gt; hash as above will cause an error to be raised, so that Rails applications are now immune to mass assignment vulnerabilities by default.&lt;/p&gt;
&lt;p&gt;In the present instance, we want to require the &lt;code&gt;params&lt;/code&gt; hash to have a &lt;code&gt;:user&lt;/code&gt; attribute, and we want to permit the name, email, password, and password confirmation attributes (but no others).&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We can accomplish this as follows:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;permit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This code returns a version of the &lt;code&gt;params&lt;/code&gt; hash with only the permitted attributes (while raising an error if the &lt;code&gt;:user&lt;/code&gt; attribute is missing).&lt;/p&gt;
&lt;p&gt;To facilitate the use of these parameters, it’s conventional to introduce an auxiliary method called &lt;code&gt;user_params&lt;/code&gt; (which returns an appropriate initialization hash) and use it in place of &lt;code&gt;params[:user]&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since &lt;code&gt;user_params&lt;/code&gt; will only be used internally by the Users controller and need not be exposed to external users via the web, we’ll make it &lt;em&gt;private&lt;/em&gt; using Ruby’s &lt;code&gt;private&lt;/code&gt; keyword, as shown in &lt;a href=&quot;sign_up_fragment.html#code-create_action_strong_parameters&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.19&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (We’ll discuss &lt;code&gt;private&lt;/code&gt; in more detail in &lt;a href=&quot;advanced_login_fragment.html#sec-remember_me&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;9.1&lt;/span&gt;&lt;/a&gt;.)&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-create_action_strong_parameters&quot; data-tralics-id=&quot;uid890&quot; data-number=&quot;7.19&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.19:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Using strong parameters in the &lt;code&gt;create&lt;/code&gt; action.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/controllers/users_controller.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UsersController&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationController&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Handle a successful save.&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;new&#39;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;kp&quot;&gt;private&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;user_params&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;permit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;                                   &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;By the way, the extra level of indentation on the &lt;code&gt;user_params&lt;/code&gt; method is designed to make it visually apparent which methods are defined after &lt;code&gt;private&lt;/code&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (Experience shows that this is a wise practice; in classes with a large number of methods, it is easy to define a private method accidentally, which leads to considerable confusion when it isn’t available to call on the corresponding object.)&lt;/p&gt;
&lt;p&gt;At this point, the signup form is working, at least in the sense that it no longer produces an error upon submission.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; On the other hand, as seen in &lt;a href=&quot;sign_up_fragment.html#fig-invalid_submission_no_feedback&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.17&lt;/span&gt;&lt;/a&gt;, it doesn’t display any feedback on invalid submissions (apart from the development-only debug area), which is potentially confusing.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; It also doesn’t actually create a new user.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We’ll fix the first issue in &lt;a href=&quot;sign_up_fragment.html#sec-signup_error_messages&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.3.3&lt;/span&gt;&lt;/a&gt; and the second in &lt;a href=&quot;sign_up_fragment.html#sec-successful_signups&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.4&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-invalid_submission_no_feedback&quot; data-tralics-id=&quot;uid891&quot; data-number=&quot;7.17&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/invalid_submission_no_feedback_4th_ed.png&quot; alt=&quot;images/figures/invalid_submission_no_feedback_4th_ed&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.17: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;The signup form submitted with invalid information.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;sec-exercises_a_working_form&quot; data-tralics-id=&quot;uid892&quot; class=&quot;subsubsection&quot; data-number=&quot;7.3.2.1&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-exercises_a_working_form&quot; class=&quot;heading&quot;&gt;Exercises&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;society-note&quot;&gt;
&lt;p&gt;Solutions to exercises are available for free with any Rails Tutorial &lt;a href=&quot;https://www.railstutorial.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;purchase&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see other people’s answers and to record your own, join the &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; at &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;learnenough.com/society&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;  &lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;By hitting the URL /signup?admin=1, confirm that the &lt;code&gt;admin&lt;/code&gt; attribute appears in the &lt;code&gt;params&lt;/code&gt; debug information. &lt;span class=&quot;exercise&quot; id=&quot;ex-b3c548&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="183"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-strong_parameters" data-tralics-id="uid889" class="subsection" data-number="7.3.2">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-strong_parameters" class="heading hyperref"><span class="number">7.3.2 </span>Strong parameters</a></h3>
<p>We mentioned briefly in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-a_user_class" class="hyperref">Section&nbsp;<span class="ref">4.4.5</span></a> the idea of <em>mass assignment</em>, which involves initializing a Ruby variable using a hash of values, as in</p>
<div class="code"><div class="highlight"><pre><span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:user</span><span class="o">]</span><span class="p">)</span>    <span class="c1"># Not the final implementation!</span>
</pre></div></div>
<p>The comment included in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-first_create_action" class="hyperref">Listing&nbsp;<span class="ref">7.18</span></a> and reproduced above indicates that this is not the final implementation.<span class="intersentencespace"></span> The reason is that initializing the entire <code>params</code> hash is <em>extremely</em> dangerous—it arranges to pass to <code>User.new</code> <em>all</em> data submitted by a user.<span class="intersentencespace"></span> In particular, suppose that, in addition to the current attributes, the User model included an <code>admin</code> attribute used to identify administrative users of the site.<span class="intersentencespace"></span> (We will implement just such an attribute in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-administrative_users" class="hyperref">Section&nbsp;<span class="ref">10.4.1</span></a>.)<span class="intersentencespace"></span> The way to set such an attribute to <code>true</code> is to pass the value <code>admin='1'</code> as part of <code>params[:user]</code>, a task that is easy to accomplish using a command-line HTTP client such as <code class="tt">curl</code>.<span class="intersentencespace"></span> The result would be that, by passing in the entire <code>params</code> hash to <code>User.new</code>, we would allow any user of the site to gain administrative access by including <code>admin='1'</code> in the web request.</p>
<p>Previous versions of Rails used a method called <code>attr_accessible</code> in the <em>model</em> layer to solve this problem, and you may still see that method in legacy Rails applications, but as of Rails&nbsp;4.0 the preferred technique is to use so-called <em>strong parameters</em> in the controller layer.<span class="intersentencespace"></span> This allows us to specify which parameters are <em>required</em> and which ones are <em>permitted</em>.<span class="intersentencespace"></span> In addition, passing in a raw <code>params</code> hash as above will cause an error to be raised, so that Rails applications are now immune to mass assignment vulnerabilities by default.</p>
<p>In the present instance, we want to require the <code>params</code> hash to have a <code>:user</code> attribute, and we want to permit the name, email, password, and password confirmation attributes (but no others).<span class="intersentencespace"></span> We can accomplish this as follows:</p>
<div class="code"><div class="highlight"><pre><span class="n">params</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="ss">:user</span><span class="p">)</span><span class="o">.</span><span class="n">permit</span><span class="p">(</span><span class="ss">:name</span><span class="p">,</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">:password</span><span class="p">,</span> <span class="ss">:password_confirmation</span><span class="p">)</span>
</pre></div></div>
<p>This code returns a version of the <code>params</code> hash with only the permitted attributes (while raising an error if the <code>:user</code> attribute is missing).</p>
<p>To facilitate the use of these parameters, it’s conventional to introduce an auxiliary method called <code>user_params</code> (which returns an appropriate initialization hash) and use it in place of <code>params[:user]</code>:</p>
<div class="code"><div class="highlight"><pre><span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">user_params</span><span class="p">)</span>
</pre></div></div>
<p>Since <code>user_params</code> will only be used internally by the Users controller and need not be exposed to external users via the web, we’ll make it <em>private</em> using Ruby’s <code>private</code> keyword, as shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-create_action_strong_parameters" class="hyperref">Listing&nbsp;<span class="ref">7.19</span></a>.<span class="intersentencespace"></span> (We’ll discuss <code>private</code> in more detail in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login#sec-remember_me" class="hyperref">Section&nbsp;<span class="ref">9.1</span></a>.)</p>
<div class="codelisting" id="code-create_action_strong_parameters" data-tralics-id="uid890" data-number="7.19">
<div class="heading">
<span class="number">Listing 7.19:</span> 

<span class="description">Using strong parameters in the <code>create</code> action.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/controllers/users_controller.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="k">def</span> <span class="nf">create</span>
<span class="hll">    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">user_params</span><span class="p">)</span>
</span>    <span class="k">if</span> <span class="vi">@user</span><span class="o">.</span><span class="n">save</span>
      <span class="c1"># Handle a successful save.</span>
    <span class="k">else</span>
      <span class="n">render</span> <span class="s1">'new'</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="kp">private</span>

    <span class="k">def</span> <span class="nf">user_params</span>
<span class="hll">      <span class="n">params</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="ss">:user</span><span class="p">)</span><span class="o">.</span><span class="n">permit</span><span class="p">(</span><span class="ss">:name</span><span class="p">,</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">:password</span><span class="p">,</span>
</span><span class="hll">                                   <span class="ss">:password_confirmation</span><span class="p">)</span>
</span>    <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
<p>By the way, the extra level of indentation on the <code>user_params</code> method is designed to make it visually apparent which methods are defined after <code>private</code>.<span class="intersentencespace"></span> (Experience shows that this is a wise practice; in classes with a large number of methods, it is easy to define a private method accidentally, which leads to considerable confusion when it isn’t available to call on the corresponding object.)</p>
<p>At this point, the signup form is working, at least in the sense that it no longer produces an error upon submission.<span class="intersentencespace"></span> On the other hand, as seen in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-invalid_submission_no_feedback" class="hyperref">Figure&nbsp;<span class="ref">7.17</span></a>, it doesn’t display any feedback on invalid submissions (apart from the development-only debug area), which is potentially confusing.<span class="intersentencespace"></span> It also doesn’t actually create a new user.<span class="intersentencespace"></span> We’ll fix the first issue in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-signup_error_messages" class="hyperref">Section&nbsp;<span class="ref">7.3.3</span></a> and the second in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-successful_signups" class="hyperref">Section&nbsp;<span class="ref">7.4</span></a>.</p>
<div class="center figure" id="fig-invalid_submission_no_feedback" data-tralics-id="uid891" data-number="7.17">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/invalid_submission_no_feedback_4th_ed.png" alt="images/figures/invalid_submission_no_feedback_4th_ed"></div>
<div class="caption">
<span class="header">Figure 7.17: </span><span class="description">The signup form submitted with invalid information.
</span>
</div>
</div>
<div id="sec-exercises_a_working_form" data-tralics-id="uid892" class="subsubsection" data-number="7.3.2.1">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_a_working_form" class="heading">Exercises</a></h4>
<p> </p>
<div class="society-note">
<p>Solutions to exercises are available for free with any Rails Tutorial <a href="https://www.railstutorial.org/" target="_blank" rel="noopener">purchase</a>.<span class="intersentencespace"></span> To see other people’s answers and to record your own, join the <a href="http://learnenough.com/society" target="_blank" rel="noopener">Learn Enough Society</a> at <a href="http://learnenough.com/society" target="_blank" rel="noopener">learnenough.com/society</a>.<span class="intersentencespace"></span>  </p>
</div>
<ol>
<li>By hitting the URL /signup?admin=1, confirm that the <code>admin</code> attribute appears in the <code>params</code> debug information. <span class="exercise" id="ex-b3c548"></span>
</li>
</ol>
</div>
</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-signup_error_messages&quot; data-tralics-id=&quot;uid894&quot; class=&quot;subsection&quot; data-number=&quot;7.3.3&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-signup_error_messages&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.3.3 &lt;/span&gt;Signup error messages&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;As a final step in handling failed user creation, we’ll add helpful error messages to indicate the problems that prevented successful signup.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Conveniently, Rails automatically provides such messages based on the User model validations.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; For example, consider trying to save a user with an invalid email address and with a password that’s too short:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;go&quot;&gt;$ rails console&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Foo Bar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;foo@invalid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;?&amp;gt; &lt;/span&gt;                &lt;span class=&quot;ss&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dude&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dude&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; false&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;full_messages&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; [&quot;Email is invalid&quot;, &quot;Password is too short (minimum is 6 characters)&quot;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here the &lt;code&gt;errors.full_messages&lt;/code&gt; object (which we saw briefly before in &lt;a href=&quot;modeling_users_fragment.html#sec-presence_validation&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;6.2.2&lt;/span&gt;&lt;/a&gt;) contains an array of error messages.&lt;/p&gt;
&lt;p&gt;As in the console session above, the failed save in &lt;a href=&quot;sign_up_fragment.html#code-first_create_action&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.18&lt;/span&gt;&lt;/a&gt; generates a list of error messages associated with the &lt;code&gt;@user&lt;/code&gt; object.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To display the messages in the browser, we’ll render an error-messages partial on the user &lt;code&gt;new&lt;/code&gt; page while adding the CSS class &lt;code&gt;form-control&lt;/code&gt; (which has special meaning to Bootstrap) to each entry field, as shown in &lt;a href=&quot;sign_up_fragment.html#code-f_error_messages&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.20&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; It’s worth noting that this error-messages partial is only a first attempt; the final version appears in &lt;a href=&quot;user_microposts_fragment.html#sec-creating_microposts&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;13.3.2&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-f_error_messages&quot; data-tralics-id=&quot;uid895&quot; data-number=&quot;7.20&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.20:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Code to display error messages on the signup form.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/views/users/new.html.erb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;provide&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;Sign up&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;h1&amp;gt;&lt;/span&gt;Sign up&lt;span class=&quot;nt&quot;&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;row&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;col-md-6 col-md-offset-3&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;form_for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;shared/error_messages&#39;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;form-control&#39;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;form-control&#39;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;password_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;form-control&#39;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Confirmation&quot;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;password_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;form-control&#39;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;submit&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Create my account&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;btn btn-primary&quot;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Notice here that we &lt;code&gt;render&lt;/code&gt; a partial called &lt;code&gt;&#39;shared/error_messages&#39;&lt;/code&gt;; this reflects the common Rails convention of using a dedicated &lt;code&gt;shared/&lt;/code&gt; directory for partials expected to be used in views across multiple controllers.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (We’ll see this expectation fulfilled in &lt;a href=&quot;updating_and_deleting_users_fragment.html#sec-edit_form&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;10.1.1&lt;/span&gt;&lt;/a&gt;.)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This means that we have to create a new &lt;code&gt;app/views/shared&lt;/code&gt; directory using &lt;code&gt;mkdir&lt;/code&gt; (&lt;a href=&quot;beginning_fragment.html#table-unix_commands&quot; class=&quot;hyperref&quot;&gt;Table &lt;span class=&quot;ref&quot;&gt;1.1&lt;/span&gt;&lt;/a&gt;):&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt; mkdir app/views/shared
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We then need to create the &lt;code&gt;_error_messages.html.erb&lt;/code&gt; partial file using our text editor as usual.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The contents of the partial appear in &lt;a href=&quot;sign_up_fragment.html#code-errors_partial&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.21&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-errors_partial&quot; data-tralics-id=&quot;uid896&quot; data-number=&quot;7.21&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.21:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;A partial for displaying form submission error messages.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/views/shared/_error_messages.html.erb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;any?&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;error_explanation&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;alert alert-danger&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      The form contains &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pluralize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;.
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;ul&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;full_messages&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;li&amp;gt;&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/ul&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This partial introduces several new Rails and Ruby constructs, including two methods for Rails error objects.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The first method is &lt;code&gt;count&lt;/code&gt;, which simply returns the number of errors:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; 2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The other new method is &lt;code&gt;any?&lt;/code&gt;, which (together with &lt;code&gt;empty?&lt;/code&gt;) is one of a pair of complementary methods:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empty?&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; false&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;any?&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; true&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We see here that the &lt;code&gt;empty?&lt;/code&gt; method, which we first saw in &lt;a href=&quot;rails_flavored_ruby_fragment.html#sec-objects_and_message_passing&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;4.2.3&lt;/span&gt;&lt;/a&gt; in the context of strings, also works on Rails error objects, returning &lt;code&gt;true&lt;/code&gt; for an empty object and &lt;code&gt;false&lt;/code&gt; otherwise.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The &lt;code&gt;any?&lt;/code&gt; method is just the opposite of &lt;code&gt;empty?&lt;/code&gt;, returning &lt;code&gt;true&lt;/code&gt; if there are any elements present and &lt;code&gt;false&lt;/code&gt; otherwise.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (By the way, all of these methods—&lt;code&gt;count&lt;/code&gt;, &lt;code&gt;empty?&lt;/code&gt;, and &lt;code&gt;any?&lt;/code&gt;—work on Ruby arrays as well.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We’ll put this fact to good use starting in &lt;a href=&quot;user_microposts_fragment.html#sec-showing_microposts&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;13.2&lt;/span&gt;&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;The other new idea is the &lt;code&gt;pluralize&lt;/code&gt; text helper, which is available in the console via the &lt;code&gt;helper&lt;/code&gt; object:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;helper&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pluralize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; &quot;1 error&quot;&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;helper&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pluralize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; &quot;5 errors&quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We see here that &lt;code&gt;pluralize&lt;/code&gt; takes an integer argument and then returns the number with a properly pluralized version of its second argument.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Underlying this method is a powerful &lt;em&gt;inflector&lt;/em&gt; that knows how to pluralize a large number of words, including many with irregular plurals:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;helper&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pluralize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;woman&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; &quot;2 women&quot;&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;helper&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pluralize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;erratum&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; &quot;3 errata&quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As a result of its use of &lt;code&gt;pluralize&lt;/code&gt;, the code&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pluralize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;returns &lt;code&gt;&quot;0 errors&quot;&lt;/code&gt;, &lt;code&gt;&quot;1 error&quot;&lt;/code&gt;, &lt;code&gt;&quot;2 errors&quot;&lt;/code&gt;, and so on, depending on how many errors there are, thereby avoiding ungrammatical phrases such as &lt;code&gt;&quot;1 errors&quot;&lt;/code&gt; (a distressingly common mistake in apps and on the Web).&lt;/p&gt;
&lt;p&gt;Note that &lt;a href=&quot;sign_up_fragment.html#code-errors_partial&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.21&lt;/span&gt;&lt;/a&gt; includes the CSS id &lt;code&gt;error_explanation&lt;/code&gt; for use in styling the error messages.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (Recall from &lt;a href=&quot;filling_in_the_layout_fragment.html#sec-custom_css&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;5.1.2&lt;/span&gt;&lt;/a&gt; that CSS uses the pound sign &lt;code&gt;#&lt;/code&gt; to style ids.)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In addition, after an invalid submission Rails automatically wraps the fields with errors in &lt;code&gt;div&lt;/code&gt;s with the CSS class &lt;code&gt;field_with_errors&lt;/code&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; These labels then allow us to style the error messages with the SCSS shown in &lt;a href=&quot;sign_up_fragment.html#code-error_messages_css&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.22&lt;/span&gt;&lt;/a&gt;, which makes use of Sass’s &lt;code&gt;@extend&lt;/code&gt; function to include the functionality of the Bootstrap class &lt;code&gt;has-error&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-error_messages_css&quot; data-tralics-id=&quot;uid897&quot; data-number=&quot;7.22&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.22:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;CSS for styling error messages.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/assets/stylesheets/custom.scss&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/*&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;forms&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*/&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nn&quot;&gt;#error_explanation&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;red&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;red&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;px&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.field_with_errors&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;@extend&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;.has-error&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nc&quot;&gt;.form-control&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$state-danger-text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;With the code in &lt;a href=&quot;sign_up_fragment.html#code-f_error_messages&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.20&lt;/span&gt;&lt;/a&gt; and &lt;a href=&quot;sign_up_fragment.html#code-errors_partial&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.21&lt;/span&gt;&lt;/a&gt; and the SCSS from &lt;a href=&quot;sign_up_fragment.html#code-error_messages_css&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.22&lt;/span&gt;&lt;/a&gt;, helpful error messages now appear when submitting invalid signup information, as seen in &lt;a href=&quot;sign_up_fragment.html#fig-signup_error_messages&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.18&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Because the messages are generated by the model validations, they will automatically change if you ever change your mind about, say, the format of email addresses, or the minimum length of passwords.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (&lt;em&gt;Note&lt;/em&gt;: Because both the presence validation and the &lt;code&gt;has_secure_password&lt;/code&gt; validation catch the case of &lt;em&gt;empty&lt;/em&gt; (&lt;code&gt;nil&lt;/code&gt;) passwords, the signup form currently produces duplicate error messages when the user submits empty passwords.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We could manipulate the error messages directly to eliminate duplicates, but luckily this issue will be fixed automatically by the addition of &lt;code&gt;allow_nil: true&lt;/code&gt; in &lt;a href=&quot;updating_and_deleting_users_fragment.html#sec-successful_edits&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;10.1.4&lt;/span&gt;&lt;/a&gt;.)&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-signup_error_messages&quot; data-tralics-id=&quot;uid898&quot; data-number=&quot;7.18&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/signup_error_messages_3rd_edition.png&quot; alt=&quot;images/figures/signup_error_messages_3rd_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.18: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;Failed signup with error messages.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;sec-exercises_signup_error_messages&quot; data-tralics-id=&quot;uid899&quot; class=&quot;subsubsection&quot; data-number=&quot;7.3.3.1&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-exercises_signup_error_messages&quot; class=&quot;heading&quot;&gt;Exercises&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;society-note&quot;&gt;
&lt;p&gt;Solutions to exercises are available for free with any Rails Tutorial &lt;a href=&quot;https://www.railstutorial.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;purchase&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see other people’s answers and to record your own, join the &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; at &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;learnenough.com/society&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;  &lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Confirm by changing the minimum length of passwords to 5 that the error message updates automatically as well. &lt;span class=&quot;exercise&quot; id=&quot;ex-6e3d33&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;How does the URL on the unsubmitted signup form (&lt;a href=&quot;sign_up_fragment.html#fig-signup_form&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.12&lt;/span&gt;&lt;/a&gt;) compare to the URL for a submitted signup form (&lt;a href=&quot;sign_up_fragment.html#fig-signup_error_messages&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.18&lt;/span&gt;&lt;/a&gt;)?&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Why don’t they match? &lt;span class=&quot;exercise&quot; id=&quot;ex-ad9fd0&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="184"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-signup_error_messages" data-tralics-id="uid894" class="subsection" data-number="7.3.3">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-signup_error_messages" class="heading hyperref"><span class="number">7.3.3 </span>Signup error messages</a></h3>
<p>As a final step in handling failed user creation, we’ll add helpful error messages to indicate the problems that prevented successful signup.<span class="intersentencespace"></span> Conveniently, Rails automatically provides such messages based on the User model validations.<span class="intersentencespace"></span> For example, consider trying to save a user with an invalid email address and with a password that’s too short:</p>
<div class="code"><div class="highlight"><pre><span class="go">$ rails console</span>
<span class="gp">&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">name</span><span class="p">:</span> <span class="s2">"Foo Bar"</span><span class="p">,</span> <span class="ss">email</span><span class="p">:</span> <span class="s2">"foo@invalid"</span><span class="p">,</span>
<span class="gp">?&gt; </span>                <span class="ss">password</span><span class="p">:</span> <span class="s2">"dude"</span><span class="p">,</span> <span class="ss">password_confirmation</span><span class="p">:</span> <span class="s2">"dude"</span><span class="p">)</span>
<span class="gp">&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">save</span>
<span class="go">=&gt; false</span>
<span class="gp">&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">full_messages</span>
<span class="go">=&gt; ["Email is invalid", "Password is too short (minimum is 6 characters)"]</span>
</pre></div></div>
<p>Here the <code>errors.full_messages</code> object (which we saw briefly before in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-presence_validation" class="hyperref">Section&nbsp;<span class="ref">6.2.2</span></a>) contains an array of error messages.</p>
<p>As in the console session above, the failed save in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-first_create_action" class="hyperref">Listing&nbsp;<span class="ref">7.18</span></a> generates a list of error messages associated with the <code>@user</code> object.<span class="intersentencespace"></span> To display the messages in the browser, we’ll render an error-messages partial on the user <code>new</code> page while adding the CSS class <code>form-control</code> (which has special meaning to Bootstrap) to each entry field, as shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-f_error_messages" class="hyperref">Listing&nbsp;<span class="ref">7.20</span></a>.<span class="intersentencespace"></span> It’s worth noting that this error-messages partial is only a first attempt; the final version appears in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-creating_microposts" class="hyperref">Section&nbsp;<span class="ref">13.3.2</span></a>.</p>
<div class="codelisting" id="code-f_error_messages" data-tralics-id="uid895" data-number="7.20">
<div class="heading">
<span class="number">Listing 7.20:</span> 

<span class="description">Code to display error messages on the signup form.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/views/users/new.html.erb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;%</span> <span class="n">provide</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="s1">'Sign up'</span><span class="p">)</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;h1&gt;</span>Sign up<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-6 col-md-offset-3"</span><span class="nt">&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">form_for</span><span class="p">(</span><span class="vi">@user</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>
<span class="hll">      <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s1">'shared/error_messages'</span> <span class="cp">%&gt;</span>
</span>
      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:name</span> <span class="cp">%&gt;</span>
<span class="hll">      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">text_field</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s1">'form-control'</span> <span class="cp">%&gt;</span>
</span>
      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:email</span> <span class="cp">%&gt;</span>
<span class="hll">      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">email_field</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s1">'form-control'</span> <span class="cp">%&gt;</span>
</span>
      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:password</span> <span class="cp">%&gt;</span>
<span class="hll">      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">password_field</span> <span class="ss">:password</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s1">'form-control'</span> <span class="cp">%&gt;</span>
</span>
      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:password_confirmation</span><span class="p">,</span> <span class="s2">"Confirmation"</span> <span class="cp">%&gt;</span>
<span class="hll">      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">password_field</span> <span class="ss">:password_confirmation</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s1">'form-control'</span> <span class="cp">%&gt;</span>
</span>
      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">submit</span> <span class="s2">"Create my account"</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s2">"btn btn-primary"</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div></div>
</div>
<p>Notice here that we <code>render</code> a partial called <code>'shared/error_messages'</code>; this reflects the common Rails convention of using a dedicated <code>shared/</code> directory for partials expected to be used in views across multiple controllers.<span class="intersentencespace"></span> (We’ll see this expectation fulfilled in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-edit_form" class="hyperref">Section&nbsp;<span class="ref">10.1.1</span></a>.)<span class="intersentencespace"></span> This means that we have to create a new <code>app/views/shared</code> directory using <code>mkdir</code> (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#table-unix_commands" class="hyperref">Table&nbsp;<span class="ref">1.1</span></a>):</p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> mkdir app/views/shared
</pre></div></div>
<p>We then need to create the <code>_error_messages.html.erb</code> partial file using our text editor as usual.<span class="intersentencespace"></span> The contents of the partial appear in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-errors_partial" class="hyperref">Listing&nbsp;<span class="ref">7.21</span></a>.</p>
<div class="codelisting" id="code-errors_partial" data-tralics-id="uid896" data-number="7.21">
<div class="heading">
<span class="number">Listing 7.21:</span> 

<span class="description">A partial for displaying form submission error messages.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/views/shared/_error_messages.html.erb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;%</span> <span class="k">if</span> <span class="vi">@user</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">any?</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"error_explanation"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"alert alert-danger"</span><span class="nt">&gt;</span>
      The form contains <span class="cp">&lt;%=</span> <span class="n">pluralize</span><span class="p">(</span><span class="vi">@user</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">count</span><span class="p">,</span> <span class="s2">"error"</span><span class="p">)</span> <span class="cp">%&gt;</span>.
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;ul&gt;</span>
    <span class="cp">&lt;%</span> <span class="vi">@user</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">full_messages</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">msg</span><span class="o">|</span> <span class="cp">%&gt;</span>
      <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">msg</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
    <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</pre></div></div>
</div>
<p>This partial introduces several new Rails and Ruby constructs, including two methods for Rails error objects.<span class="intersentencespace"></span> The first method is <code>count</code>, which simply returns the number of errors:</p>
<div class="code"><div class="highlight"><pre><span class="gp">&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">count</span>
<span class="go">=&gt; 2</span>
</pre></div></div>
<p>The other new method is <code>any?</code>, which (together with <code>empty?</code>) is one of a pair of complementary methods:</p>
<div class="code"><div class="highlight"><pre><span class="gp">&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">empty?</span>
<span class="go">=&gt; false</span>
<span class="gp">&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">any?</span>
<span class="go">=&gt; true</span>
</pre></div></div>
<p>We see here that the <code>empty?</code> method, which we first saw in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-objects_and_message_passing" class="hyperref">Section&nbsp;<span class="ref">4.2.3</span></a> in the context of strings, also works on Rails error objects, returning <code>true</code> for an empty object and <code>false</code> otherwise.<span class="intersentencespace"></span> The <code>any?</code> method is just the opposite of <code>empty?</code>, returning <code>true</code> if there are any elements present and <code>false</code> otherwise.<span class="intersentencespace"></span> (By the way, all of these methods—<code>count</code>, <code>empty?</code>, and <code>any?</code>—work on Ruby arrays as well.<span class="intersentencespace"></span> We’ll put this fact to good use starting in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/user_microposts#sec-showing_microposts" class="hyperref">Section&nbsp;<span class="ref">13.2</span></a>.)</p>
<p>The other new idea is the <code>pluralize</code> text helper, which is available in the console via the <code>helper</code> object:</p>
<div class="code"><div class="highlight"><pre><span class="gp">&gt;&gt; </span><span class="n">helper</span><span class="o">.</span><span class="n">pluralize</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">"error"</span><span class="p">)</span>
<span class="go">=&gt; "1 error"</span>
<span class="gp">&gt;&gt; </span><span class="n">helper</span><span class="o">.</span><span class="n">pluralize</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s2">"error"</span><span class="p">)</span>
<span class="go">=&gt; "5 errors"</span>
</pre></div></div>
<p>We see here that <code>pluralize</code> takes an integer argument and then returns the number with a properly pluralized version of its second argument.<span class="intersentencespace"></span> Underlying this method is a powerful <em>inflector</em> that knows how to pluralize a large number of words, including many with irregular plurals:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt; </span><span class="n">helper</span><span class="o">.</span><span class="n">pluralize</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">"woman"</span><span class="p">)</span>
<span class="go">=&gt; "2 women"</span>
<span class="gp">&gt;&gt; </span><span class="n">helper</span><span class="o">.</span><span class="n">pluralize</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s2">"erratum"</span><span class="p">)</span>
<span class="go">=&gt; "3 errata"</span>
</pre></div></div>
<p>As a result of its use of <code>pluralize</code>, the code</p>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">pluralize</span><span class="p">(</span><span class="vi">@user</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">count</span><span class="p">,</span> <span class="s2">"error"</span><span class="p">)</span> <span class="cp">%&gt;</span>
</pre></div></div>
<p>returns <code>"0 errors"</code>, <code>"1 error"</code>, <code>"2 errors"</code>, and so on, depending on how many errors there are, thereby avoiding ungrammatical phrases such as <code>"1 errors"</code> (a distressingly common mistake in apps and on the Web).</p>
<p>Note that <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-errors_partial" class="hyperref">Listing&nbsp;<span class="ref">7.21</span></a> includes the CSS&nbsp;id <code>error_explanation</code> for use in styling the error messages.<span class="intersentencespace"></span> (Recall from <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-custom_css" class="hyperref">Section&nbsp;<span class="ref">5.1.2</span></a> that CSS uses the pound sign <code>#</code> to style ids.)<span class="intersentencespace"></span> In addition, after an invalid submission Rails automatically wraps the fields with errors in <code>div</code>s with the CSS class <code>field_with_errors</code>.<span class="intersentencespace"></span> These labels then allow us to style the error messages with the SCSS shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-error_messages_css" class="hyperref">Listing&nbsp;<span class="ref">7.22</span></a>, which makes use of Sass’s <code>@extend</code> function to include the functionality of the Bootstrap class <code>has-error</code>.</p>
<div class="codelisting" id="code-error_messages_css" data-tralics-id="uid897" data-number="7.22">
<div class="heading">
<span class="number">Listing 7.22:</span> 

<span class="description">CSS for styling error messages.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/assets/stylesheets/custom.scss</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="nc">.</span>
<span class="nc">.</span>
<span class="nc">.</span>
<span class="o">/*</span> <span class="nt">forms</span> <span class="o">*/</span>
<span class="nc">.</span>
<span class="nc">.</span>
<span class="nc">.</span>
<span class="nn">#error_explanation</span> <span class="p">{</span>
  <span class="na">color</span><span class="o">:</span> <span class="nb">red</span><span class="p">;</span>
  <span class="nt">ul</span> <span class="p">{</span>
    <span class="na">color</span><span class="o">:</span> <span class="nb">red</span><span class="p">;</span>
    <span class="na">margin</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">30</span><span class="kt">px</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nc">.field_with_errors</span> <span class="p">{</span>
  <span class="k">@extend</span> <span class="nc">.has-error</span><span class="o">;</span>
  <span class="nc">.form-control</span> <span class="p">{</span>
    <span class="na">color</span><span class="o">:</span> <span class="nv">$state-danger-text</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div></div>
</div>
<p>With the code in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-f_error_messages" class="hyperref">Listing&nbsp;<span class="ref">7.20</span></a> and <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-errors_partial" class="hyperref">Listing&nbsp;<span class="ref">7.21</span></a> and the SCSS from <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-error_messages_css" class="hyperref">Listing&nbsp;<span class="ref">7.22</span></a>, helpful error messages now appear when submitting invalid signup information, as seen in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_error_messages" class="hyperref">Figure&nbsp;<span class="ref">7.18</span></a>.<span class="intersentencespace"></span> Because the messages are generated by the model validations, they will automatically change if you ever change your mind about, say, the format of email addresses, or the minimum length of passwords.<span class="intersentencespace"></span> (<em>Note</em>: Because both the presence validation and the <code>has_secure_password</code> validation catch the case of <em>empty</em> (<code>nil</code>) passwords, the signup form currently produces duplicate error messages when the user submits empty passwords.<span class="intersentencespace"></span> We could manipulate the error messages directly to eliminate duplicates, but luckily this issue will be fixed automatically by the addition of <code>allow_nil: true</code> in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#sec-successful_edits" class="hyperref">Section&nbsp;<span class="ref">10.1.4</span></a>.)</p>
<div class="center figure" id="fig-signup_error_messages" data-tralics-id="uid898" data-number="7.18">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/signup_error_messages_3rd_edition.png" alt="images/figures/signup_error_messages_3rd_edition"></div>
<div class="caption">
<span class="header">Figure 7.18: </span><span class="description">Failed signup with error messages.
</span>
</div>
</div>
<div id="sec-exercises_signup_error_messages" data-tralics-id="uid899" class="subsubsection" data-number="7.3.3.1">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_signup_error_messages" class="heading">Exercises</a></h4>
<p> </p>
<div class="society-note">
<p>Solutions to exercises are available for free with any Rails Tutorial <a href="https://www.railstutorial.org/" target="_blank" rel="noopener">purchase</a>.<span class="intersentencespace"></span> To see other people’s answers and to record your own, join the <a href="http://learnenough.com/society" target="_blank" rel="noopener">Learn Enough Society</a> at <a href="http://learnenough.com/society" target="_blank" rel="noopener">learnenough.com/society</a>.<span class="intersentencespace"></span>  </p>
</div>
<ol>
<li>Confirm by changing the minimum length of passwords to 5 that the error message updates automatically as well. <span class="exercise" id="ex-6e3d33"></span>
</li>
<li>How does the URL on the unsubmitted signup form (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_form" class="hyperref">Figure&nbsp;<span class="ref">7.12</span></a>) compare to the URL for a submitted signup form (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_error_messages" class="hyperref">Figure&nbsp;<span class="ref">7.18</span></a>)?<span class="intersentencespace"></span> Why don’t they match? <span class="exercise" id="ex-ad9fd0"></span>
</li>
</ol>
</div>
</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-a_test_for_invalid_submission&quot; data-tralics-id=&quot;uid902&quot; class=&quot;subsection&quot; data-number=&quot;7.3.4&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-a_test_for_invalid_submission&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.3.4 &lt;/span&gt;A test for invalid submission&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;In the days before powerful web frameworks with automated testing capabilities, developers had to test forms by hand.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; For example, to test a signup page manually, we would have to visit the page in a browser and then submit alternately invalid and valid data, verifying in each case that the application’s behavior was correct.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Moreover, we would have to remember to repeat the process any time the application changed.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This process was painful and error-prone.&lt;/p&gt;
&lt;p&gt;Happily, with Rails we can write tests to automate the testing of forms.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In this section, we’ll write one such test to verify the correct behavior upon invalid form submission; in &lt;a href=&quot;sign_up_fragment.html#sec-a_test_for_valid_submission&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.4.4&lt;/span&gt;&lt;/a&gt;, we’ll write a corresponding test for valid submission.&lt;/p&gt;
&lt;p&gt;To get started, we first generate an integration test file for signing up users, which we’ll call &lt;code&gt;users_signup&lt;/code&gt; (adopting the controller convention of a plural resource name):&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt; rails generate integration_test users_signup
&lt;span class=&quot;go&quot;&gt;      invoke  test_unit&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;      create    test/integration/users_signup_test.rb&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(We’ll use this same file in &lt;a href=&quot;sign_up_fragment.html#sec-a_test_for_valid_submission&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.4.4&lt;/span&gt;&lt;/a&gt; to test a valid signup.)&lt;/p&gt;
&lt;p&gt;The main purpose of our test is to verify that clicking the signup button results in &lt;em&gt;not&lt;/em&gt; creating a new user when the submitted information is invalid.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (Writing a test for the error messages is left as an exercise (&lt;a href=&quot;sign_up_fragment.html#sec-exercises_a_test_for_invalid_submission&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.3.4.1&lt;/span&gt;&lt;/a&gt;).)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The way to do this is to check the &lt;em&gt;count&lt;/em&gt; of users, and under the hood our tests will use the &lt;code&gt;count&lt;/code&gt; method available on every Active Record class, including &lt;code&gt;User&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;go&quot;&gt;$ rails console&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; 1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(Here &lt;code&gt;User.count&lt;/code&gt; is &lt;code&gt;1&lt;/code&gt; because of the user created in &lt;a href=&quot;modeling_users_fragment.html#sec-creating_and_authenticating_a_user&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;6.3.4&lt;/span&gt;&lt;/a&gt;, though it may differ if you’ve added or deleted any users in the interim.)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; As in &lt;a href=&quot;filling_in_the_layout_fragment.html#sec-layout_link_tests&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;5.3.4&lt;/span&gt;&lt;/a&gt;, we’ll use &lt;code&gt;assert_select&lt;/code&gt; to test HTML elements of the relevant pages, taking care to check only elements unlikely to change in the future.&lt;/p&gt;
&lt;p&gt;We’ll start by visiting the signup path using &lt;code&gt;get&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;signup_path&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In order to test the form submission, we need to issue a &lt;code class=&quot;tt&quot;&gt;POST&lt;/code&gt; request to the &lt;code&gt;users_path&lt;/code&gt; (&lt;a href=&quot;sign_up_fragment.html#table-RESTful_users&quot; class=&quot;hyperref&quot;&gt;Table &lt;span class=&quot;ref&quot;&gt;7.1&lt;/span&gt;&lt;/a&gt;), which we can do with the &lt;code&gt;post&lt;/code&gt; function:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;assert_no_difference&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;User.count&#39;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                     &lt;span class=&quot;ss&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;user@invalid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                     &lt;span class=&quot;ss&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;              &lt;span class=&quot;s2&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                     &lt;span class=&quot;ss&quot;&gt;password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bar&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here we’ve included the &lt;code&gt;params[:user]&lt;/code&gt; hash expected by &lt;code&gt;User.new&lt;/code&gt; in the &lt;code&gt;create&lt;/code&gt; action (&lt;a href=&quot;sign_up_fragment.html#code-signup_flash&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.29&lt;/span&gt;&lt;/a&gt;).&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (In versions of Rails before 5, &lt;code&gt;params&lt;/code&gt; was implicit, and only the &lt;code&gt;user&lt;/code&gt; hash would be passed.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This practice was deprecated in Rails 5.0, and now the recommended method is to include the full &lt;code&gt;params&lt;/code&gt; hash explicitly.)&lt;/p&gt;
&lt;p&gt;By wrapping the &lt;code&gt;post&lt;/code&gt; in the &lt;code&gt;assert_no_difference&lt;/code&gt; method with the string argument &lt;code&gt;&#39;User.count&#39;&lt;/code&gt;, we arrange for a comparison between &lt;code&gt;User.count&lt;/code&gt; before and after the contents inside the &lt;code&gt;assert_no_difference&lt;/code&gt; block.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This is equivalent to recording the user count, posting the data, and verifying that the count is the same:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;before_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;post&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;after_count&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;assert_equal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;before_count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;after_count&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Although the two are equivalent, using &lt;code&gt;assert_no_difference&lt;/code&gt; is cleaner and is more idiomatically correct Ruby.&lt;/p&gt;
&lt;p&gt;It’s worth noting that the &lt;code&gt;get&lt;/code&gt; and &lt;code&gt;post&lt;/code&gt; steps above are technically unrelated, and it’s actually not necessary to get the signup path before posting to the users path.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; I prefer to include both steps, though, both for conceptual clarity and to double-check that the signup form renders without error.&lt;/p&gt;
&lt;p&gt;Putting the above ideas together leads to the test in &lt;a href=&quot;sign_up_fragment.html#code-a_test_for_invalid_submission&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.23&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; We’ve also included a call to &lt;code&gt;assert_template&lt;/code&gt; to check that a failed submission re-renders the &lt;code&gt;new&lt;/code&gt; action.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Adding lines to check for the appearance of error messages is left as an exercise (&lt;a href=&quot;sign_up_fragment.html#sec-exercises_a_test_for_invalid_submission&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.3.4.1&lt;/span&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-a_test_for_invalid_submission&quot; data-tralics-id=&quot;uid903&quot; data-number=&quot;7.23&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.23:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;A test for an invalid signup.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span style=&quot;color: ForestGreen&quot;&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;strong&gt;green&lt;/strong&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;test/integration/users_signup_test.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;test_helper&#39;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UsersSignupTest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActionDispatch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;IntegrationTest&lt;/span&gt;

  &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;invalid signup information&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;signup_path&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;assert_no_difference&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;User.count&#39;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                         &lt;span class=&quot;ss&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;user@invalid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                         &lt;span class=&quot;ss&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;              &lt;span class=&quot;s2&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                         &lt;span class=&quot;ss&quot;&gt;password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bar&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;assert_template&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;users/new&#39;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Because we wrote the application code before the integration test, the test suite should be &lt;span style=&quot;color: ForestGreen&quot;&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;strong&gt;green&lt;/strong&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;/span&gt;:&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;uid904&quot; data-tralics-id=&quot;uid904&quot; data-number=&quot;7.24&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.24:&lt;/span&gt; &lt;span class=&quot;description&quot;&gt;&lt;span style=&quot;color: ForestGreen&quot;&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;strong&gt;green&lt;/strong&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;$ rails test
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;sec-exercises_a_test_for_invalid_submission&quot; data-tralics-id=&quot;uid905&quot; class=&quot;subsubsection&quot; data-number=&quot;7.3.4.1&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-exercises_a_test_for_invalid_submission&quot; class=&quot;heading&quot;&gt;Exercises&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;society-note&quot;&gt;
&lt;p&gt;Solutions to exercises are available for free with any Rails Tutorial &lt;a href=&quot;https://www.railstutorial.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;purchase&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see other people’s answers and to record your own, join the &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; at &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;learnenough.com/society&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;  &lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Write a test for the error messages implemented in &lt;a href=&quot;sign_up_fragment.html#code-f_error_messages&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.20&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; How detailed you want to make your tests is up to you; a suggested template appears in &lt;a href=&quot;sign_up_fragment.html#code-error_messages_test&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.25&lt;/span&gt;&lt;/a&gt;. &lt;span class=&quot;exercise&quot; id=&quot;ex-adc77f&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;The URLs for an unsubmitted signup form and for a submitted signup form are /signup and /users, respectively, which don’t match.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This is due to our use of a custom named route in the former case (added in &lt;a href=&quot;filling_in_the_layout_fragment.html#code-signup_route&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;5.43&lt;/span&gt;&lt;/a&gt;) and a default RESTful route in the latter case (&lt;a href=&quot;sign_up_fragment.html#code-users_resource&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.3&lt;/span&gt;&lt;/a&gt;).&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Resolve this discrepancy by adding the code shown in &lt;a href=&quot;sign_up_fragment.html#code-post_signup&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.26&lt;/span&gt;&lt;/a&gt; and &lt;a href=&quot;sign_up_fragment.html#code-post_signup_form&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.27&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Submit the new form to confirm that both cases now use the same /signup URL.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Are the tests still &lt;span style=&quot;color: ForestGreen&quot;&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;strong&gt;green&lt;/strong&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;/span&gt;?&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Why? &lt;span class=&quot;exercise&quot; id=&quot;ex-4ee5ec&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;Update the &lt;code&gt;post&lt;/code&gt; in &lt;a href=&quot;sign_up_fragment.html#code-error_messages_test&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.25&lt;/span&gt;&lt;/a&gt; to use the new URL from the previous exercise.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Confirm that the tests are still &lt;span style=&quot;color: ForestGreen&quot;&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;strong&gt;green&lt;/strong&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;/span&gt;. &lt;span class=&quot;exercise&quot; id=&quot;ex-0b38a0&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;Confirm by reverting &lt;a href=&quot;sign_up_fragment.html#code-post_signup_form&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.27&lt;/span&gt;&lt;/a&gt; to its previous form (&lt;a href=&quot;sign_up_fragment.html#code-f_error_messages&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.20&lt;/span&gt;&lt;/a&gt;) that the tests are still &lt;span style=&quot;color: ForestGreen&quot;&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;strong&gt;green&lt;/strong&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This is a problem, because the URL being posted to isn’t right.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Add an &lt;code&gt;assert_select&lt;/code&gt; to the test in &lt;a href=&quot;sign_up_fragment.html#code-error_messages_test&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.25&lt;/span&gt;&lt;/a&gt; to catch this bug and get to &lt;span style=&quot;color: red&quot;&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;strong&gt;red&lt;/strong&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;/span&gt;, then change the form back to &lt;a href=&quot;sign_up_fragment.html#code-post_signup_form&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.27&lt;/span&gt;&lt;/a&gt; to get the tests &lt;span style=&quot;color: ForestGreen&quot;&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;strong&gt;green&lt;/strong&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;/span&gt; again.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;em&gt;Hint&lt;/em&gt;: Test for the presence of &lt;code&gt;&#39;form[action=&quot;/signup&quot;]&#39;&lt;/code&gt; before posting to the form in the test. &lt;span class=&quot;exercise&quot; id=&quot;ex-678d64&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-error_messages_test&quot; data-tralics-id=&quot;uid910&quot; data-number=&quot;7.25&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.25:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;A template for tests of the error messages.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;test/integration/users_signup_test.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;test_helper&#39;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UsersSignupTest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActionDispatch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;IntegrationTest&lt;/span&gt;

  &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;invalid signup information&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;signup_path&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;assert_no_difference&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;User.count&#39;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                         &lt;span class=&quot;ss&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;user@invalid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                         &lt;span class=&quot;ss&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;              &lt;span class=&quot;s2&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                         &lt;span class=&quot;ss&quot;&gt;password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bar&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;assert_template&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;users/new&#39;&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;n&quot;&gt;assert_select&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;div#&amp;lt;CSS id for error explanation&amp;gt;&#39;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;n&quot;&gt;assert_select&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;div.&amp;lt;CSS class for field with error&amp;gt;&#39;&lt;/span&gt;
&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-post_signup&quot; data-tralics-id=&quot;uid911&quot; data-number=&quot;7.26&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.26:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Adding a signup route responding to &lt;code class=&quot;tt&quot;&gt;POST&lt;/code&gt; requests.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;config/routes.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;no&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;routes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;draw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;static_pages#home&#39;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;&#39;/help&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;    &lt;span class=&quot;ss&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;static_pages#help&#39;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;&#39;/about&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;   &lt;span class=&quot;ss&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;static_pages#about&#39;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;&#39;/contact&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;static_pages#contact&#39;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;&#39;/signup&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;ss&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;users#new&#39;&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;/signup&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;ss&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;users#create&#39;&lt;/span&gt;
&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;resources&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:users&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-post_signup_form&quot; data-tralics-id=&quot;uid912&quot; data-number=&quot;7.27&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.27:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Posting to the /signup URL. &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/views/users/new.html.erb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;provide&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;Sign up&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;h1&amp;gt;&lt;/span&gt;Sign up&lt;span class=&quot;nt&quot;&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;row&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;col-md-6 col-md-offset-3&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;form_for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;signup_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;shared/error_messages&#39;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;

      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;form-control&#39;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;

      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;form-control&#39;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;

      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;password_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;form-control&#39;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;

      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Confirmation&quot;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;password_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;form-control&#39;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;

      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;submit&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Create my account&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;btn btn-primary&quot;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="185"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-a_test_for_invalid_submission" data-tralics-id="uid902" class="subsection" data-number="7.3.4">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_test_for_invalid_submission" class="heading hyperref"><span class="number">7.3.4 </span>A test for invalid submission</a></h3>
<p>In the days before powerful web frameworks with automated testing capabilities, developers had to test forms by hand.<span class="intersentencespace"></span> For example, to test a signup page manually, we would have to visit the page in a browser and then submit alternately invalid and valid data, verifying in each case that the application’s behavior was correct.<span class="intersentencespace"></span> Moreover, we would have to remember to repeat the process any time the application changed.<span class="intersentencespace"></span> This process was painful and error-prone.</p>
<p>Happily, with Rails we can write tests to automate the testing of forms.<span class="intersentencespace"></span> In this section, we’ll write one such test to verify the correct behavior upon invalid form submission; in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_test_for_valid_submission" class="hyperref">Section&nbsp;<span class="ref">7.4.4</span></a>, we’ll write a corresponding test for valid submission.</p>
<p>To get started, we first generate an integration test file for signing up users, which we’ll call <code>users_signup</code> (adopting the controller convention of a plural resource name):</p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> rails generate integration_test users_signup
<span class="go">      invoke  test_unit</span>
<span class="go">      create    test/integration/users_signup_test.rb</span>
</pre></div></div>
<p>(We’ll use this same file in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_test_for_valid_submission" class="hyperref">Section&nbsp;<span class="ref">7.4.4</span></a> to test a valid signup.)</p>
<p>The main purpose of our test is to verify that clicking the signup button results in <em>not</em> creating a new user when the submitted information is invalid.<span class="intersentencespace"></span> (Writing a test for the error messages is left as an exercise (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_a_test_for_invalid_submission" class="hyperref">Section&nbsp;<span class="ref">7.3.4.1</span></a>).)<span class="intersentencespace"></span> The way to do this is to check the <em>count</em> of users, and under the hood our tests will use the <code>count</code> method available on every Active Record class, including <code>User</code>:</p>
<div class="code"><div class="highlight"><pre><span class="go">$ rails console</span>
<span class="gp">&gt;&gt; </span><span class="no">User</span><span class="o">.</span><span class="n">count</span>
<span class="go">=&gt; 1</span>
</pre></div></div>
<p>(Here <code>User.count</code> is <code>1</code> because of the user created in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/modeling_users#sec-creating_and_authenticating_a_user" class="hyperref">Section&nbsp;<span class="ref">6.3.4</span></a>, though it may differ if you’ve added or deleted any users in the interim.)<span class="intersentencespace"></span> As in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-layout_link_tests" class="hyperref">Section&nbsp;<span class="ref">5.3.4</span></a>, we’ll use <code>assert_select</code> to test HTML elements of the relevant pages, taking care to check only elements unlikely to change in the future.</p>
<p>We’ll start by visiting the signup path using <code>get</code>:</p>
<div class="code"><div class="highlight"><pre><span class="n">get</span> <span class="n">signup_path</span>
</pre></div></div>
<p>In order to test the form submission, we need to issue a <code class="tt">POST</code> request to the <code>users_path</code> (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#table-RESTful_users" class="hyperref">Table&nbsp;<span class="ref">7.1</span></a>), which we can do with the <code>post</code> function:</p>
<div class="code"><div class="highlight"><pre><span class="n">assert_no_difference</span> <span class="s1">'User.count'</span> <span class="k">do</span>
  <span class="n">post</span> <span class="n">users_path</span><span class="p">,</span> <span class="ss">params</span><span class="p">:</span> <span class="p">{</span> <span class="ss">user</span><span class="p">:</span> <span class="p">{</span> <span class="nb">name</span><span class="p">:</span>  <span class="s2">""</span><span class="p">,</span>
                                     <span class="ss">email</span><span class="p">:</span> <span class="s2">"user@invalid"</span><span class="p">,</span>
                                     <span class="ss">password</span><span class="p">:</span>              <span class="s2">"foo"</span><span class="p">,</span>
                                     <span class="ss">password_confirmation</span><span class="p">:</span> <span class="s2">"bar"</span> <span class="p">}</span> <span class="p">}</span>
<span class="k">end</span>
</pre></div></div>
<p>Here we’ve included the <code>params[:user]</code> hash expected by <code>User.new</code> in the <code>create</code> action (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-signup_flash" class="hyperref">Listing&nbsp;<span class="ref">7.29</span></a>).<span class="intersentencespace"></span> (In versions of Rails before 5, <code>params</code> was implicit, and only the <code>user</code> hash would be passed.<span class="intersentencespace"></span> This practice was deprecated in Rails&nbsp;5.0, and now the recommended method is to include the full <code>params</code> hash explicitly.)</p>
<p>By wrapping the <code>post</code> in the <code>assert_no_difference</code> method with the string argument <code>'User.count'</code>, we arrange for a comparison between <code>User.count</code> before and after the contents inside the <code>assert_no_difference</code> block.<span class="intersentencespace"></span> This is equivalent to recording the user count, posting the data, and verifying that the count is the same:</p>
<div class="code"><div class="highlight"><pre><span class="n">before_count</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">count</span>
<span class="n">post</span> <span class="n">users_path</span><span class="p">,</span> <span class="o">.</span><span class="n">.</span><span class="o">.</span>
<span class="n">after_count</span>  <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">count</span>
<span class="n">assert_equal</span> <span class="n">before_count</span><span class="p">,</span> <span class="n">after_count</span>
</pre></div></div>
<p>Although the two are equivalent, using <code>assert_no_difference</code> is cleaner and is more idiomatically correct Ruby.</p>
<p>It’s worth noting that the <code>get</code> and <code>post</code> steps above are technically unrelated, and it’s actually not necessary to get the signup path before posting to the users path.<span class="intersentencespace"></span> I prefer to include both steps, though, both for conceptual clarity and to double-check that the signup form renders without error.</p>
<p>Putting the above ideas together leads to the test in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-a_test_for_invalid_submission" class="hyperref">Listing&nbsp;<span class="ref">7.23</span></a>.<span class="intersentencespace"></span> We’ve also included a call to <code>assert_template</code> to check that a failed submission re-renders the <code>new</code> action.<span class="intersentencespace"></span> Adding lines to check for the appearance of error messages is left as an exercise (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_a_test_for_invalid_submission" class="hyperref">Section&nbsp;<span class="ref">7.3.4.1</span></a>).</p>
<div class="codelisting" id="code-a_test_for_invalid_submission" data-tralics-id="uid903" data-number="7.23">
<div class="heading">
<span class="number">Listing 7.23:</span> 

<span class="description">A test for an invalid signup.<span class="intersentencespace"></span> <span style="color: ForestGreen"><span class="sc"></span><span class="sc"><strong>green</strong></span><span class="sc"></span></span><span class="break"></span> <code class="filepath">test/integration/users_signup_test.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">'test_helper'</span>

<span class="k">class</span> <span class="nc">UsersSignupTest</span> <span class="o">&lt;</span> <span class="no">ActionDispatch</span><span class="o">::</span><span class="no">IntegrationTest</span>

  <span class="nb">test</span> <span class="s2">"invalid signup information"</span> <span class="k">do</span>
    <span class="n">get</span> <span class="n">signup_path</span>
    <span class="n">assert_no_difference</span> <span class="s1">'User.count'</span> <span class="k">do</span>
      <span class="n">post</span> <span class="n">users_path</span><span class="p">,</span> <span class="ss">params</span><span class="p">:</span> <span class="p">{</span> <span class="ss">user</span><span class="p">:</span> <span class="p">{</span> <span class="nb">name</span><span class="p">:</span>  <span class="s2">""</span><span class="p">,</span>
                                         <span class="ss">email</span><span class="p">:</span> <span class="s2">"user@invalid"</span><span class="p">,</span>
                                         <span class="ss">password</span><span class="p">:</span>              <span class="s2">"foo"</span><span class="p">,</span>
                                         <span class="ss">password_confirmation</span><span class="p">:</span> <span class="s2">"bar"</span> <span class="p">}</span> <span class="p">}</span>
    <span class="k">end</span>
    <span class="n">assert_template</span> <span class="s1">'users/new'</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
<p>Because we wrote the application code before the integration test, the test suite should be <span style="color: ForestGreen"><span class="sc"></span><span class="sc"><strong>green</strong></span><span class="sc"></span></span>:</p>
<div class="codelisting" id="uid904" data-tralics-id="uid904" data-number="7.24">
<div class="heading">
<span class="number">Listing 7.24:</span> <span class="description"><span style="color: ForestGreen"><span class="sc"></span><span class="sc"><strong>green</strong></span><span class="sc"></span></span></span>
</div>

<div class="code"><div class="highlight"><pre>$ rails test
</pre></div></div>
</div>
<div id="sec-exercises_a_test_for_invalid_submission" data-tralics-id="uid905" class="subsubsection" data-number="7.3.4.1">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_a_test_for_invalid_submission" class="heading">Exercises</a></h4>
<p> </p>
<div class="society-note">
<p>Solutions to exercises are available for free with any Rails Tutorial <a href="https://www.railstutorial.org/" target="_blank" rel="noopener">purchase</a>.<span class="intersentencespace"></span> To see other people’s answers and to record your own, join the <a href="http://learnenough.com/society" target="_blank" rel="noopener">Learn Enough Society</a> at <a href="http://learnenough.com/society" target="_blank" rel="noopener">learnenough.com/society</a>.<span class="intersentencespace"></span>  </p>
</div>
<ol>
<li>Write a test for the error messages implemented in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-f_error_messages" class="hyperref">Listing&nbsp;<span class="ref">7.20</span></a>.<span class="intersentencespace"></span> How detailed you want to make your tests is up to you; a suggested template appears in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-error_messages_test" class="hyperref">Listing&nbsp;<span class="ref">7.25</span></a>. <span class="exercise" id="ex-adc77f"></span>
</li>
<li>The URLs for an unsubmitted signup form and for a submitted signup form are /signup and /users, respectively, which don’t match.<span class="intersentencespace"></span> This is due to our use of a custom named route in the former case (added in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#code-signup_route" class="hyperref">Listing&nbsp;<span class="ref">5.43</span></a>) and a default RESTful route in the latter case (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-users_resource" class="hyperref">Listing&nbsp;<span class="ref">7.3</span></a>).<span class="intersentencespace"></span> Resolve this discrepancy by adding the code shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-post_signup" class="hyperref">Listing&nbsp;<span class="ref">7.26</span></a> and <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-post_signup_form" class="hyperref">Listing&nbsp;<span class="ref">7.27</span></a>.<span class="intersentencespace"></span> Submit the new form to confirm that both cases now use the same /signup URL.<span class="intersentencespace"></span> Are the tests still <span style="color: ForestGreen"><span class="sc"></span><span class="sc"><strong>green</strong></span><span class="sc"></span></span>?<span class="intersentencespace"></span> Why? <span class="exercise" id="ex-4ee5ec"></span>
</li>
<li>Update the <code>post</code> in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-error_messages_test" class="hyperref">Listing&nbsp;<span class="ref">7.25</span></a> to use the new URL from the previous exercise.<span class="intersentencespace"></span> Confirm that the tests are still <span style="color: ForestGreen"><span class="sc"></span><span class="sc"><strong>green</strong></span><span class="sc"></span></span>. <span class="exercise" id="ex-0b38a0"></span>
</li>
<li>Confirm by reverting <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-post_signup_form" class="hyperref">Listing&nbsp;<span class="ref">7.27</span></a> to its previous form (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-f_error_messages" class="hyperref">Listing&nbsp;<span class="ref">7.20</span></a>) that the tests are still <span style="color: ForestGreen"><span class="sc"></span><span class="sc"><strong>green</strong></span><span class="sc"></span></span>.<span class="intersentencespace"></span> This is a problem, because the URL being posted to isn’t right.<span class="intersentencespace"></span> Add an <code>assert_select</code> to the test in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-error_messages_test" class="hyperref">Listing&nbsp;<span class="ref">7.25</span></a> to catch this bug and get to <span style="color: red"><span class="sc"></span><span class="sc"><strong>red</strong></span><span class="sc"></span></span>, then change the form back to <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-post_signup_form" class="hyperref">Listing&nbsp;<span class="ref">7.27</span></a> to get the tests <span style="color: ForestGreen"><span class="sc"></span><span class="sc"><strong>green</strong></span><span class="sc"></span></span> again.<span class="intersentencespace"></span> <em>Hint</em>: Test for the presence of <code>'form[action="/signup"]'</code> before posting to the form in the test. <span class="exercise" id="ex-678d64"></span>
</li>
</ol>
<div class="codelisting" id="code-error_messages_test" data-tralics-id="uid910" data-number="7.25">
<div class="heading">
<span class="number">Listing 7.25:</span> 

<span class="description">A template for tests of the error messages.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">test/integration/users_signup_test.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">'test_helper'</span>

<span class="k">class</span> <span class="nc">UsersSignupTest</span> <span class="o">&lt;</span> <span class="no">ActionDispatch</span><span class="o">::</span><span class="no">IntegrationTest</span>

  <span class="nb">test</span> <span class="s2">"invalid signup information"</span> <span class="k">do</span>
    <span class="n">get</span> <span class="n">signup_path</span>
    <span class="n">assert_no_difference</span> <span class="s1">'User.count'</span> <span class="k">do</span>
      <span class="n">post</span> <span class="n">users_path</span><span class="p">,</span> <span class="ss">params</span><span class="p">:</span> <span class="p">{</span> <span class="ss">user</span><span class="p">:</span> <span class="p">{</span> <span class="nb">name</span><span class="p">:</span>  <span class="s2">""</span><span class="p">,</span>
                                         <span class="ss">email</span><span class="p">:</span> <span class="s2">"user@invalid"</span><span class="p">,</span>
                                         <span class="ss">password</span><span class="p">:</span>              <span class="s2">"foo"</span><span class="p">,</span>
                                         <span class="ss">password_confirmation</span><span class="p">:</span> <span class="s2">"bar"</span> <span class="p">}</span> <span class="p">}</span>
    <span class="k">end</span>
    <span class="n">assert_template</span> <span class="s1">'users/new'</span>
<span class="hll">    <span class="n">assert_select</span> <span class="s1">'div#&lt;CSS id for error explanation&gt;'</span>
</span><span class="hll">    <span class="n">assert_select</span> <span class="s1">'div.&lt;CSS class for field with error&gt;'</span>
</span>  <span class="k">end</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div></div>
</div>
<div class="codelisting" id="code-post_signup" data-tralics-id="uid911" data-number="7.26">
<div class="heading">
<span class="number">Listing 7.26:</span> 

<span class="description">Adding a signup route responding to <code class="tt">POST</code> requests.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">config/routes.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="no">Rails</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">routes</span><span class="o">.</span><span class="n">draw</span> <span class="k">do</span>
  <span class="n">root</span> <span class="s1">'static_pages#home'</span>
  <span class="n">get</span>  <span class="s1">'/help'</span><span class="p">,</span>    <span class="ss">to</span><span class="p">:</span> <span class="s1">'static_pages#help'</span>
  <span class="n">get</span>  <span class="s1">'/about'</span><span class="p">,</span>   <span class="ss">to</span><span class="p">:</span> <span class="s1">'static_pages#about'</span>
  <span class="n">get</span>  <span class="s1">'/contact'</span><span class="p">,</span> <span class="ss">to</span><span class="p">:</span> <span class="s1">'static_pages#contact'</span>
  <span class="n">get</span>  <span class="s1">'/signup'</span><span class="p">,</span>  <span class="ss">to</span><span class="p">:</span> <span class="s1">'users#new'</span>
<span class="hll">  <span class="n">post</span> <span class="s1">'/signup'</span><span class="p">,</span>  <span class="ss">to</span><span class="p">:</span> <span class="s1">'users#create'</span>
</span>  <span class="n">resources</span> <span class="ss">:users</span>
<span class="k">end</span>
</pre></div></div>
</div>
<div class="codelisting" id="code-post_signup_form" data-tralics-id="uid912" data-number="7.27">
<div class="heading">
<span class="number">Listing 7.27:</span> 

<span class="description">Posting to the /signup URL. <span class="break"></span> <code class="filepath">app/views/users/new.html.erb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;%</span> <span class="n">provide</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="s1">'Sign up'</span><span class="p">)</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;h1&gt;</span>Sign up<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-6 col-md-offset-3"</span><span class="nt">&gt;</span>
<span class="hll">    <span class="cp">&lt;%=</span> <span class="n">form_for</span><span class="p">(</span><span class="vi">@user</span><span class="p">,</span> <span class="ss">url</span><span class="p">:</span> <span class="n">signup_path</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>
</span>      <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s1">'shared/error_messages'</span> <span class="cp">%&gt;</span>

      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:name</span> <span class="cp">%&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">text_field</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s1">'form-control'</span> <span class="cp">%&gt;</span>

      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:email</span> <span class="cp">%&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">email_field</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s1">'form-control'</span> <span class="cp">%&gt;</span>

      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:password</span> <span class="cp">%&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">password_field</span> <span class="ss">:password</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s1">'form-control'</span> <span class="cp">%&gt;</span>

      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:password_confirmation</span><span class="p">,</span> <span class="s2">"Confirmation"</span> <span class="cp">%&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">password_field</span> <span class="ss">:password_confirmation</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s1">'form-control'</span> <span class="cp">%&gt;</span>

      <span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">submit</span> <span class="s2">"Create my account"</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s2">"btn btn-primary"</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div></div>
</div>
</div>
</div></div></div></div>
<div class="j_sectionContent" data-html="&lt;div id=&quot;sec-successful_signups&quot; data-tralics-id=&quot;cid41&quot; class=&quot;section&quot; data-number=&quot;7.4&quot;&gt;
&lt;h2&gt;&lt;a href=&quot;sign_up_fragment.html#sec-successful_signups&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.4 &lt;/span&gt;Successful signups&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Having handled invalid form submissions, now it’s time to complete the signup form by actually saving a new user (if valid) to the database.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; First, we try to save the user; if the save succeeds, the user’s information gets written to the database automatically, and we then &lt;em&gt;redirect&lt;/em&gt; the browser to show the user’s profile (together with a friendly greeting), as mocked up in &lt;a href=&quot;sign_up_fragment.html#fig-signup_success_mockup&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.19&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; If it fails, we simply fall back on the behavior developed in &lt;a href=&quot;sign_up_fragment.html#sec-unsuccessful_signups&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.3&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-signup_success_mockup&quot; data-tralics-id=&quot;uid913&quot; data-number=&quot;7.19&quot;&gt;
&lt;div class=&quot;graphics image box&quot;&gt;&lt;img src=&quot;images/figures/signup_success_mockup_bootstrap.png&quot; alt=&quot;images/figures/signup_success_mockup_bootstrap&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.19: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;A mockup of successful signup.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;



&lt;/div&gt;"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-successful_signups" data-tralics-id="cid41" class="section" data-number="7.4">
<h2><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-successful_signups" class="heading hyperref"><span class="number">7.4 </span>Successful signups</a></h2>
<p>Having handled invalid form submissions, now it’s time to complete the signup form by actually saving a new user (if valid) to the database.<span class="intersentencespace"></span> First, we try to save the user; if the save succeeds, the user’s information gets written to the database automatically, and we then <em>redirect</em> the browser to show the user’s profile (together with a friendly greeting), as mocked up in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_success_mockup" class="hyperref">Figure&nbsp;<span class="ref">7.19</span></a>.<span class="intersentencespace"></span> If it fails, we simply fall back on the behavior developed in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-unsuccessful_signups" class="hyperref">Section&nbsp;<span class="ref">7.3</span></a>.</p>
<div class="center figure" id="fig-signup_success_mockup" data-tralics-id="uid913" data-number="7.19">
<div class="graphics image box"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/signup_success_mockup_bootstrap.png" alt="images/figures/signup_success_mockup_bootstrap"></div>
<div class="caption">
<span class="header">Figure 7.19: </span><span class="description">A mockup of successful signup.
</span>
</div>
</div>



</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-the_finished_signup_form&quot; data-tralics-id=&quot;uid914&quot; class=&quot;subsection&quot; data-number=&quot;7.4.1&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-the_finished_signup_form&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.4.1 &lt;/span&gt;The finished signup form&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;To complete a working signup form, we need to fill in the commented-out section in &lt;a href=&quot;sign_up_fragment.html#code-create_action_strong_parameters&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.19&lt;/span&gt;&lt;/a&gt; with the appropriate behavior.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Currently, the form simply freezes on valid submission, as indicated by the color change in the submission button (&lt;a href=&quot;sign_up_fragment.html#fig-valid_submission_error&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.20&lt;/span&gt;&lt;/a&gt;), although this behavior may be system-dependent.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This is because the default behavior for a Rails action is to render the corresponding view, and there isn’t a view template corresponding to the &lt;code&gt;create&lt;/code&gt; action (&lt;a href=&quot;sign_up_fragment.html#fig-no_create_template_error&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.21&lt;/span&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-valid_submission_error&quot; data-tralics-id=&quot;uid915&quot; data-number=&quot;7.20&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/valid_submission_error_4th_ed.png&quot; alt=&quot;images/figures/valid_submission_error_4th_ed&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.20: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;The frozen page on valid signup submission.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-no_create_template_error&quot; data-tralics-id=&quot;uid916&quot; data-number=&quot;7.21&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/no_create_template_error.png&quot; alt=&quot;images/figures/no_create_template_error&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.21: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;The &lt;code&gt;create&lt;/code&gt; template error in the server log.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Although it’s possible to render a template for the &lt;code&gt;create&lt;/code&gt; action, the usual practice is to &lt;em&gt;redirect&lt;/em&gt; to a different page instead when the creation is successful.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In particular, we’ll follow the common convention of redirecting to the newly created user’s profile, although the root path would also work.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The application code, which introduces the &lt;code&gt;redirect_to&lt;/code&gt; method, appears in &lt;a href=&quot;sign_up_fragment.html#code-user_create_action&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.28&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-user_create_action&quot; data-tralics-id=&quot;uid917&quot; data-number=&quot;7.28&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.28:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;The user &lt;code&gt;create&lt;/code&gt; action with a save and a redirect.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/controllers/users_controller.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UsersController&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationController&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;n&quot;&gt;redirect_to&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;new&#39;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;kp&quot;&gt;private&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;user_params&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;permit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                   &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Note that we’ve written&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;redirect_to&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;where we could have used the equivalent&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;redirect_to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is because Rails automatically infers from &lt;code&gt;redirect_to @user&lt;/code&gt; that we want to redirect to &lt;code&gt;user_url(@user)&lt;/code&gt;.&lt;/p&gt;
&lt;div id=&quot;sec-exercises_the_finished_signup_form&quot; data-tralics-id=&quot;uid918&quot; class=&quot;subsubsection&quot; data-number=&quot;7.4.1.1&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-exercises_the_finished_signup_form&quot; class=&quot;heading&quot;&gt;Exercises&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;society-note&quot;&gt;
&lt;p&gt;Solutions to exercises are available for free with any Rails Tutorial &lt;a href=&quot;https://www.railstutorial.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;purchase&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see other people’s answers and to record your own, join the &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; at &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;learnenough.com/society&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;  &lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Using the Rails console, verify that a user is in fact created when submitting valid information. &lt;span class=&quot;exercise&quot; id=&quot;ex-ae6165&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;Confirm by updating &lt;a href=&quot;sign_up_fragment.html#code-user_create_action&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.28&lt;/span&gt;&lt;/a&gt; and submitting a valid user that &lt;code&gt;redirect_to user_url(@user)&lt;/code&gt; has the same effect as &lt;code&gt;redirect_to @user&lt;/code&gt;. &lt;span class=&quot;exercise&quot; id=&quot;ex-3f0fab&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="186"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-the_finished_signup_form" data-tralics-id="uid914" class="subsection" data-number="7.4.1">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-the_finished_signup_form" class="heading hyperref"><span class="number">7.4.1 </span>The finished signup form</a></h3>
<p>To complete a working signup form, we need to fill in the commented-out section in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-create_action_strong_parameters" class="hyperref">Listing&nbsp;<span class="ref">7.19</span></a> with the appropriate behavior.<span class="intersentencespace"></span> Currently, the form simply freezes on valid submission, as indicated by the color change in the submission button (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-valid_submission_error" class="hyperref">Figure&nbsp;<span class="ref">7.20</span></a>), although this behavior may be system-dependent.<span class="intersentencespace"></span> This is because the default behavior for a Rails action is to render the corresponding view, and there isn’t a view template corresponding to the <code>create</code> action (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-no_create_template_error" class="hyperref">Figure&nbsp;<span class="ref">7.21</span></a>).</p>
<div class="center figure" id="fig-valid_submission_error" data-tralics-id="uid915" data-number="7.20">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/valid_submission_error_4th_ed.png" alt="images/figures/valid_submission_error_4th_ed"></div>
<div class="caption">
<span class="header">Figure 7.20: </span><span class="description">The frozen page on valid signup submission.
</span>
</div>
</div>
<div class="center figure" id="fig-no_create_template_error" data-tralics-id="uid916" data-number="7.21">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/no_create_template_error.png" alt="images/figures/no_create_template_error"></div>
<div class="caption">
<span class="header">Figure 7.21: </span><span class="description">The <code>create</code> template error in the server log.
</span>
</div>
</div>
<p>Although it’s possible to render a template for the <code>create</code> action, the usual practice is to <em>redirect</em> to a different page instead when the creation is successful.<span class="intersentencespace"></span> In particular, we’ll follow the common convention of redirecting to the newly created user’s profile, although the root path would also work.<span class="intersentencespace"></span> The application code, which introduces the <code>redirect_to</code> method, appears in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-user_create_action" class="hyperref">Listing&nbsp;<span class="ref">7.28</span></a>.</p>
<div class="codelisting" id="code-user_create_action" data-tralics-id="uid917" data-number="7.28">
<div class="heading">
<span class="number">Listing 7.28:</span> 

<span class="description">The user <code>create</code> action with a save and a redirect.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/controllers/users_controller.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="k">def</span> <span class="nf">create</span>
    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">user_params</span><span class="p">)</span>
    <span class="k">if</span> <span class="vi">@user</span><span class="o">.</span><span class="n">save</span>
<span class="hll">      <span class="n">redirect_to</span> <span class="vi">@user</span>
</span>    <span class="k">else</span>
      <span class="n">render</span> <span class="s1">'new'</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="kp">private</span>

    <span class="k">def</span> <span class="nf">user_params</span>
      <span class="n">params</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="ss">:user</span><span class="p">)</span><span class="o">.</span><span class="n">permit</span><span class="p">(</span><span class="ss">:name</span><span class="p">,</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">:password</span><span class="p">,</span>
                                   <span class="ss">:password_confirmation</span><span class="p">)</span>
    <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
<p>Note that we’ve written</p>
<div class="code"><div class="highlight"><pre><span class="n">redirect_to</span> <span class="vi">@user</span>
</pre></div></div>
<p>where we could have used the equivalent</p>
<div class="code"><div class="highlight"><pre><span class="n">redirect_to</span> <span class="n">user_url</span><span class="p">(</span><span class="vi">@user</span><span class="p">)</span>
</pre></div></div>
<p>This is because Rails automatically infers from <code>redirect_to @user</code> that we want to redirect to <code>user_url(@user)</code>.</p>
<div id="sec-exercises_the_finished_signup_form" data-tralics-id="uid918" class="subsubsection" data-number="7.4.1.1">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_the_finished_signup_form" class="heading">Exercises</a></h4>
<p> </p>
<div class="society-note">
<p>Solutions to exercises are available for free with any Rails Tutorial <a href="https://www.railstutorial.org/" target="_blank" rel="noopener">purchase</a>.<span class="intersentencespace"></span> To see other people’s answers and to record your own, join the <a href="http://learnenough.com/society" target="_blank" rel="noopener">Learn Enough Society</a> at <a href="http://learnenough.com/society" target="_blank" rel="noopener">learnenough.com/society</a>.<span class="intersentencespace"></span>  </p>
</div>
<ol>
<li>Using the Rails console, verify that a user is in fact created when submitting valid information. <span class="exercise" id="ex-ae6165"></span>
</li>
<li>Confirm by updating <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-user_create_action" class="hyperref">Listing&nbsp;<span class="ref">7.28</span></a> and submitting a valid user that <code>redirect_to user_url(@user)</code> has the same effect as <code>redirect_to @user</code>. <span class="exercise" id="ex-3f0fab"></span>
</li>
</ol>
</div>
</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-the_flash&quot; data-tralics-id=&quot;uid921&quot; class=&quot;subsection&quot; data-number=&quot;7.4.2&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-the_flash&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.4.2 &lt;/span&gt;The flash&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;With the code in &lt;a href=&quot;sign_up_fragment.html#code-user_create_action&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.28&lt;/span&gt;&lt;/a&gt;, our signup form is actually working, but before submitting a valid registration in a browser we’re going to add a bit of polish common in web applications: a message that appears on the subsequent page (in this case, welcoming our new user to the application) and then disappears upon visiting a second page or on page reload.&lt;/p&gt;
&lt;p&gt;The Rails way to display a temporary message is to use a special method called the &lt;em&gt;flash&lt;/em&gt;, which we can treat like a hash.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Rails adopts the convention of a &lt;code&gt;:success&lt;/code&gt; key for a message indicating a successful result (&lt;a href=&quot;sign_up_fragment.html#code-signup_flash&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.29&lt;/span&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-signup_flash&quot; data-tralics-id=&quot;uid922&quot; data-number=&quot;7.29&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.29:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Adding a flash message to user signup.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/controllers/users_controller.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UsersController&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationController&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;n&quot;&gt;flash&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:success&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Welcome to the Sample App!&quot;&lt;/span&gt;
&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;redirect_to&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;new&#39;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;kp&quot;&gt;private&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;user_params&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;permit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                   &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;By assigning a message to the &lt;code&gt;flash&lt;/code&gt;, we are now in a position to display the message on the first page after the redirect.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Our method is to iterate through the &lt;code&gt;flash&lt;/code&gt; and insert all relevant messages into the site layout.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; You may recall the console example in &lt;a href=&quot;rails_flavored_ruby_fragment.html#sec-hashes_and_symbols&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;4.3.3&lt;/span&gt;&lt;/a&gt;, where we saw how to iterate through a hash using the strategically named &lt;code&gt;flash&lt;/code&gt; variable (&lt;a href=&quot;sign_up_fragment.html#code-flash_iteration&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.30&lt;/span&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-flash_iteration&quot; data-tralics-id=&quot;uid923&quot; data-number=&quot;7.30&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.30:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Iterating through a &lt;code&gt;flash&lt;/code&gt; hash in the console.&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;go&quot;&gt;$ rails console&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;flash&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;It worked!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;danger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;It failed.&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; {:success=&amp;gt;&quot;It worked!&quot;, danger: &quot;It failed.&quot;}&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;flash&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;?&amp;gt; &lt;/span&gt;  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;?&amp;gt; &lt;/span&gt;  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;success&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;It worked!&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;danger&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;It failed.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;By following this pattern, we can arrange to display the contents of the flash site-wide using code like this:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flash&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message_type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;alert alert-&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message_type&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(This code is a particularly ugly and difficult-to-read combination of HTML and ERb; making it prettier is left as an exercise (&lt;a href=&quot;sign_up_fragment.html#sec-exercises_a_test_for_valid_submission&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.4.4.1&lt;/span&gt;&lt;/a&gt;).)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Here the embedded Ruby&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;alert-&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message_type&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;makes a CSS class corresponding to the type of message, so that for a &lt;code&gt;:success&lt;/code&gt; message the class is&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;alert-success
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(The key &lt;code&gt;:success&lt;/code&gt; is a symbol, but embedded Ruby automatically converts it to the string &lt;code&gt;&quot;success&quot;&lt;/code&gt; before inserting it into the template.)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Using a different class for each key allows us to apply different styles to different kinds of messages.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; For example, in &lt;a href=&quot;basic_login_fragment.html#sec-rendering_with_a_flash_message&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;8.1.4&lt;/span&gt;&lt;/a&gt; we’ll use &lt;code&gt;flash[:danger]&lt;/code&gt; to indicate a failed login attempt.&lt;sup id=&quot;cha-7_footnote-ref-11&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-11&quot;&gt;11&lt;/a&gt;&lt;/sup&gt;&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (In fact, we’ve already used &lt;code&gt;alert-danger&lt;/code&gt; once, to style the error message div in &lt;a href=&quot;sign_up_fragment.html#code-errors_partial&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.21&lt;/span&gt;&lt;/a&gt;.)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Bootstrap CSS supports styling for four such flash classes for increasingly urgent message types (&lt;code&gt;success&lt;/code&gt;, &lt;code&gt;info&lt;/code&gt;, &lt;code&gt;warning&lt;/code&gt;, and &lt;code&gt;danger&lt;/code&gt;), and we’ll find occasion to use all of them in the course of developing the sample application (&lt;code&gt;info&lt;/code&gt; in &lt;a href=&quot;account_activation_fragment.html#sec-account_activation_emails&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;11.2&lt;/span&gt;&lt;/a&gt;, &lt;code&gt;warning&lt;/code&gt; in &lt;a href=&quot;account_activation_fragment.html#sec-activating_the_account&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;11.3&lt;/span&gt;&lt;/a&gt;, and &lt;code&gt;danger&lt;/code&gt; for the first time in &lt;a href=&quot;basic_login_fragment.html#sec-rendering_with_a_flash_message&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;8.1.4&lt;/span&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Because the message is also inserted into the template, the full HTML result for&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;flash&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:success&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Welcome to the Sample App!&quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;appears as follows:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;alert alert-success&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Welcome to the Sample App!&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Putting the embedded Ruby discussed above into the site layout leads to the code in &lt;a href=&quot;sign_up_fragment.html#code-layout_flash&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.31&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-layout_flash&quot; data-tralics-id=&quot;uid925&quot; data-number=&quot;7.31&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.31:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Adding the contents of the &lt;code&gt;flash&lt;/code&gt; variable to the site layout.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/views/layouts/application.html.erb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
  .
  .
  .
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;layouts/header&#39;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;container&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flash&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message_type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;        &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;alert alert-&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message_type&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;layouts/footer&#39;&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;development?&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
    .
    .
    .
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;sec-exercises_the_flash&quot; data-tralics-id=&quot;uid926&quot; class=&quot;subsubsection&quot; data-number=&quot;7.4.2.1&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-exercises_the_flash&quot; class=&quot;heading&quot;&gt;Exercises&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;society-note&quot;&gt;
&lt;p&gt;Solutions to exercises are available for free with any Rails Tutorial &lt;a href=&quot;https://www.railstutorial.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;purchase&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see other people’s answers and to record your own, join the &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; at &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;learnenough.com/society&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;  &lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;In the console, confirm that you can use interpolation (&lt;a href=&quot;rails_flavored_ruby_fragment.html#sec-strings&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;4.2.2&lt;/span&gt;&lt;/a&gt;) to interpolate a raw symbol.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; For example, what is the return value of &lt;code&gt;&quot;#{:success}&quot;&lt;/code&gt;? &lt;span class=&quot;exercise&quot; id=&quot;ex-46d5c1&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;How does the previous exercise relate to the flash iteration shown in &lt;a href=&quot;sign_up_fragment.html#code-flash_iteration&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.30&lt;/span&gt;&lt;/a&gt;? &lt;span class=&quot;exercise&quot; id=&quot;ex-77fcbe&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="187"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-the_flash" data-tralics-id="uid921" class="subsection" data-number="7.4.2">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-the_flash" class="heading hyperref"><span class="number">7.4.2 </span>The flash</a></h3>
<p>With the code in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-user_create_action" class="hyperref">Listing&nbsp;<span class="ref">7.28</span></a>, our signup form is actually working, but before submitting a valid registration in a browser we’re going to add a bit of polish common in web applications: a message that appears on the subsequent page (in this case, welcoming our new user to the application) and then disappears upon visiting a second page or on page reload.</p>
<p>The Rails way to display a temporary message is to use a special method called the <em>flash</em>, which we can treat like a hash.<span class="intersentencespace"></span> Rails adopts the convention of a <code>:success</code> key for a message indicating a successful result (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-signup_flash" class="hyperref">Listing&nbsp;<span class="ref">7.29</span></a>).</p>
<div class="codelisting" id="code-signup_flash" data-tralics-id="uid922" data-number="7.29">
<div class="heading">
<span class="number">Listing 7.29:</span> 

<span class="description">Adding a flash message to user signup.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/controllers/users_controller.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="k">def</span> <span class="nf">create</span>
    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">user_params</span><span class="p">)</span>
    <span class="k">if</span> <span class="vi">@user</span><span class="o">.</span><span class="n">save</span>
<span class="hll">      <span class="n">flash</span><span class="o">[</span><span class="ss">:success</span><span class="o">]</span> <span class="o">=</span> <span class="s2">"Welcome to the Sample App!"</span>
</span>      <span class="n">redirect_to</span> <span class="vi">@user</span>
    <span class="k">else</span>
      <span class="n">render</span> <span class="s1">'new'</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="kp">private</span>

    <span class="k">def</span> <span class="nf">user_params</span>
      <span class="n">params</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="ss">:user</span><span class="p">)</span><span class="o">.</span><span class="n">permit</span><span class="p">(</span><span class="ss">:name</span><span class="p">,</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">:password</span><span class="p">,</span>
                                   <span class="ss">:password_confirmation</span><span class="p">)</span>
    <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
<p>By assigning a message to the <code>flash</code>, we are now in a position to display the message on the first page after the redirect.<span class="intersentencespace"></span> Our method is to iterate through the <code>flash</code> and insert all relevant messages into the site layout.<span class="intersentencespace"></span> You may recall the console example in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-hashes_and_symbols" class="hyperref">Section&nbsp;<span class="ref">4.3.3</span></a>, where we saw how to iterate through a hash using the strategically named <code>flash</code> variable (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-flash_iteration" class="hyperref">Listing&nbsp;<span class="ref">7.30</span></a>).</p>
<div class="codelisting" id="code-flash_iteration" data-tralics-id="uid923" data-number="7.30">
<div class="heading">
<span class="number">Listing 7.30:</span> 

<span class="description">Iterating through a <code>flash</code> hash in the console.</span>
</div>

<div class="code"><div class="highlight"><pre><span class="go">$ rails console</span>
<span class="gp">&gt;&gt; </span><span class="n">flash</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">success</span><span class="p">:</span> <span class="s2">"It worked!"</span><span class="p">,</span> <span class="ss">danger</span><span class="p">:</span> <span class="s2">"It failed."</span> <span class="p">}</span>
<span class="go">=&gt; {:success=&gt;"It worked!", danger: "It failed."}</span>
<span class="gp">&gt;&gt; </span><span class="n">flash</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">|</span>
<span class="gp">?&gt; </span>  <span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">key</span><span class="si">}</span><span class="s2">"</span>
<span class="gp">?&gt; </span>  <span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">value</span><span class="si">}</span><span class="s2">"</span>
<span class="gp">&gt;&gt; </span><span class="k">end</span>
<span class="go">success</span>
<span class="go">It worked!</span>
<span class="go">danger</span>
<span class="go">It failed.</span>
</pre></div></div>
</div>
<p>By following this pattern, we can arrange to display the contents of the flash site-wide using code like this:</p>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;%</span> <span class="n">flash</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">message_type</span><span class="p">,</span> <span class="n">message</span><span class="o">|</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"alert alert-</span><span class="cp">&lt;%=</span> <span class="n">message_type</span> <span class="cp">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">message</span> <span class="cp">%&gt;</span><span class="nt">&lt;/div&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</pre></div></div>
<p>(This code is a particularly ugly and difficult-to-read combination of HTML and ERb; making it prettier is left as an exercise (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_a_test_for_valid_submission" class="hyperref">Section&nbsp;<span class="ref">7.4.4.1</span></a>).)<span class="intersentencespace"></span> Here the embedded Ruby</p>
<div class="code"><div class="highlight"><pre>alert-<span class="cp">&lt;%=</span> <span class="n">message_type</span> <span class="cp">%&gt;</span>
</pre></div></div>
<p>makes a CSS class corresponding to the type of message, so that for a <code>:success</code> message the class is</p>
<div class="code"><div class="highlight"><pre>alert-success
</pre></div></div>
<p>(The key <code>:success</code> is a symbol, but embedded Ruby automatically converts it to the string <code>"success"</code> before inserting it into the template.)<span class="intersentencespace"></span> Using a different class for each key allows us to apply different styles to different kinds of messages.<span class="intersentencespace"></span> For example, in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-rendering_with_a_flash_message" class="hyperref">Section&nbsp;<span class="ref">8.1.4</span></a> we’ll use <code>flash[:danger]</code> to indicate a failed login attempt.<sup id="cha-7_footnote-ref-11" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-11" data-hasqtip="17">11</a></sup><span class="intersentencespace"></span> (In fact, we’ve already used <code>alert-danger</code> once, to style the error message div in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-errors_partial" class="hyperref">Listing&nbsp;<span class="ref">7.21</span></a>.)<span class="intersentencespace"></span> Bootstrap CSS supports styling for four such flash classes for increasingly urgent message types (<code>success</code>, <code>info</code>, <code>warning</code>, and <code>danger</code>), and we’ll find occasion to use all of them in the course of developing the sample application (<code>info</code> in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-account_activation_emails" class="hyperref">Section&nbsp;<span class="ref">11.2</span></a>, <code>warning</code> in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/account_activation#sec-activating_the_account" class="hyperref">Section&nbsp;<span class="ref">11.3</span></a>, and <code>danger</code> for the first time in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#sec-rendering_with_a_flash_message" class="hyperref">Section&nbsp;<span class="ref">8.1.4</span></a>).</p>
<p>Because the message is also inserted into the template, the full HTML result for</p>
<div class="code"><div class="highlight"><pre><span class="n">flash</span><span class="o">[</span><span class="ss">:success</span><span class="o">]</span> <span class="o">=</span> <span class="s2">"Welcome to the Sample App!"</span>
</pre></div></div>
<p>appears as follows:</p>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"alert alert-success"</span><span class="nt">&gt;</span>Welcome to the Sample App!<span class="nt">&lt;/div&gt;</span>
</pre></div></div>
<p>Putting the embedded Ruby discussed above into the site layout leads to the code in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-layout_flash" class="hyperref">Listing&nbsp;<span class="ref">7.31</span></a>.</p>
<div class="codelisting" id="code-layout_flash" data-tralics-id="uid925" data-number="7.31">
<div class="heading">
<span class="number">Listing 7.31:</span> 

<span class="description">Adding the contents of the <code>flash</code> variable to the site layout.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/views/layouts/application.html.erb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  .
  .
  .
  <span class="nt">&lt;body&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s1">'layouts/header'</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
<span class="hll">      <span class="cp">&lt;%</span> <span class="n">flash</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">message_type</span><span class="p">,</span> <span class="n">message</span><span class="o">|</span> <span class="cp">%&gt;</span>
</span><span class="hll">        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"alert alert-</span><span class="cp">&lt;%=</span> <span class="n">message_type</span> <span class="cp">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">message</span> <span class="cp">%&gt;</span><span class="nt">&lt;/div&gt;</span>
</span><span class="hll">      <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</span>      <span class="cp">&lt;%=</span> <span class="k">yield</span> <span class="cp">%&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s1">'layouts/footer'</span> <span class="cp">%&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">debug</span><span class="p">(</span><span class="n">params</span><span class="p">)</span> <span class="k">if</span> <span class="no">Rails</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">development?</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    .
    .
    .
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div></div>
</div>
<div id="sec-exercises_the_flash" data-tralics-id="uid926" class="subsubsection" data-number="7.4.2.1">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_the_flash" class="heading">Exercises</a></h4>
<p> </p>
<div class="society-note">
<p>Solutions to exercises are available for free with any Rails Tutorial <a href="https://www.railstutorial.org/" target="_blank" rel="noopener">purchase</a>.<span class="intersentencespace"></span> To see other people’s answers and to record your own, join the <a href="http://learnenough.com/society" target="_blank" rel="noopener">Learn Enough Society</a> at <a href="http://learnenough.com/society" target="_blank" rel="noopener">learnenough.com/society</a>.<span class="intersentencespace"></span>  </p>
</div>
<ol>
<li>In the console, confirm that you can use interpolation (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/rails_flavored_ruby#sec-strings" class="hyperref">Section&nbsp;<span class="ref">4.2.2</span></a>) to interpolate a raw symbol.<span class="intersentencespace"></span> For example, what is the return value of <code>"#{:success}"</code>? <span class="exercise" id="ex-46d5c1"></span>
</li>
<li>How does the previous exercise relate to the flash iteration shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-flash_iteration" class="hyperref">Listing&nbsp;<span class="ref">7.30</span></a>? <span class="exercise" id="ex-77fcbe"></span>
</li>
</ol>
</div>
</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-the_first_signup&quot; data-tralics-id=&quot;uid929&quot; class=&quot;subsection&quot; data-number=&quot;7.4.3&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-the_first_signup&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.4.3 &lt;/span&gt;The first signup&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;We can see the result of all this work by signing up the first user for the sample app.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Even though previous submissions didn’t work properly (as shown in &lt;a href=&quot;sign_up_fragment.html#fig-valid_submission_error&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.20&lt;/span&gt;&lt;/a&gt;), the &lt;code&gt;user.save&lt;/code&gt; line in the Users controller still works, so users might still have been created.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To clear them out, we’ll reset the database as follows:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;$ rails db:migrate:reset
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;On some systems you might have to restart the webserver (using Ctrl-C) for the changes to take effect (&lt;a href=&quot;beginning_fragment.html#aside-technical_sophistication&quot; class=&quot;hyperref&quot;&gt;Box &lt;span class=&quot;ref&quot;&gt;1.1&lt;/span&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;We’ll create the first user with the name “Rails Tutorial” and email address “example@railstutorial.org”, as shown in &lt;a href=&quot;sign_up_fragment.html#fig-first_signup&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.22&lt;/span&gt;&lt;/a&gt;).&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The resulting page (&lt;a href=&quot;sign_up_fragment.html#fig-signup_flash&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.23&lt;/span&gt;&lt;/a&gt;) shows a friendly flash message upon successful signup, including nice green styling for the &lt;code&gt;success&lt;/code&gt; class, which comes included with the Bootstrap CSS framework from &lt;a href=&quot;filling_in_the_layout_fragment.html#sec-custom_css&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;5.1.2&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Then, upon reloading the user show page, the flash message disappears as promised (&lt;a href=&quot;sign_up_fragment.html#fig-signup_flash_reloaded&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.24&lt;/span&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-first_signup&quot; data-tralics-id=&quot;uid930&quot; data-number=&quot;7.22&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/first_signup.png&quot; alt=&quot;images/figures/first_signup&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.22: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;Filling in the information for the first signup.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-signup_flash&quot; data-tralics-id=&quot;uid931&quot; data-number=&quot;7.23&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/signup_flash_3rd_edition.png&quot; alt=&quot;images/figures/signup_flash_3rd_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.23: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;The results of a successful user signup, with flash message.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-signup_flash_reloaded&quot; data-tralics-id=&quot;uid932&quot; data-number=&quot;7.24&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/signup_flash_reloaded_3rd_edition.png&quot; alt=&quot;images/figures/signup_flash_reloaded_3rd_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.24: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;The &lt;code&gt;flash&lt;/code&gt;-less profile page after a browser reload.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;sec-exercises_the_first_signup&quot; data-tralics-id=&quot;uid933&quot; class=&quot;subsubsection&quot; data-number=&quot;7.4.3.1&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-exercises_the_first_signup&quot; class=&quot;heading&quot;&gt;Exercises&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;society-note&quot;&gt;
&lt;p&gt;Solutions to exercises are available for free with any Rails Tutorial &lt;a href=&quot;https://www.railstutorial.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;purchase&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see other people’s answers and to record your own, join the &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; at &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;learnenough.com/society&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;  &lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Using the Rails console, find by the email address to double-check that the new user was actually created.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The result should look something like &lt;a href=&quot;sign_up_fragment.html#code-user_created&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.32&lt;/span&gt;&lt;/a&gt;. &lt;span class=&quot;exercise&quot; id=&quot;ex-478ab1&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;Create a new user with your primary email address.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Verify that the Gravatar correctly appears. &lt;span class=&quot;exercise&quot; id=&quot;ex-6d88e5&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-user_created&quot; data-tralics-id=&quot;uid936&quot; data-number=&quot;7.32&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.32:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Finding the newly created user in the database.&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;go&quot;&gt;$ rails console&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;find_by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;example@railstutorial.org&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;=&amp;gt; #&amp;lt;User id: 1, name: &quot;Rails Tutorial&quot;, email: &quot;example@railstutorial.&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;org&quot;, created_at: &quot;2016-05-31 17:17:33&quot;, updated_at: &quot;2016-05-31 17:17:33&quot;,&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;password_digest: &quot;$2a$10$8MaeHdnOhZvMk3GmFdmpPOeG6a7u7/k2Z9TMjOanC9G...&quot;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="188"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-the_first_signup" data-tralics-id="uid929" class="subsection" data-number="7.4.3">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-the_first_signup" class="heading hyperref"><span class="number">7.4.3 </span>The first signup</a></h3>
<p>We can see the result of all this work by signing up the first user for the sample app.<span class="intersentencespace"></span> Even though previous submissions didn’t work properly (as shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-valid_submission_error" class="hyperref">Figure&nbsp;<span class="ref">7.20</span></a>), the <code>user.save</code> line in the Users controller still works, so users might still have been created.<span class="intersentencespace"></span> To clear them out, we’ll reset the database as follows:</p>
<div class="code"><div class="highlight"><pre>$ rails db:migrate:reset
</pre></div></div>
<p>On some systems you might have to restart the webserver (using Ctrl-C) for the changes to take effect (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#aside-technical_sophistication" class="hyperref">Box&nbsp;<span class="ref">1.1</span></a>).</p>
<p>We’ll create the first user with the name “Rails Tutorial” and email address “example@railstutorial.org”, as shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-first_signup" class="hyperref">Figure&nbsp;<span class="ref">7.22</span></a>).<span class="intersentencespace"></span> The resulting page (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_flash" class="hyperref">Figure&nbsp;<span class="ref">7.23</span></a>) shows a friendly flash message upon successful signup, including nice green styling for the <code>success</code> class, which comes included with the Bootstrap CSS framework from <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/filling_in_the_layout#sec-custom_css" class="hyperref">Section&nbsp;<span class="ref">5.1.2</span></a>.<span class="intersentencespace"></span> Then, upon reloading the user show page, the flash message disappears as promised (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_flash_reloaded" class="hyperref">Figure&nbsp;<span class="ref">7.24</span></a>).</p>
<div class="center figure" id="fig-first_signup" data-tralics-id="uid930" data-number="7.22">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/first_signup.png" alt="images/figures/first_signup"></div>
<div class="caption">
<span class="header">Figure 7.22: </span><span class="description">Filling in the information for the first signup.
</span>
</div>
</div>
<div class="center figure" id="fig-signup_flash" data-tralics-id="uid931" data-number="7.23">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/signup_flash_3rd_edition.png" alt="images/figures/signup_flash_3rd_edition"></div>
<div class="caption">
<span class="header">Figure 7.23: </span><span class="description">The results of a successful user signup, with flash message.
</span>
</div>
</div>
<div class="center figure" id="fig-signup_flash_reloaded" data-tralics-id="uid932" data-number="7.24">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/signup_flash_reloaded_3rd_edition.png" alt="images/figures/signup_flash_reloaded_3rd_edition"></div>
<div class="caption">
<span class="header">Figure 7.24: </span><span class="description">The <code>flash</code>-less profile page after a browser reload.
</span>
</div>
</div>
<div id="sec-exercises_the_first_signup" data-tralics-id="uid933" class="subsubsection" data-number="7.4.3.1">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_the_first_signup" class="heading">Exercises</a></h4>
<p> </p>
<div class="society-note">
<p>Solutions to exercises are available for free with any Rails Tutorial <a href="https://www.railstutorial.org/" target="_blank" rel="noopener">purchase</a>.<span class="intersentencespace"></span> To see other people’s answers and to record your own, join the <a href="http://learnenough.com/society" target="_blank" rel="noopener">Learn Enough Society</a> at <a href="http://learnenough.com/society" target="_blank" rel="noopener">learnenough.com/society</a>.<span class="intersentencespace"></span>  </p>
</div>
<ol>
<li>Using the Rails console, find by the email address to double-check that the new user was actually created.<span class="intersentencespace"></span> The result should look something like <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-user_created" class="hyperref">Listing&nbsp;<span class="ref">7.32</span></a>. <span class="exercise" id="ex-478ab1"></span>
</li>
<li>Create a new user with your primary email address.<span class="intersentencespace"></span> Verify that the Gravatar correctly appears. <span class="exercise" id="ex-6d88e5"></span>
</li>
</ol>
<div class="codelisting" id="code-user_created" data-tralics-id="uid936" data-number="7.32">
<div class="heading">
<span class="number">Listing 7.32:</span> 

<span class="description">Finding the newly created user in the database.</span>
</div>

<div class="code"><div class="highlight"><pre><span class="go">$ rails console</span>
<span class="gp">&gt;&gt; </span><span class="no">User</span><span class="o">.</span><span class="n">find_by</span><span class="p">(</span><span class="ss">email</span><span class="p">:</span> <span class="s2">"example@railstutorial.org"</span><span class="p">)</span>
<span class="go">=&gt; #&lt;User id: 1, name: "Rails Tutorial", email: "example@railstutorial.</span>
<span class="go">org", created_at: "2016-05-31 17:17:33", updated_at: "2016-05-31 17:17:33",</span>
<span class="go">password_digest: "$2a$10$8MaeHdnOhZvMk3GmFdmpPOeG6a7u7/k2Z9TMjOanC9G..."&gt;</span>
</pre></div></div>
</div>
</div>
</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-a_test_for_valid_submission&quot; data-tralics-id=&quot;uid937&quot; class=&quot;subsection&quot; data-number=&quot;7.4.4&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-a_test_for_valid_submission&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.4.4 &lt;/span&gt;A test for valid submission&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Before moving on, we’ll write a test for valid submission to verify our application’s behavior and catch regressions.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; As with the test for invalid submission in &lt;a href=&quot;sign_up_fragment.html#sec-a_test_for_invalid_submission&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.3.4&lt;/span&gt;&lt;/a&gt;, our main purpose is to verify the contents of the database.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In this case, we want to submit valid information and then confirm that a user &lt;em&gt;was&lt;/em&gt; created.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In analogy with &lt;a href=&quot;sign_up_fragment.html#code-a_test_for_invalid_submission&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.23&lt;/span&gt;&lt;/a&gt;, which used&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;assert_no_difference&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;User.count&#39;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;here we’ll use the corresponding &lt;code&gt;assert_difference&lt;/code&gt; method:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;assert_difference&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;User.count&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As with &lt;code&gt;assert_no_difference&lt;/code&gt;, the first argument is the string &lt;code&gt;&#39;User.count&#39;&lt;/code&gt;, which arranges for a comparison between &lt;code&gt;User.count&lt;/code&gt; before and after the contents of the &lt;code&gt;assert_difference&lt;/code&gt; block.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The second (optional) argument specifies the size of the difference (in this case, 1).&lt;/p&gt;
&lt;p&gt;Incorporating &lt;code&gt;assert_difference&lt;/code&gt; into the file from &lt;a href=&quot;sign_up_fragment.html#code-a_test_for_invalid_submission&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.23&lt;/span&gt;&lt;/a&gt; yields the test shown in &lt;a href=&quot;sign_up_fragment.html#code-a_test_for_valid_submission&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.33&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Note that we’ve used the &lt;code&gt;follow_redirect!&lt;/code&gt; method after posting to the users path.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This simply arranges to follow the redirect after submission, resulting in a rendering of the &lt;code&gt;&#39;users/show&#39;&lt;/code&gt; template.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (It’s probably a good idea to write a test for the flash as well, which is left as an exercise (&lt;a href=&quot;sign_up_fragment.html#sec-exercises_a_test_for_valid_submission&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.4.4.1&lt;/span&gt;&lt;/a&gt;).)&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-a_test_for_valid_submission&quot; data-tralics-id=&quot;uid938&quot; data-number=&quot;7.33&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.33:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;A test for a valid signup.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span style=&quot;color: ForestGreen&quot;&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;strong&gt;green&lt;/strong&gt;&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;test/integration/users_signup_test.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;test_helper&#39;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UsersSignupTest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActionDispatch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;IntegrationTest&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;valid signup information&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;signup_path&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;assert_difference&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;User.count&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;s2&quot;&gt;&quot;Example User&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                         &lt;span class=&quot;ss&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;user@example.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                         &lt;span class=&quot;ss&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;              &lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                         &lt;span class=&quot;ss&quot;&gt;password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;follow_redirect!&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;assert_template&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;users/show&#39;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Note that &lt;a href=&quot;sign_up_fragment.html#code-a_test_for_valid_submission&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.33&lt;/span&gt;&lt;/a&gt; also verifies that the user show template renders following successful signup.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; For this test to work, it’s necessary for the Users routes (&lt;a href=&quot;sign_up_fragment.html#code-users_resource&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.3&lt;/span&gt;&lt;/a&gt;), the Users &lt;code&gt;show&lt;/code&gt; action (&lt;a href=&quot;sign_up_fragment.html#code-user_show_action&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.5&lt;/span&gt;&lt;/a&gt;), and the &lt;code&gt;show.html.erb&lt;/code&gt; view (&lt;a href=&quot;sign_up_fragment.html#code-user_show_view_with_gravatar&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.8&lt;/span&gt;&lt;/a&gt;) to work correctly.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; As a result, the one line&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;assert_template&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;users/show&#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is a sensitive test for almost everything related to a user’s profile page.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This sort of end-to-end coverage of important application features illustrates one reason why integration tests are so useful.&lt;/p&gt;
&lt;div id=&quot;sec-exercises_a_test_for_valid_submission&quot; data-tralics-id=&quot;uid939&quot; class=&quot;subsubsection&quot; data-number=&quot;7.4.4.1&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-exercises_a_test_for_valid_submission&quot; class=&quot;heading&quot;&gt;Exercises&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;society-note&quot;&gt;
&lt;p&gt;Solutions to exercises are available for free with any Rails Tutorial &lt;a href=&quot;https://www.railstutorial.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;purchase&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see other people’s answers and to record your own, join the &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; at &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;learnenough.com/society&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;  &lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Write a test for the flash implemented in &lt;a href=&quot;sign_up_fragment.html#sec-the_flash&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.4.2&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; How detailed you want to make your tests is up to you; a suggested ultra-minimalist template appears in &lt;a href=&quot;sign_up_fragment.html#code-flash_test&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.34&lt;/span&gt;&lt;/a&gt;, which you should complete by replacing &lt;code&gt;FILL_IN&lt;/code&gt; with the appropriate code.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (Even testing for the right key, much less the text, is likely to be brittle, so I prefer to test only that the flash isn’t empty.) &lt;span class=&quot;exercise&quot; id=&quot;ex-714b39&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;As noted above, the flash HTML in &lt;a href=&quot;sign_up_fragment.html#code-layout_flash&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.31&lt;/span&gt;&lt;/a&gt; is ugly.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Verify by running the test suite that the cleaner code in &lt;a href=&quot;sign_up_fragment.html#code-layout_flash_content_tag&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.35&lt;/span&gt;&lt;/a&gt;, which uses the Rails &lt;code&gt;content_tag&lt;/code&gt; helper, also works. &lt;span class=&quot;exercise&quot; id=&quot;ex-f0e99e&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;Verify that the test fails if you comment out the redirect line in &lt;a href=&quot;sign_up_fragment.html#code-user_create_action&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.28&lt;/span&gt;&lt;/a&gt;. &lt;span class=&quot;exercise&quot; id=&quot;ex-d82d28&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;Suppose we changed &lt;code&gt;@user.save&lt;/code&gt; to &lt;code&gt;false&lt;/code&gt; in &lt;a href=&quot;sign_up_fragment.html#code-user_create_action&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.28&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; How does this change verify that the &lt;code&gt;assert_difference&lt;/code&gt; block is testing the right thing? &lt;span class=&quot;exercise&quot; id=&quot;ex-98882d&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-flash_test&quot; data-tralics-id=&quot;uid944&quot; data-number=&quot;7.34&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.34:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;A template for a test of the flash.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;test/integration/users_signup_test.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;test_helper&#39;&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;valid signup information&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;signup_path&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;assert_difference&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;User.count&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;s2&quot;&gt;&quot;Example User&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                         &lt;span class=&quot;ss&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;user@example.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                         &lt;span class=&quot;ss&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;              &lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                         &lt;span class=&quot;ss&quot;&gt;password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;follow_redirect!&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;assert_template&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;users/show&#39;&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;n&quot;&gt;assert_not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flash&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FILL_IN&lt;/span&gt;
&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-layout_flash_content_tag&quot; data-tralics-id=&quot;uid945&quot; data-number=&quot;7.35&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.35:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;The &lt;code&gt;flash&lt;/code&gt; ERb in the site layout using &lt;code&gt;content_tag&lt;/code&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;app/views/layouts/application.html.erb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
      .
      .
      .
      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flash&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message_type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;        &lt;span class=&quot;cp&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;content_tag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:div&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;alert alert-&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message_type&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;      &lt;span class=&quot;cp&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;%&amp;gt;&lt;/span&gt;
      .
      .
      .
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="189"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-a_test_for_valid_submission" data-tralics-id="uid937" class="subsection" data-number="7.4.4">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_test_for_valid_submission" class="heading hyperref"><span class="number">7.4.4 </span>A test for valid submission</a></h3>
<p>Before moving on, we’ll write a test for valid submission to verify our application’s behavior and catch regressions.<span class="intersentencespace"></span> As with the test for invalid submission in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-a_test_for_invalid_submission" class="hyperref">Section&nbsp;<span class="ref">7.3.4</span></a>, our main purpose is to verify the contents of the database.<span class="intersentencespace"></span> In this case, we want to submit valid information and then confirm that a user <em>was</em> created.<span class="intersentencespace"></span> In analogy with <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-a_test_for_invalid_submission" class="hyperref">Listing&nbsp;<span class="ref">7.23</span></a>, which used</p>
<div class="code"><div class="highlight"><pre><span class="n">assert_no_difference</span> <span class="s1">'User.count'</span> <span class="k">do</span>
  <span class="n">post</span> <span class="n">users_path</span><span class="p">,</span> <span class="o">.</span><span class="n">.</span><span class="o">.</span>
<span class="k">end</span>
</pre></div></div>
<p>here we’ll use the corresponding <code>assert_difference</code> method:</p>
<div class="code"><div class="highlight"><pre><span class="n">assert_difference</span> <span class="s1">'User.count'</span><span class="p">,</span> <span class="mi">1</span> <span class="k">do</span>
  <span class="n">post</span> <span class="n">users_path</span><span class="p">,</span> <span class="o">.</span><span class="n">.</span><span class="o">.</span>
<span class="k">end</span>
</pre></div></div>
<p>As with <code>assert_no_difference</code>, the first argument is the string <code>'User.count'</code>, which arranges for a comparison between <code>User.count</code> before and after the contents of the <code>assert_difference</code> block.<span class="intersentencespace"></span> The second (optional) argument specifies the size of the difference (in this case, 1).</p>
<p>Incorporating <code>assert_difference</code> into the file from <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-a_test_for_invalid_submission" class="hyperref">Listing&nbsp;<span class="ref">7.23</span></a> yields the test shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-a_test_for_valid_submission" class="hyperref">Listing&nbsp;<span class="ref">7.33</span></a>.<span class="intersentencespace"></span> Note that we’ve used the <code>follow_redirect!</code> method after posting to the users path.<span class="intersentencespace"></span> This simply arranges to follow the redirect after submission, resulting in a rendering of the <code>'users/show'</code> template.<span class="intersentencespace"></span> (It’s probably a good idea to write a test for the flash as well, which is left as an exercise (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_a_test_for_valid_submission" class="hyperref">Section&nbsp;<span class="ref">7.4.4.1</span></a>).)</p>
<div class="codelisting" id="code-a_test_for_valid_submission" data-tralics-id="uid938" data-number="7.33">
<div class="heading">
<span class="number">Listing 7.33:</span> 

<span class="description">A test for a valid signup.<span class="intersentencespace"></span> <span style="color: ForestGreen"><span class="sc"></span><span class="sc"><strong>green</strong></span><span class="sc"></span></span><span class="break"></span> <code class="filepath">test/integration/users_signup_test.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">'test_helper'</span>

<span class="k">class</span> <span class="nc">UsersSignupTest</span> <span class="o">&lt;</span> <span class="no">ActionDispatch</span><span class="o">::</span><span class="no">IntegrationTest</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="nb">test</span> <span class="s2">"valid signup information"</span> <span class="k">do</span>
    <span class="n">get</span> <span class="n">signup_path</span>
    <span class="n">assert_difference</span> <span class="s1">'User.count'</span><span class="p">,</span> <span class="mi">1</span> <span class="k">do</span>
      <span class="n">post</span> <span class="n">users_path</span><span class="p">,</span> <span class="ss">params</span><span class="p">:</span> <span class="p">{</span> <span class="ss">user</span><span class="p">:</span> <span class="p">{</span> <span class="nb">name</span><span class="p">:</span>  <span class="s2">"Example User"</span><span class="p">,</span>
                                         <span class="ss">email</span><span class="p">:</span> <span class="s2">"user@example.com"</span><span class="p">,</span>
                                         <span class="ss">password</span><span class="p">:</span>              <span class="s2">"password"</span><span class="p">,</span>
                                         <span class="ss">password_confirmation</span><span class="p">:</span> <span class="s2">"password"</span> <span class="p">}</span> <span class="p">}</span>
    <span class="k">end</span>
    <span class="n">follow_redirect!</span>
    <span class="n">assert_template</span> <span class="s1">'users/show'</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
<p>Note that <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-a_test_for_valid_submission" class="hyperref">Listing&nbsp;<span class="ref">7.33</span></a> also verifies that the user show template renders following successful signup.<span class="intersentencespace"></span> For this test to work, it’s necessary for the Users routes (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-users_resource" class="hyperref">Listing&nbsp;<span class="ref">7.3</span></a>), the Users <code>show</code> action (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-user_show_action" class="hyperref">Listing&nbsp;<span class="ref">7.5</span></a>), and the <code>show.html.erb</code> view (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-user_show_view_with_gravatar" class="hyperref">Listing&nbsp;<span class="ref">7.8</span></a>) to work correctly.<span class="intersentencespace"></span> As a result, the one line</p>
<div class="code"><div class="highlight"><pre><span class="n">assert_template</span> <span class="s1">'users/show'</span>
</pre></div></div>
<p>is a sensitive test for almost everything related to a user’s profile page.<span class="intersentencespace"></span> This sort of end-to-end coverage of important application features illustrates one reason why integration tests are so useful.</p>
<div id="sec-exercises_a_test_for_valid_submission" data-tralics-id="uid939" class="subsubsection" data-number="7.4.4.1">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_a_test_for_valid_submission" class="heading">Exercises</a></h4>
<p> </p>
<div class="society-note">
<p>Solutions to exercises are available for free with any Rails Tutorial <a href="https://www.railstutorial.org/" target="_blank" rel="noopener">purchase</a>.<span class="intersentencespace"></span> To see other people’s answers and to record your own, join the <a href="http://learnenough.com/society" target="_blank" rel="noopener">Learn Enough Society</a> at <a href="http://learnenough.com/society" target="_blank" rel="noopener">learnenough.com/society</a>.<span class="intersentencespace"></span>  </p>
</div>
<ol>
<li>Write a test for the flash implemented in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-the_flash" class="hyperref">Section&nbsp;<span class="ref">7.4.2</span></a>.<span class="intersentencespace"></span> How detailed you want to make your tests is up to you; a suggested ultra-minimalist template appears in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-flash_test" class="hyperref">Listing&nbsp;<span class="ref">7.34</span></a>, which you should complete by replacing <code>FILL_IN</code> with the appropriate code.<span class="intersentencespace"></span> (Even testing for the right key, much less the text, is likely to be brittle, so I prefer to test only that the flash isn’t empty.) <span class="exercise" id="ex-714b39"></span>
</li>
<li>As noted above, the flash HTML in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-layout_flash" class="hyperref">Listing&nbsp;<span class="ref">7.31</span></a> is ugly.<span class="intersentencespace"></span> Verify by running the test suite that the cleaner code in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-layout_flash_content_tag" class="hyperref">Listing&nbsp;<span class="ref">7.35</span></a>, which uses the Rails <code>content_tag</code> helper, also works. <span class="exercise" id="ex-f0e99e"></span>
</li>
<li>Verify that the test fails if you comment out the redirect line in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-user_create_action" class="hyperref">Listing&nbsp;<span class="ref">7.28</span></a>. <span class="exercise" id="ex-d82d28"></span>
</li>
<li>Suppose we changed <code>@user.save</code> to <code>false</code> in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-user_create_action" class="hyperref">Listing&nbsp;<span class="ref">7.28</span></a>.<span class="intersentencespace"></span> How does this change verify that the <code>assert_difference</code> block is testing the right thing? <span class="exercise" id="ex-98882d"></span>
</li>
</ol>
<div class="codelisting" id="code-flash_test" data-tralics-id="uid944" data-number="7.34">
<div class="heading">
<span class="number">Listing 7.34:</span> 

<span class="description">A template for a test of the flash.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">test/integration/users_signup_test.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">'test_helper'</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="nb">test</span> <span class="s2">"valid signup information"</span> <span class="k">do</span>
    <span class="n">get</span> <span class="n">signup_path</span>
    <span class="n">assert_difference</span> <span class="s1">'User.count'</span><span class="p">,</span> <span class="mi">1</span> <span class="k">do</span>
      <span class="n">post</span> <span class="n">users_path</span><span class="p">,</span> <span class="ss">params</span><span class="p">:</span> <span class="p">{</span> <span class="ss">user</span><span class="p">:</span> <span class="p">{</span> <span class="nb">name</span><span class="p">:</span>  <span class="s2">"Example User"</span><span class="p">,</span>
                                         <span class="ss">email</span><span class="p">:</span> <span class="s2">"user@example.com"</span><span class="p">,</span>
                                         <span class="ss">password</span><span class="p">:</span>              <span class="s2">"password"</span><span class="p">,</span>
                                         <span class="ss">password_confirmation</span><span class="p">:</span> <span class="s2">"password"</span> <span class="p">}</span> <span class="p">}</span>
    <span class="k">end</span>
    <span class="n">follow_redirect!</span>
    <span class="n">assert_template</span> <span class="s1">'users/show'</span>
<span class="hll">    <span class="n">assert_not</span> <span class="n">flash</span><span class="o">.</span><span class="n">FILL_IN</span>
</span>  <span class="k">end</span>
<span class="k">end</span>
</pre></div></div>
</div>
<div class="codelisting" id="code-layout_flash_content_tag" data-tralics-id="uid945" data-number="7.35">
<div class="heading">
<span class="number">Listing 7.35:</span> 

<span class="description">The <code>flash</code> ERb in the site layout using <code>content_tag</code>.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">app/views/layouts/application.html.erb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
      .
      .
      .
      <span class="cp">&lt;%</span> <span class="n">flash</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">message_type</span><span class="p">,</span> <span class="n">message</span><span class="o">|</span> <span class="cp">%&gt;</span>
<span class="hll">        <span class="cp">&lt;%=</span> <span class="n">content_tag</span><span class="p">(</span><span class="ss">:div</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s2">"alert alert-</span><span class="si">#{</span><span class="n">message_type</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span> <span class="cp">%&gt;</span>
</span>      <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
      .
      .
      .
<span class="nt">&lt;/html&gt;</span>
</pre></div></div>
</div>
</div>
</div></div></div></div>
<div class="j_sectionContent" data-html="&lt;div id=&quot;sec-professional_grade_deployment&quot; data-tralics-id=&quot;cid42&quot; class=&quot;section&quot; data-number=&quot;7.5&quot;&gt;
&lt;h2&gt;&lt;a href=&quot;sign_up_fragment.html#sec-professional_grade_deployment&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.5 &lt;/span&gt;Professional-grade deployment&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Now that we have a working signup page, it’s time to deploy our application and get it working in production.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Although we started deploying our application in &lt;a href=&quot;static_pages_fragment.html#cha-static_pages&quot; class=&quot;hyperref&quot;&gt;Chapter &lt;span class=&quot;ref&quot;&gt;3&lt;/span&gt;&lt;/a&gt;, this is the first time it will actually &lt;em&gt;do&lt;/em&gt; something, so we’ll take this opportunity to make the deployment professional-grade.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In particular, we’ll add an important feature to the production application to make signup secure, we’ll replace the default webserver with one suitable for real-world use, and we’ll add some configuration for our production database.&lt;/p&gt;
&lt;p&gt;As preparation for the deployment, you should merge your changes into the &lt;code&gt;master&lt;/code&gt; branch at this point:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt; git add -A
&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt; git commit -m &lt;span class=&quot;s2&quot;&gt;&quot;Finish user signup&quot;&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt; git checkout master
&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt; git merge sign-up
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;



&lt;/div&gt;"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-professional_grade_deployment" data-tralics-id="cid42" class="section" data-number="7.5">
<h2><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-professional_grade_deployment" class="heading hyperref"><span class="number">7.5 </span>Professional-grade deployment</a></h2>
<p>Now that we have a working signup page, it’s time to deploy our application and get it working in production.<span class="intersentencespace"></span> Although we started deploying our application in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#cha-static_pages" class="hyperref">Chapter&nbsp;<span class="ref">3</span></a>, this is the first time it will actually <em>do</em> something, so we’ll take this opportunity to make the deployment professional-grade.<span class="intersentencespace"></span> In particular, we’ll add an important feature to the production application to make signup secure, we’ll replace the default webserver with one suitable for real-world use, and we’ll add some configuration for our production database.</p>
<p>As preparation for the deployment, you should merge your changes into the <code>master</code> branch at this point:</p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> git add -A
<span class="gp">$</span> git commit -m <span class="s2">"Finish user signup"</span>
<span class="gp">$</span> git checkout master
<span class="gp">$</span> git merge sign-up
</pre></div></div>



</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-ssl_in_production&quot; data-tralics-id=&quot;uid946&quot; class=&quot;subsection&quot; data-number=&quot;7.5.1&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-ssl_in_production&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.5.1 &lt;/span&gt;SSL in production&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;When submitting the signup form developed in this chapter, the name, email address, and password get sent over the network, and hence are vulnerable to being intercepted by malicious users.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This is a potentially serious security flaw in our application, and the way to fix it is to use &lt;a href=&quot;https://en.wikipedia.org/wiki/Transport_Layer_Security&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Secure Sockets Layer (SSL)&lt;/a&gt;&lt;sup id=&quot;cha-7_footnote-ref-12&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-12&quot;&gt;12&lt;/a&gt;&lt;/sup&gt; to encrypt all relevant information before it leaves the local browser.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Although we could use SSL on just the signup page, it’s actually easier to implement it site-wide, which has the additional benefits of securing user login (&lt;a href=&quot;basic_login_fragment.html#cha-basic_login&quot; class=&quot;hyperref&quot;&gt;Chapter &lt;span class=&quot;ref&quot;&gt;8&lt;/span&gt;&lt;/a&gt;) and making our application immune to the critical &lt;em&gt;session hijacking&lt;/em&gt; vulnerability discussed in &lt;a href=&quot;advanced_login_fragment.html#sec-remember_me&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;9.1&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Although Heroku uses SSL by default, it doesn’t &lt;em&gt;force&lt;/em&gt; browsers to use it, so any users hitting our application using regular http will be interacting insecurely with the site.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (You can see how this works by editing the URL in the address bar to changes “https” to “http”.)&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Luckily, forcing browsers to use SSL is as easy as uncommenting a single line in &lt;code&gt;production.rb&lt;/code&gt;, the configuration file for production applications.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; As shown in &lt;a href=&quot;sign_up_fragment.html#code-ssl_in_production&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.36&lt;/span&gt;&lt;/a&gt;, all we need to do is set &lt;code&gt;config.force_ssl&lt;/code&gt; to &lt;code&gt;true&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-ssl_in_production&quot; data-tralics-id=&quot;uid948&quot; data-number=&quot;7.36&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.36:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Configuring the application to use SSL in production.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;config/environments/production.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;no&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;configure&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# Force all access to the app over SSL, use Strict-Transport-Security,&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# and use secure cookies.&lt;/span&gt;
&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;force_ssl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;At this stage, we need to set up SSL on the remote server.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Setting up a production site to use SSL involves purchasing and configuring an &lt;em&gt;SSL certificate&lt;/em&gt; for your domain.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; That’s a lot of work, though, and luckily we won’t need it here: for an application running on a Heroku domain (such as the sample application), we can piggyback on Heroku’s SSL certificate.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; As a result, when we deploy the application in &lt;a href=&quot;sign_up_fragment.html#sec-production_webserver&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;7.5.2&lt;/span&gt;&lt;/a&gt;, SSL will automatically be enabled.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; (If you want to run SSL on a custom domain, such as www.example.com, refer to &lt;a href=&quot;http://devcenter.heroku.com/articles/ssl&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Heroku’s documentation on SSL&lt;/a&gt;.)&lt;/p&gt;
&lt;/div&gt;" data-sub-section-id="190"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-ssl_in_production" data-tralics-id="uid946" class="subsection" data-number="7.5.1">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-ssl_in_production" class="heading hyperref"><span class="number">7.5.1 </span>SSL in production</a></h3>
<p>When submitting the signup form developed in this chapter, the name, email address, and password get sent over the network, and hence are vulnerable to being intercepted by malicious users.<span class="intersentencespace"></span> This is a potentially serious security flaw in our application, and the way to fix it is to use <a href="https://en.wikipedia.org/wiki/Transport_Layer_Security" target="_blank" rel="noopener">Secure Sockets Layer (SSL)</a><sup id="cha-7_footnote-ref-12" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-12" data-hasqtip="18">12</a></sup> to encrypt all relevant information before it leaves the local browser.<span class="intersentencespace"></span> Although we could use SSL on just the signup page, it’s actually easier to implement it site-wide, which has the additional benefits of securing user login (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#cha-basic_login" class="hyperref">Chapter&nbsp;<span class="ref">8</span></a>) and making our application immune to the critical <em>session hijacking</em> vulnerability discussed in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login#sec-remember_me" class="hyperref">Section&nbsp;<span class="ref">9.1</span></a>.</p>
<p>Although Heroku uses SSL by default, it doesn’t <em>force</em> browsers to use it, so any users hitting our application using regular http will be interacting insecurely with the site.<span class="intersentencespace"></span> (You can see how this works by editing the URL in the address bar to changes “https” to “http”.)<span class="intersentencespace"></span> Luckily, forcing browsers to use SSL is as easy as uncommenting a single line in <code>production.rb</code>, the configuration file for production applications.<span class="intersentencespace"></span> As shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-ssl_in_production" class="hyperref">Listing&nbsp;<span class="ref">7.36</span></a>, all we need to do is set <code>config.force_ssl</code> to <code>true</code>.</p>
<div class="codelisting" id="code-ssl_in_production" data-tralics-id="uid948" data-number="7.36">
<div class="heading">
<span class="number">Listing 7.36:</span> 

<span class="description">Configuring the application to use SSL in production.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">config/environments/production.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="no">Rails</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">configure</span> <span class="k">do</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="c1"># Force all access to the app over SSL, use Strict-Transport-Security,</span>
  <span class="c1"># and use secure cookies.</span>
<span class="hll">  <span class="n">config</span><span class="o">.</span><span class="n">force_ssl</span> <span class="o">=</span> <span class="kp">true</span>
</span>  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div></div>
</div>
<p>At this stage, we need to set up SSL on the remote server.<span class="intersentencespace"></span> Setting up a production site to use SSL involves purchasing and configuring an <em>SSL certificate</em> for your domain.<span class="intersentencespace"></span> That’s a lot of work, though, and luckily we won’t need it here: for an application running on a Heroku domain (such as the sample application), we can piggyback on Heroku’s SSL certificate.<span class="intersentencespace"></span> As a result, when we deploy the application in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-production_webserver" class="hyperref">Section&nbsp;<span class="ref">7.5.2</span></a>, SSL will automatically be enabled.<span class="intersentencespace"></span> (If you want to run SSL on a custom domain, such as www.example.com, refer to <a href="http://devcenter.heroku.com/articles/ssl" target="_blank" rel="noopener">Heroku’s documentation on SSL</a>.)</p>
</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-production_webserver&quot; data-tralics-id=&quot;uid949&quot; class=&quot;subsection&quot; data-number=&quot;7.5.2&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-production_webserver&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.5.2 &lt;/span&gt;Production webserver&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Having added SSL, we now need to configure our application to use a webserver suitable for production applications.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; By default, Heroku uses a pure-Ruby webserver called WEBrick, which is easy to set up and run but isn’t good at handling significant traffic.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; As a result, WEBrick &lt;a href=&quot;https://devcenter.heroku.com/articles/ruby-default-web-server&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;isn’t suitable for production use&lt;/a&gt;, so we’ll &lt;a href=&quot;https://devcenter.heroku.com/articles/deploying-rails-applications-with-the-puma-web-server&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;replace WEBrick with Puma&lt;/a&gt;, an HTTP server that is capable of handling a large number of incoming requests.&lt;/p&gt;
&lt;p&gt;To add the new webserver, we simply follow the &lt;a href=&quot;https://devcenter.heroku.com/articles/deploying-rails-applications-with-the-puma-web-server&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Heroku Puma documentation&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The first step is to include the &lt;code class=&quot;tt&quot;&gt;puma&lt;/code&gt; gem in our &lt;code&gt;Gemfile&lt;/code&gt;, but as of Rails 5 Puma is included by default (&lt;a href=&quot;static_pages_fragment.html#code-gemfile_sample_app&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;3.2&lt;/span&gt;&lt;/a&gt;).&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; This means we can skip right to the second step, which is to replace the default contents of the file &lt;code&gt;config/puma.rb&lt;/code&gt; with the configuration shown in &lt;a href=&quot;sign_up_fragment.html#code-production_webserver_config&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.37&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The code in &lt;a href=&quot;sign_up_fragment.html#code-production_webserver_config&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.37&lt;/span&gt;&lt;/a&gt; comes straight from the &lt;a href=&quot;https://devcenter.heroku.com/articles/deploying-rails-applications-with-the-puma-web-server&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Heroku documentation&lt;/a&gt;,&lt;sup id=&quot;cha-7_footnote-ref-13&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-13&quot;&gt;13&lt;/a&gt;&lt;/sup&gt; and there is no need to understand it (&lt;a href=&quot;beginning_fragment.html#aside-technical_sophistication&quot; class=&quot;hyperref&quot;&gt;Box &lt;span class=&quot;ref&quot;&gt;1.1&lt;/span&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-production_webserver_config&quot; data-tralics-id=&quot;uid951&quot; data-number=&quot;7.37&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.37:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;The configuration file for the production webserver.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;config/puma.rb&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;workers&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ENV&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;WEB_CONCURRENCY&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;threads_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ENV&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;RAILS_MAX_THREADS&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threads_count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threads_count&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;preload_app!&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;rackup&lt;/span&gt;      &lt;span class=&quot;no&quot;&gt;DefaultRackup&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;        &lt;span class=&quot;no&quot;&gt;ENV&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;PORT&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3000&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;environment&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ENV&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;RACK_ENV&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;development&#39;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;on_worker_boot&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# Worker specific setup for Rails 4.1+&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# See: https://devcenter.heroku.com/articles/&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# deploying-rails-applications-with-the-puma-web-server#on-worker-boot&lt;/span&gt;
  &lt;span class=&quot;no&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Base&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;establish_connection&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;We also need to make a so-called &lt;code&gt;Procfile&lt;/code&gt; to tell Heroku to run a Puma process in production, as shown in &lt;a href=&quot;sign_up_fragment.html#code-procfile&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.38&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The &lt;code&gt;Procfile&lt;/code&gt; should be created in your application’s root directory (i.e., in the same location as the &lt;code&gt;Gemfile&lt;/code&gt;).&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-procfile&quot; data-tralics-id=&quot;uid952&quot; data-number=&quot;7.38&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.38:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Defining a &lt;code&gt;Procfile&lt;/code&gt; for Puma.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;./Procfile&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;web: bundle &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;puma -C config/puma.rb
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="191"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-production_webserver" data-tralics-id="uid949" class="subsection" data-number="7.5.2">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-production_webserver" class="heading hyperref"><span class="number">7.5.2 </span>Production webserver</a></h3>
<p>Having added SSL, we now need to configure our application to use a webserver suitable for production applications.<span class="intersentencespace"></span> By default, Heroku uses a pure-Ruby webserver called WEBrick, which is easy to set up and run but isn’t good at handling significant traffic.<span class="intersentencespace"></span> As a result, WEBrick <a href="https://devcenter.heroku.com/articles/ruby-default-web-server" target="_blank" rel="noopener">isn’t suitable for production use</a>, so we’ll <a href="https://devcenter.heroku.com/articles/deploying-rails-applications-with-the-puma-web-server" target="_blank" rel="noopener">replace WEBrick with Puma</a>, an HTTP server that is capable of handling a large number of incoming requests.</p>
<p>To add the new webserver, we simply follow the <a href="https://devcenter.heroku.com/articles/deploying-rails-applications-with-the-puma-web-server" target="_blank" rel="noopener">Heroku Puma documentation</a>.<span class="intersentencespace"></span> The first step is to include the <code class="tt">puma</code> gem in our <code>Gemfile</code>, but as of Rails&nbsp;5 Puma is included by default (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/static_pages#code-gemfile_sample_app" class="hyperref">Listing&nbsp;<span class="ref">3.2</span></a>).<span class="intersentencespace"></span> This means we can skip right to the second step, which is to replace the default contents of the file <code>config/puma.rb</code> with the configuration shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-production_webserver_config" class="hyperref">Listing&nbsp;<span class="ref">7.37</span></a>.<span class="intersentencespace"></span> The code in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-production_webserver_config" class="hyperref">Listing&nbsp;<span class="ref">7.37</span></a> comes straight from the <a href="https://devcenter.heroku.com/articles/deploying-rails-applications-with-the-puma-web-server" target="_blank" rel="noopener">Heroku documentation</a>,<sup id="cha-7_footnote-ref-13" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-13" data-hasqtip="19">13</a></sup> and there is no need to understand it (<a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/beginning#aside-technical_sophistication" class="hyperref">Box&nbsp;<span class="ref">1.1</span></a>).</p>
<div class="codelisting" id="code-production_webserver_config" data-tralics-id="uid951" data-number="7.37">
<div class="heading">
<span class="number">Listing 7.37:</span> 

<span class="description">The configuration file for the production webserver.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">config/puma.rb</code></span>
</div>

<div class="code"><div class="highlight"><pre><span class="n">workers</span> <span class="nb">Integer</span><span class="p">(</span><span class="no">ENV</span><span class="o">[</span><span class="s1">'WEB_CONCURRENCY'</span><span class="o">]</span> <span class="o">||</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">threads_count</span> <span class="o">=</span> <span class="nb">Integer</span><span class="p">(</span><span class="no">ENV</span><span class="o">[</span><span class="s1">'RAILS_MAX_THREADS'</span><span class="o">]</span> <span class="o">||</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">threads</span> <span class="n">threads_count</span><span class="p">,</span> <span class="n">threads_count</span>

<span class="n">preload_app!</span>

<span class="n">rackup</span>      <span class="no">DefaultRackup</span>
<span class="n">port</span>        <span class="no">ENV</span><span class="o">[</span><span class="s1">'PORT'</span><span class="o">]</span>     <span class="o">||</span> <span class="mi">3000</span>
<span class="n">environment</span> <span class="no">ENV</span><span class="o">[</span><span class="s1">'RACK_ENV'</span><span class="o">]</span> <span class="o">||</span> <span class="s1">'development'</span>

<span class="n">on_worker_boot</span> <span class="k">do</span>
  <span class="c1"># Worker specific setup for Rails 4.1+</span>
  <span class="c1"># See: https://devcenter.heroku.com/articles/</span>
  <span class="c1"># deploying-rails-applications-with-the-puma-web-server#on-worker-boot</span>
  <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span><span class="o">.</span><span class="n">establish_connection</span>
<span class="k">end</span>
</pre></div></div>
</div>
<p>We also need to make a so-called <code>Procfile</code> to tell Heroku to run a Puma process in production, as shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-procfile" class="hyperref">Listing&nbsp;<span class="ref">7.38</span></a>.<span class="intersentencespace"></span> The <code>Procfile</code> should be created in your application’s root directory (i.e., in the same location as the <code>Gemfile</code>).</p>
<div class="codelisting" id="code-procfile" data-tralics-id="uid952" data-number="7.38">
<div class="heading">
<span class="number">Listing 7.38:</span> 

<span class="description">Defining a <code>Procfile</code> for Puma.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">./Procfile</code></span>
</div>

<div class="code"><div class="highlight"><pre>web: bundle <span class="nb">exec </span>puma -C config/puma.rb
</pre></div></div>
</div>
</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-production_database_configuration&quot; data-tralics-id=&quot;uid953&quot; class=&quot;subsection&quot; data-number=&quot;7.5.3&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-production_database_configuration&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.5.3 &lt;/span&gt;Production database configuration&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The final step in our production deployment is properly configuring the production database, which (as mentioned briefly in &lt;a href=&quot;toy_app_fragment.html#sec-deploying_the_toy_app&quot; class=&quot;hyperref&quot;&gt;Section &lt;span class=&quot;ref&quot;&gt;2.3.5&lt;/span&gt;&lt;/a&gt;) is &lt;a href=&quot;https://www.postgresql.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;PostgreSQL&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; My testing indicates that PostgreSQL actually works on Heroku without any configuration, but the &lt;a href=&quot;https://devcenter.heroku.com/articles/getting-started-with-rails5&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;official Heroku documentation&lt;/a&gt; recommends explicit configuration nonetheless, so we’ll err on the side of caution and include it.&lt;/p&gt;
&lt;p&gt;The actual change is easy: all we have to do is update the &lt;code&gt;production&lt;/code&gt; section of the database configuration file, &lt;code&gt;config/database.yml&lt;/code&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The result, which I adapted from the Heroku docs, is shown in &lt;a href=&quot;sign_up_fragment.html#code-database_yml&quot; class=&quot;hyperref&quot;&gt;Listing &lt;span class=&quot;ref&quot;&gt;7.39&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;codelisting&quot; id=&quot;code-database_yml&quot; data-tralics-id=&quot;uid954&quot; data-number=&quot;7.39&quot;&gt;
&lt;div class=&quot;heading&quot;&gt;
&lt;span class=&quot;number&quot;&gt;Listing 7.39:&lt;/span&gt; 

&lt;span class=&quot;description&quot;&gt;Configuring the database for production.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; &lt;span class=&quot;break&quot;&gt;&lt;/span&gt; &lt;code class=&quot;filepath&quot;&gt;config/database.yml&lt;/code&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# SQLite version 3.x&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#   gem install sqlite3&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#   Ensure the SQLite 3 gem is defined in your Gemfile&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#   gem &#39;sqlite3&#39;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;&amp;amp;default&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;sqlite3&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;pool&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;5&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;5000&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;development&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;*default&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;database&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;db/development.sqlite3&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Warning: The database defined as &quot;test&quot; will be erased and&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# re-generated from your development database when you run &quot;rake&quot;.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Do not set this db to the same as development or production.&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;*default&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;database&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;db/test.sqlite3&lt;/span&gt;

&lt;span class=&quot;hll&quot;&gt;&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;production&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;*default&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;database&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;sample_app_production&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;sample_app&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;hll&quot;&gt;  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;&amp;lt;%= ENV[&#39;SAMPLE_APP_DATABASE_PASSWORD&#39;] %&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="1318"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-production_database_configuration" data-tralics-id="uid953" class="subsection" data-number="7.5.3">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-production_database_configuration" class="heading hyperref"><span class="number">7.5.3 </span>Production database configuration</a></h3>
<p>The final step in our production deployment is properly configuring the production database, which (as mentioned briefly in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/toy_app#sec-deploying_the_toy_app" class="hyperref">Section&nbsp;<span class="ref">2.3.5</span></a>) is <a href="https://www.postgresql.org/" target="_blank" rel="noopener">PostgreSQL</a>.<span class="intersentencespace"></span> My testing indicates that PostgreSQL actually works on Heroku without any configuration, but the <a href="https://devcenter.heroku.com/articles/getting-started-with-rails5" target="_blank" rel="noopener">official Heroku documentation</a> recommends explicit configuration nonetheless, so we’ll err on the side of caution and include it.</p>
<p>The actual change is easy: all we have to do is update the <code>production</code> section of the database configuration file, <code>config/database.yml</code>.<span class="intersentencespace"></span> The result, which I adapted from the Heroku docs, is shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#code-database_yml" class="hyperref">Listing&nbsp;<span class="ref">7.39</span></a>.</p>
<div class="codelisting" id="code-database_yml" data-tralics-id="uid954" data-number="7.39">
<div class="heading">
<span class="number">Listing 7.39:</span> 

<span class="description">Configuring the database for production.<span class="intersentencespace"></span> <span class="break"></span> <code class="filepath">config/database.yml</code></span>
</div>

<div class="code"><div class="highlight"><pre><span></span><span class="c1"># SQLite version 3.x</span>
<span class="c1">#   gem install sqlite3</span>
<span class="c1">#</span>
<span class="c1">#   Ensure the SQLite 3 gem is defined in your Gemfile</span>
<span class="c1">#   gem 'sqlite3'</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="nl">&amp;default</span>
  <span class="l l-Scalar l-Scalar-Plain">adapter</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">sqlite3</span>
  <span class="l l-Scalar l-Scalar-Plain">pool</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
  <span class="l l-Scalar l-Scalar-Plain">timeout</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">5000</span>

<span class="l l-Scalar l-Scalar-Plain">development</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">&lt;&lt;</span><span class="p p-Indicator">:</span> <span class="nv">*default</span>
  <span class="l l-Scalar l-Scalar-Plain">database</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">db/development.sqlite3</span>

<span class="c1"># Warning: The database defined as "test" will be erased and</span>
<span class="c1"># re-generated from your development database when you run "rake".</span>
<span class="c1"># Do not set this db to the same as development or production.</span>
<span class="l l-Scalar l-Scalar-Plain">test</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">&lt;&lt;</span><span class="p p-Indicator">:</span> <span class="nv">*default</span>
  <span class="l l-Scalar l-Scalar-Plain">database</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">db/test.sqlite3</span>

<span class="hll"><span class="l l-Scalar l-Scalar-Plain">production</span><span class="p p-Indicator">:</span>
</span><span class="hll">  <span class="l l-Scalar l-Scalar-Plain">&lt;&lt;</span><span class="p p-Indicator">:</span> <span class="nv">*default</span>
</span><span class="hll">  <span class="l l-Scalar l-Scalar-Plain">database</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">sample_app_production</span>
</span><span class="hll">  <span class="l l-Scalar l-Scalar-Plain">username</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">sample_app</span>
</span><span class="hll">  <span class="l l-Scalar l-Scalar-Plain">password</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;%= ENV['SAMPLE_APP_DATABASE_PASSWORD'] %&gt;</span>
</span></pre></div></div>
</div>
</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-production_deployment&quot; data-tralics-id=&quot;uid955&quot; class=&quot;subsection&quot; data-number=&quot;7.5.4&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-production_deployment&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.5.4 &lt;/span&gt;Production deployment&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;With the production webserver and database configuration completed, we’re ready to commit and deploy:&lt;sup id=&quot;cha-7_footnote-ref-14&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-14&quot;&gt;14&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;$ rails test
$ git add -A
$ git commit -m &quot;Use SSL and the Puma webserver in production&quot;
$ git push
$ git push heroku
$ heroku run rails db:migrate
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The signup form is now live, and the result of a successful signup is shown in &lt;a href=&quot;sign_up_fragment.html#fig-signup_in_production&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.25&lt;/span&gt;&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Note the presence of &lt;code class=&quot;tt&quot;&gt;https://&lt;/code&gt; and a lock icon in the address bar of &lt;a href=&quot;sign_up_fragment.html#fig-signup_in_production&quot; class=&quot;hyperref&quot;&gt;Figure &lt;span class=&quot;ref&quot;&gt;7.25&lt;/span&gt;&lt;/a&gt;, which indicate that SSL is working.&lt;/p&gt;
&lt;div class=&quot;center figure&quot; id=&quot;fig-signup_in_production&quot; data-tralics-id=&quot;uid957&quot; data-number=&quot;7.25&quot;&gt;
&lt;div class=&quot;graphics image&quot;&gt;&lt;img src=&quot;images/figures/signup_in_production_4th_edition.png&quot; alt=&quot;images/figures/signup_in_production_4th_edition&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;caption&quot;&gt;
&lt;span class=&quot;header&quot;&gt;Figure 7.25: &lt;/span&gt;&lt;span class=&quot;description&quot;&gt;Signing up on the live Web.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;sec-ruby_version_number&quot; data-tralics-id=&quot;uid958&quot; class=&quot;subsubsection&quot; data-number=&quot;7.5.4.1&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-ruby_version_number&quot; class=&quot;heading&quot;&gt;Ruby version number&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;When deploying to Heroku, you may get a warning message like this one:&lt;/p&gt;
&lt;div class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;###### WARNING:
       You have not declared a Ruby version in your Gemfile.
       To set your Ruby version add this line to your Gemfile:
       ruby &#39;2.1.5&#39;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Experience shows that, at the level of this tutorial, the costs associated with including such an explicit Ruby version number outweigh the (negligible) benefits, so you should ignore this warning for now.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; The main issue is that keeping your sample app and system in sync with the latest Ruby version can be a huge inconvenience,&lt;sup id=&quot;cha-7_footnote-ref-15&quot; class=&quot;footnote&quot;&gt;&lt;a href=&quot;#cha-7_footnote-15&quot;&gt;15&lt;/a&gt;&lt;/sup&gt; and yet it almost never makes a difference which exact Ruby version number you use.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Nevertheless, you should bear in mind that, should you ever end up running a mission-critical app on Heroku, specifying an exact Ruby version in the &lt;code&gt;Gemfile&lt;/code&gt; is recommended to ensure maximum compatibility between development and production environments.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;sec-exercises_puma_in_production&quot; data-tralics-id=&quot;uid960&quot; class=&quot;subsubsection&quot; data-number=&quot;7.5.4.2&quot;&gt;
&lt;h4&gt;&lt;a href=&quot;#sec-exercises_puma_in_production&quot; class=&quot;heading&quot;&gt;Exercises&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;society-note&quot;&gt;
&lt;p&gt;Solutions to exercises are available for free with any Rails Tutorial &lt;a href=&quot;https://www.railstutorial.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;purchase&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; To see other people’s answers and to record your own, join the &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Learn Enough Society&lt;/a&gt; at &lt;a href=&quot;http://learnenough.com/society&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;learnenough.com/society&lt;/a&gt;.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt;  &lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Confirm on your browser that the SSL lock and &lt;code&gt;https&lt;/code&gt; appear. &lt;span class=&quot;exercise&quot; id=&quot;ex-00415c&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;Create a user on the production site using your primary email address.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Does your Gravatar appear correctly? &lt;span class=&quot;exercise&quot; id=&quot;ex-cbc029&quot;&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;" data-sub-section-id="194"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-production_deployment" data-tralics-id="uid955" class="subsection" data-number="7.5.4">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-production_deployment" class="heading hyperref"><span class="number">7.5.4 </span>Production deployment</a></h3>
<p>With the production webserver and database configuration completed, we’re ready to commit and deploy:<sup id="cha-7_footnote-ref-14" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-14" data-hasqtip="20">14</a></sup></p>
<div class="code"><div class="highlight"><pre>$ rails test
$ git add -A
$ git commit -m "Use SSL and the Puma webserver in production"
$ git push
$ git push heroku
$ heroku run rails db:migrate
</pre></div></div>
<p>The signup form is now live, and the result of a successful signup is shown in <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_in_production" class="hyperref">Figure&nbsp;<span class="ref">7.25</span></a>.<span class="intersentencespace"></span> Note the presence of <code class="tt">https://</code> and a lock icon in the address bar of <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#fig-signup_in_production" class="hyperref">Figure&nbsp;<span class="ref">7.25</span></a>, which indicate that SSL is working.</p>
<div class="center figure" id="fig-signup_in_production" data-tralics-id="uid957" data-number="7.25">
<div class="graphics image"><img src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/signup_in_production_4th_edition.png" alt="images/figures/signup_in_production_4th_edition"></div>
<div class="caption">
<span class="header">Figure 7.25: </span><span class="description">Signing up on the live Web.
</span>
</div>
</div>
<div id="sec-ruby_version_number" data-tralics-id="uid958" class="subsubsection" data-number="7.5.4.1">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-ruby_version_number" class="heading">Ruby version number</a></h4>
<p>When deploying to Heroku, you may get a warning message like this one:</p>
<div class="code"><div class="highlight"><pre>###### WARNING:
       You have not declared a Ruby version in your Gemfile.
       To set your Ruby version add this line to your Gemfile:
       ruby '2.1.5'
</pre></div></div>
<p>Experience shows that, at the level of this tutorial, the costs associated with including such an explicit Ruby version number outweigh the (negligible) benefits, so you should ignore this warning for now.<span class="intersentencespace"></span> The main issue is that keeping your sample app and system in sync with the latest Ruby version can be a huge inconvenience,<sup id="cha-7_footnote-ref-15" class="footnote"><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#cha-7_footnote-15" data-hasqtip="21">15</a></sup> and yet it almost never makes a difference which exact Ruby version number you use.<span class="intersentencespace"></span> Nevertheless, you should bear in mind that, should you ever end up running a mission-critical app on Heroku, specifying an exact Ruby version in the <code>Gemfile</code> is recommended to ensure maximum compatibility between development and production environments.</p>
</div>
<div id="sec-exercises_puma_in_production" data-tralics-id="uid960" class="subsubsection" data-number="7.5.4.2">
<h4><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-exercises_puma_in_production" class="heading">Exercises</a></h4>
<p> </p>
<div class="society-note">
<p>Solutions to exercises are available for free with any Rails Tutorial <a href="https://www.railstutorial.org/" target="_blank" rel="noopener">purchase</a>.<span class="intersentencespace"></span> To see other people’s answers and to record your own, join the <a href="http://learnenough.com/society" target="_blank" rel="noopener">Learn Enough Society</a> at <a href="http://learnenough.com/society" target="_blank" rel="noopener">learnenough.com/society</a>.<span class="intersentencespace"></span>  </p>
</div>
<ol>
<li>Confirm on your browser that the SSL lock and <code>https</code> appear. <span class="exercise" id="ex-00415c"></span>
</li>
<li>Create a user on the production site using your primary email address.<span class="intersentencespace"></span> Does your Gravatar appear correctly? <span class="exercise" id="ex-cbc029"></span>
</li>
</ol>
</div>
</div></div></div></div>
<div class="j_sectionContent" data-html="&lt;div id=&quot;sec-sign_up_conclusion&quot; data-tralics-id=&quot;cid43&quot; class=&quot;section&quot; data-number=&quot;7.6&quot;&gt;
&lt;h2&gt;&lt;a href=&quot;sign_up_fragment.html#sec-sign_up_conclusion&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.6 &lt;/span&gt;Conclusion&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Being able to sign up users is a major milestone for our application.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; Although the sample app has yet to accomplish anything useful, we have laid an essential foundation for all future development.&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In &lt;a href=&quot;basic_login_fragment.html#cha-basic_login&quot; class=&quot;hyperref&quot;&gt;Chapter &lt;span class=&quot;ref&quot;&gt;8&lt;/span&gt;&lt;/a&gt; and &lt;a href=&quot;advanced_login_fragment.html#cha-advanced_login&quot; class=&quot;hyperref&quot;&gt;Chapter &lt;span class=&quot;ref&quot;&gt;9&lt;/span&gt;&lt;/a&gt;, we will complete our authentication machinery by allowing users to log in and out of the application (with optional “remember me” functionality).&lt;span class=&quot;intersentencespace&quot;&gt;&lt;/span&gt; In &lt;a href=&quot;updating_and_deleting_users_fragment.html#cha-updating_showing_and_deleting_users&quot; class=&quot;hyperref&quot;&gt;Chapter &lt;span class=&quot;ref&quot;&gt;10&lt;/span&gt;&lt;/a&gt;, we will allow all users to update their account information, and we will allow site administrators to delete users, thereby completing the full suite of Users resource REST actions from &lt;a href=&quot;sign_up_fragment.html#table-RESTful_users&quot; class=&quot;hyperref&quot;&gt;Table &lt;span class=&quot;ref&quot;&gt;7.1&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-sign_up_conclusion" data-tralics-id="cid43" class="section" data-number="7.6">
<h2><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-sign_up_conclusion" class="heading hyperref"><span class="number">7.6 </span>Conclusion</a></h2>
<p>Being able to sign up users is a major milestone for our application.<span class="intersentencespace"></span> Although the sample app has yet to accomplish anything useful, we have laid an essential foundation for all future development.<span class="intersentencespace"></span> In <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/basic_login#cha-basic_login" class="hyperref">Chapter&nbsp;<span class="ref">8</span></a> and <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/advanced_login#cha-advanced_login" class="hyperref">Chapter&nbsp;<span class="ref">9</span></a>, we will complete our authentication machinery by allowing users to log in and out of the application (with optional “remember me” functionality).<span class="intersentencespace"></span> In <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/updating_and_deleting_users#cha-updating_showing_and_deleting_users" class="hyperref">Chapter&nbsp;<span class="ref">10</span></a>, we will allow all users to update their account information, and we will allow site administrators to delete users, thereby completing the full suite of Users resource REST actions from <a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#table-RESTful_users" class="hyperref">Table&nbsp;<span class="ref">7.1</span></a>.</p>
</div></div></div></div>
<div class="j_sectionContent combined-sub-section" data-html="&lt;div id=&quot;sec-sign_up_what_we_learned_in_this_chapter&quot; data-tralics-id=&quot;uid963&quot; class=&quot;subsection&quot; data-number=&quot;7.6.1&quot;&gt;
&lt;h3&gt;&lt;a href=&quot;sign_up_fragment.html#sec-sign_up_what_we_learned_in_this_chapter&quot; class=&quot;heading hyperref&quot;&gt;&lt;span class=&quot;number&quot;&gt;7.6.1 &lt;/span&gt;What we learned in this chapter&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Rails displays useful debug information via the &lt;code&gt;debug&lt;/code&gt; method.
&lt;/li&gt;
&lt;li&gt;Sass mixins allow a group of CSS rules to be bundled and reused in multiple places.
&lt;/li&gt;
&lt;li&gt;Rails comes with three standard environments: &lt;code&gt;development&lt;/code&gt;, &lt;code&gt;test&lt;/code&gt;, and &lt;code&gt;production&lt;/code&gt;.
&lt;/li&gt;
&lt;li&gt;We can interact with users as a &lt;em&gt;resource&lt;/em&gt; through a standard set of REST URLs.
&lt;/li&gt;
&lt;li&gt;Gravatars provide a convenient way of displaying images to represent users.
&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;form_for&lt;/code&gt; helper is used to generate forms for interacting with Active Record objects.
&lt;/li&gt;
&lt;li&gt;Signup failure renders the new user page and displays error messages automatically determined by Active Record.
&lt;/li&gt;
&lt;li&gt;Rails provides the &lt;code&gt;flash&lt;/code&gt; as a standard way to display temporary messages.
&lt;/li&gt;
&lt;li&gt;Signup success creates a user in the database and redirects to the user show page, and displays a welcome message.
&lt;/li&gt;
&lt;li&gt;We can use integration tests to verify form submission behavior and catch regressions.
&lt;/li&gt;
&lt;li&gt;We can configure our production application to use SSL for secure communications and Puma for high performance.
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;" data-sub-section-id="193"><div><!--?xml version='1.0' encoding='UTF-8'?--><div class="book"><div id="sec-sign_up_what_we_learned_in_this_chapter" data-tralics-id="uid963" class="subsection" data-number="7.6.1">
<h3><a href="https://www.learnenough.com/ruby-on-rails-4th-edition-tutorial/sign_up#sec-sign_up_what_we_learned_in_this_chapter" class="heading hyperref"><span class="number">7.6.1 </span>What we learned in this chapter</a></h3>
<ul>
<li>Rails displays useful debug information via the <code>debug</code> method.
</li>
<li>Sass mixins allow a group of CSS rules to be bundled and reused in multiple places.
</li>
<li>Rails comes with three standard environments: <code>development</code>, <code>test</code>, and <code>production</code>.
</li>
<li>We can interact with users as a <em>resource</em> through a standard set of REST URLs.
</li>
<li>Gravatars provide a convenient way of displaying images to represent users.
</li>
<li>The <code>form_for</code> helper is used to generate forms for interacting with Active Record objects.
</li>
<li>Signup failure renders the new user page and displays error messages automatically determined by Active Record.
</li>
<li>Rails provides the <code>flash</code> as a standard way to display temporary messages.
</li>
<li>Signup success creates a user in the database and redirects to the user show page, and displays a welcome message.
</li>
<li>We can use integration tests to verify form submission behavior and catch regressions.
</li>
<li>We can configure our production application to use SSL for secure communications and Puma for high performance.
</li>
</ul>
</div></div></div></div>
</div>
</div>
<div id="exerciseAnswerTmpl" style="display:none">
<div class="j_exercise-answer">
<form action="https://www.learnenough.com/" class="j_exercise-answer-form" data-exercise-id="${exercise_id}" method="post">
<textarea name="text" rows="10">${answer_text}</textarea>
<div class="exercise-answer-edit">
<div class="exercise-answer-edit-controls">
<label class="fancyCheckLabel">
Share with other members
{{if make_public}}
<input checked="" id="make_public" name="make_public" type="checkbox">
{{else}}
<input id="make_public" name="make_public" type="checkbox">
{{/if}}
<label></label>
</label>
<a class="j_cancel" href="javascript:void(0)">
<button class="btn-small danger">Cancel</button>
</a>
<input class="btn-small" type="submit" value="save">
</div>
<div class="exercise-answer-edit-help">
Formatting:
<a target="_blank" href="https://help.github.com/articles/basic-writing-and-formatting-syntax/">Basic Help</a>
<a target="_blank" href="https://help.github.com/articles/creating-and-highlighting-code-blocks/">Advanced</a>
</div>
</div>
</form>
<div class="j_exercise-answer-text">
<h5>Your Answer</h5>
<div class="exercise-answer">{{html answer_html}}</div>
<div class="exercise-answer-actions">
{{if make_public}}
<span>PUBLIC</span>
{{/if}}
<a class="j_edit" href="javascript://">
<svg class="svg-inline--fa fa-edit fa-w-18" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="edit" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"></path></svg><!-- <i class="fas fa-edit"></i> -->
Edit Answer
</a>
<a href="https://www.learnenough.com/exercise_answers/$%7Btoken%7D">
<svg class="svg-inline--fa fa-link fa-w-16" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg><!-- <i class="fas fa-link"></i> -->
Link
</a>
</div>
</div>
<div class="exercise-answer-bar">
<a class="exercise-answer-all" href="https://www.learnenough.com/exercise_answers?book_id=216&amp;label=${exercise_id}" id="j_answer_public" style="display:{{if public_count == 0}}none{{/if}}">
<svg class="svg-inline--fa fa-users fa-w-20" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="users" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" data-fa-i2svg=""><path fill="currentColor" d="M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"></path></svg><!-- <i class="fas fa-users"></i> -->
View all &nbsp;(
<span id="j_answer_public_count">${ public_count }</span>
)
</a>
<a class="j_exercise-answer-btn exercise-answer-add" href="javascript://">
<svg class="svg-inline--fa fa-plus fa-w-14" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg><!-- <i class="fas fa-plus"></i> -->
Add Answer
</a>
</div>
</div>
</div>
<script>
  $(function(){
    Book.init({
      title: "Ruby on Rails Tutorial (Rails 5)",
      path: "",
      slug: "ruby-on-rails-4th-edition-tutorial",
      isCourse: true,
      customAnthologyDomain: false,
      singlePage: false,
      splitReadingSections: true,
      chapterPerPage: true,
      combineSubSections: true,
      hasSubscription: false,
      book_id: 216,
      location: {id:2005, type: "Chapter", path: "/ruby-on-rails-4th-edition-tutorial/sign_up"},
      all_exercise_answer_view: false,
      chapter_id: 2005,
      labelLookup: {"sec-prerequisites":"beginning/introduction/prerequisites","sec-exercises_prerequisites":"beginning/introduction/prerequisites","ex-eae88d":"beginning/introduction/prerequisites","ex-2609a2":"beginning/introduction/prerequisites","ex-993750":"beginning/introduction/prerequisites","sec-conventions":"beginning/introduction/conventions","cha-1_footnote-ref-5":"beginning/introduction/conventions","sec-introduction":"beginning/introduction","sec-development_environment":"beginning/up_and_running/development_environment","cha-1_footnote-ref-6":"beginning/up_and_running/development_environment","fig-ide_anatomy":"beginning/up_and_running/development_environment","cha-1_footnote-ref-7":"beginning/up_and_running/development_environment","cha-1_footnote-ref-8":"beginning/up_and_running/development_environment","cha-1_footnote-ref-9":"beginning/up_and_running/development_environment","fig-cloud9_page_aws":"beginning/up_and_running/development_environment","fig-cloud9_new_workspace":"beginning/up_and_running/development_environment","fig-cloud9_ide_aws":"beginning/up_and_running/development_environment","fig-cloud9_two_spaces":"beginning/up_and_running/development_environment","sec-installing_rails":"beginning/up_and_running/installing_rails","cha-1_footnote-ref-10":"beginning/up_and_running/installing_rails","code-installing_rails":"beginning/up_and_running/installing_rails","sec-up_and_running":"beginning/up_and_running","sec-bundler":"beginning/the_hello_application/bundler","cha-1_footnote-ref-12":"beginning/the_hello_application/bundler","fig-cloud9_gemfile":"beginning/the_hello_application/bundler","code-default_gemfile":"beginning/the_hello_application/bundler","cha-1_footnote-ref-13":"beginning/the_hello_application/bundler","code-gemfile_sqlite_version":"beginning/the_hello_application/bundler","cha-1_footnote-ref-14":"beginning/the_hello_application/bundler","sec-rails_server":"beginning/the_hello_application/rails_server","code-local_server":"beginning/the_hello_application/rails_server","cha-1_footnote-ref-15":"beginning/the_hello_application/rails_server","fig-new_terminal_tab":"beginning/the_hello_application/rails_server","fig-rails_server_new_tab":"beginning/the_hello_application/rails_server","fig-share_workspace":"beginning/the_hello_application/rails_server","fig-full_browser_window_aws":"beginning/the_hello_application/rails_server","fig-riding_rails":"beginning/the_hello_application/rails_server","sec-exercises_rails_server":"beginning/the_hello_application/rails_server","ex-0b5e80":"beginning/the_hello_application/rails_server","ex-3be2f0":"beginning/the_hello_application/rails_server","sec-mvc":"beginning/the_hello_application/mvc","fig-MVC":"beginning/the_hello_application/mvc","sec-hello_world":"beginning/the_hello_application/hello_world","code-hello_action":"beginning/the_hello_application/hello_world","code-default_root_route":"beginning/the_hello_application/hello_world","code-hello_root_route":"beginning/the_hello_application/hello_world","cha-1_footnote-ref-16":"beginning/the_hello_application/hello_world","fig-hello_world_hello_app":"beginning/the_hello_application/hello_world","sec-exercises_hello_world":"beginning/the_hello_application/hello_world","ex-4587e4":"beginning/the_hello_application/hello_world","cha-1_footnote-ref-17":"beginning/the_hello_application/hello_world","ex-519a95":"beginning/the_hello_application/hello_world","ex-ce3907":"beginning/the_hello_application/hello_world","fig-hola_mundo":"beginning/the_hello_application/hello_world","fig-goodbye_world":"beginning/the_hello_application/hello_world","sec-the_hello_application":"beginning/the_hello_application","code-mkdir_rails_projects":"beginning/the_hello_application","aside-unix_commands":"beginning/the_hello_application","cha-1_footnote-ref-11":"beginning/the_hello_application","table-unix_commands":"beginning/the_hello_application","code-rails_command":"beginning/the_hello_application","fig-directory_structure_rails":"beginning/the_hello_application","table-rails_directory_structure":"beginning/the_hello_application","sec-git_setup":"beginning/version_control/git_setup","uid93":"beginning/version_control/git_setup","sec-first_time_setup":"beginning/version_control/git_setup","cha-1_footnote-ref-19":"beginning/version_control/git_setup","sec-what_good_does_git_do_you":"beginning/version_control/what_good_does_git_do_you","sec-bitbucket":"beginning/version_control/bitbucket","aside-github_bitbucket":"beginning/version_control/bitbucket","code-cat_public_key":"beginning/version_control/bitbucket","fig-add_public_key":"beginning/version_control/bitbucket","fig-create_first_repository":"beginning/version_control/bitbucket","fig-add_repository":"beginning/version_control/bitbucket","code-bitbucket_add_push":"beginning/version_control/bitbucket","cha-1_footnote-ref-20":"beginning/version_control/bitbucket","fig-bitbucket_repository_page":"beginning/version_control/bitbucket","sec-git_commands":"beginning/version_control/git_commands","cha-1_footnote-ref-21":"beginning/version_control/git_commands","cha-1_footnote-ref-22":"beginning/version_control/git_commands","fig-bitbucket_default_readme":"beginning/version_control/git_commands","sec-git_branch":"beginning/version_control/git_commands","cha-1_footnote-ref-23":"beginning/version_control/git_commands","sec-git_edit":"beginning/version_control/git_commands","code-new_readme":"beginning/version_control/git_commands","sec-git_commit":"beginning/version_control/git_commands","sec-git_merge":"beginning/version_control/git_commands","sec-git_push":"beginning/version_control/git_commands","fig-new_readme":"beginning/version_control/git_commands","sec-version_control":"beginning/version_control","cha-1_footnote-ref-18":"beginning/version_control","sec-heroku_setup":"beginning/deploying/heroku_setup","cha-1_footnote-ref-26":"beginning/deploying/heroku_setup","code-gemfile_pg_gem":"beginning/deploying/heroku_setup","code-bundle_without_production":"beginning/deploying/heroku_setup","cha-1_footnote-ref-27":"beginning/deploying/heroku_setup","code-heroku_setup":"beginning/deploying/heroku_setup","code-heroku_create":"beginning/deploying/heroku_setup","sec-heroku_step_one":"beginning/deploying/heroku_step_one","sec-heroku_step_two":"beginning/deploying/heroku_step_two","fig-heroku_app":"beginning/deploying/heroku_step_two","sec-exercises_heroku_step_two":"beginning/deploying/heroku_step_two","ex-cc4619":"beginning/deploying/heroku_step_two","ex-ff46d4":"beginning/deploying/heroku_step_two","sec-heroku_commands":"beginning/deploying/heroku_commands","cha-1_footnote-ref-28":"beginning/deploying/heroku_commands","cha-1_footnote-ref-29":"beginning/deploying/heroku_commands","sec-exercises_heroku_commands":"beginning/deploying/heroku_commands","ex-c8f6af":"beginning/deploying/heroku_commands","ex-c50fa6":"beginning/deploying/heroku_commands","sec-deploying":"beginning/deploying","cha-1_footnote-ref-24":"beginning/deploying","cha-1_footnote-ref-25":"beginning/deploying","sec-beginning_what_we_learned_in_this_chapter":"beginning/beginning_conclusion/beginning_what_we_learned_in_this_chapter","sec-beginning_conclusion":"beginning/beginning_conclusion","cha-1_footnote-ref-30":"beginning/beginning_conclusion","":"following_users","cha-beginning":"beginning","cha-1_footnote-ref-1":"beginning","cha-1_footnote-ref-2":"beginning","aside-technical_sophistication":"beginning","cha-1_footnote-ref-3":"beginning","cha-1_footnote-ref-4":"beginning","aside-scaffolding":"beginning","cha-1_footnotes":"beginning","cha-1_footnote-1":"beginning","cha-1_footnote-2":"beginning","cha-1_footnote-3":"beginning","cha-1_footnote-4":"beginning","cha-1_footnote-5":"beginning","cha-1_footnote-6":"beginning","cha-1_footnote-7":"beginning","cha-1_footnote-8":"beginning","cha-1_footnote-9":"beginning","cha-1_footnote-10":"beginning","cha-1_footnote-11":"beginning","cha-1_footnote-12":"beginning","cha-1_footnote-13":"beginning","cha-1_footnote-14":"beginning","cha-1_footnote-15":"beginning","cha-1_footnote-16":"beginning","cha-1_footnote-17":"beginning","cha-1_footnote-18":"beginning","cha-1_footnote-19":"beginning","cha-1_footnote-20":"beginning","cha-1_footnote-21":"beginning","cha-1_footnote-22":"beginning","cha-1_footnote-23":"beginning","cha-1_footnote-24":"beginning","cha-1_footnote-25":"beginning","cha-1_footnote-26":"beginning","cha-1_footnote-27":"beginning","cha-1_footnote-28":"beginning","cha-1_footnote-29":"beginning","cha-1_footnote-30":"beginning","sec-modeling_demo_users":"toy_app/planning_the_application/modeling_demo_users","fig-demo_user_model":"toy_app/planning_the_application/modeling_demo_users","sec-modeling_demo_microposts":"toy_app/planning_the_application/modeling_demo_microposts","cha-2_footnote-ref-1":"toy_app/planning_the_application/modeling_demo_microposts","fig-demo_micropost_model":"toy_app/planning_the_application/modeling_demo_microposts","sec-planning_the_application":"toy_app/planning_the_application","code-demo_gemfile_sqlite_version_redux":"toy_app/planning_the_application","fig-create_demo_repository":"toy_app/planning_the_application","code-hello_action_redux":"toy_app/planning_the_application","code-hello_root_route_redux":"toy_app/planning_the_application","sec-a_user_tour":"toy_app/demo_users_resource/a_user_tour","table-user_urls":"toy_app/demo_users_resource/a_user_tour","fig-demo_blank_user_index_rails_3":"toy_app/demo_users_resource/a_user_tour","fig-demo_new_user_rails_3":"toy_app/demo_users_resource/a_user_tour","fig-demo_show_user_rails_3":"toy_app/demo_users_resource/a_user_tour","fig-demo_edit_user_rails_3":"toy_app/demo_users_resource/a_user_tour","fig-demo_update_user_rails_3":"toy_app/demo_users_resource/a_user_tour","fig-demo_user_index_two_rails_3":"toy_app/demo_users_resource/a_user_tour","fig-demo_destroy_user":"toy_app/demo_users_resource/a_user_tour","sec-exercises_a_user_tour":"toy_app/demo_users_resource/a_user_tour","ex-2ab034":"toy_app/demo_users_resource/a_user_tour","ex-ec690f":"toy_app/demo_users_resource/a_user_tour","ex-6accd1":"toy_app/demo_users_resource/a_user_tour","ex-abc7bd":"toy_app/demo_users_resource/a_user_tour","sec-mvc_in_action":"toy_app/demo_users_resource/mvc_in_action","fig-mvc_detailed":"toy_app/demo_users_resource/mvc_in_action","cha-2_footnote-ref-3":"toy_app/demo_users_resource/mvc_in_action","code-rails_routes":"toy_app/demo_users_resource/mvc_in_action","code-rails_routes_root_route":"toy_app/demo_users_resource/mvc_in_action","code-demo_users_controller":"toy_app/demo_users_resource/mvc_in_action","cha-2_footnote-ref-4":"toy_app/demo_users_resource/mvc_in_action","table-demo_RESTful_users":"toy_app/demo_users_resource/mvc_in_action","aside-REST":"toy_app/demo_users_resource/mvc_in_action","code-demo_index_action":"toy_app/demo_users_resource/mvc_in_action","code-demo_user_model":"toy_app/demo_users_resource/mvc_in_action","code-demo_index_view":"toy_app/demo_users_resource/mvc_in_action","sec-exercises_mvc_in_action":"toy_app/demo_users_resource/mvc_in_action","ex-6ddbca":"toy_app/demo_users_resource/mvc_in_action","ex-2ab482":"toy_app/demo_users_resource/mvc_in_action","ex-d9449a":"toy_app/demo_users_resource/mvc_in_action","sec-weaknesses_of_this_users_resource":"toy_app/demo_users_resource/weaknesses_of_this_users_resource","sec-demo_users_resource":"toy_app/demo_users_resource","cha-2_footnote-ref-2":"toy_app/demo_users_resource","code-first_migration":"toy_app/demo_users_resource","aside-rake":"toy_app/demo_users_resource","sec-a_micropost_microtour":"toy_app/microposts_resource/a_micropost_microtour","cha-2_footnote-ref-5":"toy_app/microposts_resource/a_micropost_microtour","cha-2_footnote-ref-6":"toy_app/microposts_resource/a_micropost_microtour","code-demo_microposts_resource":"toy_app/microposts_resource/a_micropost_microtour","table-demo_RESTful_microposts":"toy_app/microposts_resource/a_micropost_microtour","code-demo_microposts_controller":"toy_app/microposts_resource/a_micropost_microtour","fig-demo_new_micropost":"toy_app/microposts_resource/a_micropost_microtour","fig-demo_micropost_index":"toy_app/microposts_resource/a_micropost_microtour","sec-exercises_a_micropost_microtour":"toy_app/microposts_resource/a_micropost_microtour","ex-4bdc33":"toy_app/microposts_resource/a_micropost_microtour","ex-f1eed6":"toy_app/microposts_resource/a_micropost_microtour","ex-df2990":"toy_app/microposts_resource/a_micropost_microtour","ex-afd85d":"toy_app/microposts_resource/a_micropost_microtour","sec-putting_the_micro_in_microposts":"toy_app/microposts_resource/putting_the_micro_in_microposts","code-demo_length_validation":"toy_app/microposts_resource/putting_the_micro_in_microposts","fig-micropost_length_error":"toy_app/microposts_resource/putting_the_micro_in_microposts","sec-exercises_putting_the_micro_in_microposts":"toy_app/microposts_resource/putting_the_micro_in_microposts","ex-c44144":"toy_app/microposts_resource/putting_the_micro_in_microposts","ex-c125dc":"toy_app/microposts_resource/putting_the_micro_in_microposts","sec-demo_user_has_many_microposts":"toy_app/microposts_resource/demo_user_has_many_microposts","code-demo_user_has_many_microposts":"toy_app/microposts_resource/demo_user_has_many_microposts","code-demo_micropost_belongs_to_user":"toy_app/microposts_resource/demo_user_has_many_microposts","fig-micropost_user_association":"toy_app/microposts_resource/demo_user_has_many_microposts","cha-2_footnote-ref-7":"toy_app/microposts_resource/demo_user_has_many_microposts","cha-2_footnote-ref-8":"toy_app/microposts_resource/demo_user_has_many_microposts","sec-exercises_demo_user_has_many_microposts":"toy_app/microposts_resource/demo_user_has_many_microposts","ex-dd981f":"toy_app/microposts_resource/demo_user_has_many_microposts","ex-f69a36":"toy_app/microposts_resource/demo_user_has_many_microposts","ex-eabbb1":"toy_app/microposts_resource/demo_user_has_many_microposts","code-validates_content_presence":"toy_app/microposts_resource/demo_user_has_many_microposts","fig-micropost_content_cant_be_blank":"toy_app/microposts_resource/demo_user_has_many_microposts","code-toy_user_presence_valications":"toy_app/microposts_resource/demo_user_has_many_microposts","fig-user_presence_validations":"toy_app/microposts_resource/demo_user_has_many_microposts","sec-inheritance_hierarchies":"toy_app/microposts_resource/inheritance_hierarchies","code-demo_user_class":"toy_app/microposts_resource/inheritance_hierarchies","code-demo_micropost_class":"toy_app/microposts_resource/inheritance_hierarchies","fig-demo_model_inheritance":"toy_app/microposts_resource/inheritance_hierarchies","code-demo_users_controller_class":"toy_app/microposts_resource/inheritance_hierarchies","code-demo_microposts_controller_class":"toy_app/microposts_resource/inheritance_hierarchies","code-toy_application_controller_class":"toy_app/microposts_resource/inheritance_hierarchies","fig-demo_controller_inheritance":"toy_app/microposts_resource/inheritance_hierarchies","sec-exercises_inheritance_hierarchies":"toy_app/microposts_resource/inheritance_hierarchies","ex-c8ba88":"toy_app/microposts_resource/inheritance_hierarchies","ex-dec71b":"toy_app/microposts_resource/inheritance_hierarchies","sec-deploying_the_toy_app":"toy_app/microposts_resource/deploying_the_toy_app","cha-2_footnote-ref-9":"toy_app/microposts_resource/deploying_the_toy_app","fig-toy_app_production":"toy_app/microposts_resource/deploying_the_toy_app","sec-exercises_deploying_the_toy_app":"toy_app/microposts_resource/deploying_the_toy_app","ex-f84295":"toy_app/microposts_resource/deploying_the_toy_app","ex-916144":"toy_app/microposts_resource/deploying_the_toy_app","ex-debcc6":"toy_app/microposts_resource/deploying_the_toy_app","sec-microposts_resource":"toy_app/microposts_resource","sec-toy_app_what_we_learned_in_this_chapter":"toy_app/toy_app_conclusion/toy_app_what_we_learned_in_this_chapter","sec-toy_app_conclusion":"toy_app/toy_app_conclusion","cha-a_toy_app":"toy_app","cha-2_footnotes":"toy_app","cha-2_footnote-1":"toy_app","cha-2_footnote-2":"toy_app","cha-2_footnote-3":"toy_app","cha-2_footnote-4":"toy_app","cha-2_footnote-5":"toy_app","cha-2_footnote-6":"toy_app","cha-2_footnote-7":"toy_app","cha-2_footnote-8":"toy_app","cha-2_footnote-9":"toy_app","sec-sample_app_setup":"static_pages/sample_app_setup","cha-3_footnote-ref-1":"static_pages/sample_app_setup","code-rails_new_sample_app":"static_pages/sample_app_setup","cha-3_footnote-ref-2":"static_pages/sample_app_setup","code-gemfile_sample_app":"static_pages/sample_app_setup","cha-3_footnote-ref-3":"static_pages/sample_app_setup","cha-3_footnote-ref-4":"static_pages/sample_app_setup","cha-3_footnote-ref-5":"static_pages/sample_app_setup","code-sample_app_readme":"static_pages/sample_app_setup","code-hello_action_redux_2":"static_pages/sample_app_setup","code-hello_root_route_redux_2":"static_pages/sample_app_setup","sec-exercises_sample_app_setup":"static_pages/sample_app_setup","ex-c2317d":"static_pages/sample_app_setup","ex-6a49d9":"static_pages/sample_app_setup","sec-generated_static_pages":"static_pages/static_pages/generated_static_pages","code-generating_pages":"static_pages/static_pages/generated_static_pages","cha-3_footnote-ref-7":"static_pages/static_pages/generated_static_pages","table-shortcuts":"static_pages/static_pages/generated_static_pages","aside-undoing_things":"static_pages/static_pages/generated_static_pages","fig-config_directory_rails":"static_pages/static_pages/generated_static_pages","code-pages_routes":"static_pages/static_pages/generated_static_pages","fig-raw_home_view":"static_pages/static_pages/generated_static_pages","aside-get_etc":"static_pages/static_pages/generated_static_pages","code-static_pages_controller":"static_pages/static_pages/generated_static_pages","code-raw_home_view":"static_pages/static_pages/generated_static_pages","code-raw_help_view":"static_pages/static_pages/generated_static_pages","sec-exercises_generated_static_pages":"static_pages/static_pages/generated_static_pages","ex-ef4a1d":"static_pages/static_pages/generated_static_pages","ex-b6b114":"static_pages/static_pages/generated_static_pages","sec-custom_static_pages":"static_pages/static_pages/custom_static_pages","code-custom_home_page":"static_pages/static_pages/custom_static_pages","code-custom_help_page":"static_pages/static_pages/custom_static_pages","fig-custom_home_page":"static_pages/static_pages/custom_static_pages","fig-custom_help_page":"static_pages/static_pages/custom_static_pages","sec-static_pages":"static_pages/static_pages","cha-3_footnote-ref-6":"static_pages/static_pages","sec-our_first_test":"static_pages/getting_started_with_testing/our_first_test","code-default_controller_test":"static_pages/getting_started_with_testing/our_first_test","uid328":"static_pages/getting_started_with_testing/our_first_test","sec-red":"static_pages/getting_started_with_testing/red","cha-3_footnote-ref-9":"static_pages/getting_started_with_testing/red","code-about_test":"static_pages/getting_started_with_testing/red","uid332":"static_pages/getting_started_with_testing/red","sec-green":"static_pages/getting_started_with_testing/green","uid334":"static_pages/getting_started_with_testing/green","code-about_route":"static_pages/getting_started_with_testing/green","uid336":"static_pages/getting_started_with_testing/green","code-adding_the_about_page":"static_pages/getting_started_with_testing/green","code-custom_about_page":"static_pages/getting_started_with_testing/green","uid339":"static_pages/getting_started_with_testing/green","fig-about_us":"static_pages/getting_started_with_testing/green","sec-refactor":"static_pages/getting_started_with_testing/refactor","sec-getting_started_with_testing":"static_pages/getting_started_with_testing","cha-3_footnote-ref-8":"static_pages/getting_started_with_testing","aside-when_to_test":"static_pages/getting_started_with_testing","sec-testing_titles":"static_pages/slightly_dynamic_pages/testing_titles","code-html_structure":"static_pages/slightly_dynamic_pages/testing_titles","cha-3_footnote-ref-10":"static_pages/slightly_dynamic_pages/testing_titles","cha-3_footnote-ref-11":"static_pages/slightly_dynamic_pages/testing_titles","code-title_tests":"static_pages/slightly_dynamic_pages/testing_titles","uid348":"static_pages/slightly_dynamic_pages/testing_titles","sec-adding_page_titles":"static_pages/slightly_dynamic_pages/adding_page_titles","code-home_view_full_html":"static_pages/slightly_dynamic_pages/adding_page_titles","cha-3_footnote-ref-12":"static_pages/slightly_dynamic_pages/adding_page_titles","fig-home_view_full_html":"static_pages/slightly_dynamic_pages/adding_page_titles","code-help_view_full_html":"static_pages/slightly_dynamic_pages/adding_page_titles","code-about_view_full_html":"static_pages/slightly_dynamic_pages/adding_page_titles","uid355":"static_pages/slightly_dynamic_pages/adding_page_titles","sec-exercises_adding_page_titles":"static_pages/slightly_dynamic_pages/adding_page_titles","ex-aa6d2c":"static_pages/slightly_dynamic_pages/adding_page_titles","code-base_title_test":"static_pages/slightly_dynamic_pages/adding_page_titles","sec-layouts_and_embedded_ruby":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","code-home_view_erb_title":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","cha-3_footnote-ref-13":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","cha-3_footnote-ref-14":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","cha-3_footnote-ref-15":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","uid367":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","code-help_view_erb_title":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","code-about_view_erb_title":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","code-application_layout":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","code-home_view_interior":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","code-help_view_interior":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","code-about_view_interior":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","uid374":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","sec-exercises_layouts_and_embedded_ruby":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","cha-3_footnote-ref-16":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","ex-1ce145":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","code-proposed_contact_page":"static_pages/slightly_dynamic_pages/layouts_and_embedded_ruby","sec-setting_the_root_route":"static_pages/slightly_dynamic_pages/setting_the_root_route","code-home_root_route":"static_pages/slightly_dynamic_pages/setting_the_root_route","fig-home_root_route":"static_pages/slightly_dynamic_pages/setting_the_root_route","sec-exercises_setting_the_root_route":"static_pages/slightly_dynamic_pages/setting_the_root_route","ex-daa97c":"static_pages/slightly_dynamic_pages/setting_the_root_route","ex-87bd31":"static_pages/slightly_dynamic_pages/setting_the_root_route","code-root_test":"static_pages/slightly_dynamic_pages/setting_the_root_route","code-home_root_route_commented_out":"static_pages/slightly_dynamic_pages/setting_the_root_route","sec-slightly_dynamic_pages":"static_pages/slightly_dynamic_pages","table-static_pages":"static_pages/slightly_dynamic_pages","sec-static_pages_what_we_learned_in_this_chapter":"static_pages/static_pages_conclusion/static_pages_what_we_learned_in_this_chapter","sec-static_pages_conclusion":"static_pages/static_pages_conclusion","cha-3_footnote-ref-17":"static_pages/static_pages_conclusion","sec-minitest_reporters":"static_pages/advanced_testing_setup/minitest_reporters","cha-3_footnote-ref-18":"static_pages/advanced_testing_setup/minitest_reporters","code-minitest_reporters":"static_pages/advanced_testing_setup/minitest_reporters","cha-3_footnote-ref-19":"static_pages/advanced_testing_setup/minitest_reporters","fig-red_to_green":"static_pages/advanced_testing_setup/minitest_reporters","sec-guard":"static_pages/advanced_testing_setup/guard","code-guardfile":"static_pages/advanced_testing_setup/guard","fig-file_navigator_gear_icon":"static_pages/advanced_testing_setup/guard","fig-show_hidden_files":"static_pages/advanced_testing_setup/guard","fig-gitignore":"static_pages/advanced_testing_setup/guard","code-gitignore_spring":"static_pages/advanced_testing_setup/guard","aside-processes":"static_pages/advanced_testing_setup/guard","sec-advanced_testing_setup":"static_pages/advanced_testing_setup","cha-static_pages":"static_pages","cha-3_footnotes":"static_pages","cha-3_footnote-1":"static_pages","cha-3_footnote-2":"static_pages","cha-3_footnote-3":"static_pages","cha-3_footnote-4":"static_pages","cha-3_footnote-5":"static_pages","cha-3_footnote-6":"static_pages","cha-3_footnote-7":"static_pages","cha-3_footnote-8":"static_pages","cha-3_footnote-9":"static_pages","cha-3_footnote-10":"static_pages","cha-3_footnote-11":"static_pages","cha-3_footnote-12":"static_pages","cha-3_footnote-13":"static_pages","cha-3_footnote-14":"static_pages","cha-3_footnote-15":"static_pages","cha-3_footnote-16":"static_pages","cha-3_footnote-17":"static_pages","cha-3_footnote-18":"static_pages","cha-3_footnote-19":"static_pages","sec-built_in_helpers":"rails_flavored_ruby/motivation/built_in_helpers","code-application_layout_redux":"rails_flavored_ruby/motivation/built_in_helpers","sec-custom_helpers":"rails_flavored_ruby/motivation/custom_helpers","cha-4_footnote-ref-1":"rails_flavored_ruby/motivation/custom_helpers","code-title_helper":"rails_flavored_ruby/motivation/custom_helpers","code-application_layout_full_title":"rails_flavored_ruby/motivation/custom_helpers","code-home_base_title_spec":"rails_flavored_ruby/motivation/custom_helpers","uid419":"rails_flavored_ruby/motivation/custom_helpers","code-home_page_base_title":"rails_flavored_ruby/motivation/custom_helpers","uid421":"rails_flavored_ruby/motivation/custom_helpers","sec-motivation":"rails_flavored_ruby/motivation","sec-comments":"rails_flavored_ruby/strings_and_methods/comments","sec-strings":"rails_flavored_ruby/strings_and_methods/strings","cha-4_footnote-ref-3":"rails_flavored_ruby/strings_and_methods/strings","cha-4_footnote-ref-4":"rails_flavored_ruby/strings_and_methods/strings","sec-printing":"rails_flavored_ruby/strings_and_methods/strings","sec-single_quoted_strings":"rails_flavored_ruby/strings_and_methods/strings","sec-exercises_strings":"rails_flavored_ruby/strings_and_methods/strings","ex-e3580c":"rails_flavored_ruby/strings_and_methods/strings","ex-768a74":"rails_flavored_ruby/strings_and_methods/strings","ex-54fc65":"rails_flavored_ruby/strings_and_methods/strings","ex-4820a5":"rails_flavored_ruby/strings_and_methods/strings","sec-objects_and_message_passing":"rails_flavored_ruby/strings_and_methods/objects_and_message_passing","cha-4_footnote-ref-5":"rails_flavored_ruby/strings_and_methods/objects_and_message_passing","sec-exercises_objects_and_message_passing":"rails_flavored_ruby/strings_and_methods/objects_and_message_passing","ex-4b8ae6":"rails_flavored_ruby/strings_and_methods/objects_and_message_passing","ex-fac1aa":"rails_flavored_ruby/strings_and_methods/objects_and_message_passing","ex-fd9e11":"rails_flavored_ruby/strings_and_methods/objects_and_message_passing","ex-519870":"rails_flavored_ruby/strings_and_methods/objects_and_message_passing","code-palindrome_if":"rails_flavored_ruby/strings_and_methods/objects_and_message_passing","sec-method_definitions":"rails_flavored_ruby/strings_and_methods/method_definitions","sec-exercises_method_definitions":"rails_flavored_ruby/strings_and_methods/method_definitions","ex-fad1fc":"rails_flavored_ruby/strings_and_methods/method_definitions","ex-2a365f":"rails_flavored_ruby/strings_and_methods/method_definitions","ex-5f2dec":"rails_flavored_ruby/strings_and_methods/method_definitions","code-palindrome_tester":"rails_flavored_ruby/strings_and_methods/method_definitions","sec-back_to_the_title_helper":"rails_flavored_ruby/strings_and_methods/back_to_the_title_helper","cha-4_footnote-ref-6":"rails_flavored_ruby/strings_and_methods/back_to_the_title_helper","code-annotated_title_helper":"rails_flavored_ruby/strings_and_methods/back_to_the_title_helper","cha-4_footnote-ref-7":"rails_flavored_ruby/strings_and_methods/back_to_the_title_helper","sec-strings_and_methods":"rails_flavored_ruby/strings_and_methods","cha-4_footnote-ref-2":"rails_flavored_ruby/strings_and_methods","code-irbrc":"rails_flavored_ruby/strings_and_methods","sec-arrays_and_ranges":"rails_flavored_ruby/other_data_structures/arrays_and_ranges","cha-4_footnote-ref-8":"rails_flavored_ruby/other_data_structures/arrays_and_ranges","sec-exercises_arrays_and_ranges":"rails_flavored_ruby/other_data_structures/arrays_and_ranges","ex-d7f88d":"rails_flavored_ruby/other_data_structures/arrays_and_ranges","ex-a85482":"rails_flavored_ruby/other_data_structures/arrays_and_ranges","ex-e14ce5":"rails_flavored_ruby/other_data_structures/arrays_and_ranges","ex-5e13ce":"rails_flavored_ruby/other_data_structures/arrays_and_ranges","sec-blocks":"rails_flavored_ruby/other_data_structures/blocks","cha-4_footnote-ref-9":"rails_flavored_ruby/other_data_structures/blocks","cha-4_footnote-ref-10":"rails_flavored_ruby/other_data_structures/blocks","sec-exercises_blocks":"rails_flavored_ruby/other_data_structures/blocks","ex-3f7a43":"rails_flavored_ruby/other_data_structures/blocks","ex-cb435f":"rails_flavored_ruby/other_data_structures/blocks","ex-3efef5":"rails_flavored_ruby/other_data_structures/blocks","ex-c4a6ed":"rails_flavored_ruby/other_data_structures/blocks","code-string_shuffle":"rails_flavored_ruby/other_data_structures/blocks","sec-hashes_and_symbols":"rails_flavored_ruby/other_data_structures/hashes_and_symbols","cha-4_footnote-ref-11":"rails_flavored_ruby/other_data_structures/hashes_and_symbols","cha-4_footnote-ref-12":"rails_flavored_ruby/other_data_structures/hashes_and_symbols","code-nested_hashes":"rails_flavored_ruby/other_data_structures/hashes_and_symbols","cha-4_footnote-ref-13":"rails_flavored_ruby/other_data_structures/hashes_and_symbols","sec-exercises_hashes_and_symbols":"rails_flavored_ruby/other_data_structures/hashes_and_symbols","ex-82a576":"rails_flavored_ruby/other_data_structures/hashes_and_symbols","ex-bccfac":"rails_flavored_ruby/other_data_structures/hashes_and_symbols","ex-b7241e":"rails_flavored_ruby/other_data_structures/hashes_and_symbols","ex-bc0dd6":"rails_flavored_ruby/other_data_structures/hashes_and_symbols","sec-css_revisited":"rails_flavored_ruby/other_data_structures/css_revisited","cha-4_footnote-ref-14":"rails_flavored_ruby/other_data_structures/css_revisited","cha-4_footnote-ref-15":"rails_flavored_ruby/other_data_structures/css_revisited","code-scss_source":"rails_flavored_ruby/other_data_structures/css_revisited","sec-other_data_structures":"rails_flavored_ruby/other_data_structures","sec-constructors":"rails_flavored_ruby/ruby_classes/constructors","cha-4_footnote-ref-16":"rails_flavored_ruby/ruby_classes/constructors","sec-exercises_constructors":"rails_flavored_ruby/ruby_classes/constructors","ex-f6e2b3":"rails_flavored_ruby/ruby_classes/constructors","ex-73158e":"rails_flavored_ruby/ruby_classes/constructors","ex-4d8c3d":"rails_flavored_ruby/ruby_classes/constructors","sec-a_class_of_our_own":"rails_flavored_ruby/ruby_classes/a_class_of_our_own","fig-string_inheritance_ruby_1_9":"rails_flavored_ruby/ruby_classes/a_class_of_our_own","code-word_class":"rails_flavored_ruby/ruby_classes/a_class_of_our_own","fig-word_inheritance_ruby_1_9":"rails_flavored_ruby/ruby_classes/a_class_of_our_own","cha-4_footnote-ref-17":"rails_flavored_ruby/ruby_classes/a_class_of_our_own","sec-exercises_a_class_of_our_own":"rails_flavored_ruby/ruby_classes/a_class_of_our_own","ex-fcc2a5":"rails_flavored_ruby/ruby_classes/a_class_of_our_own","ex-a30be5":"rails_flavored_ruby/ruby_classes/a_class_of_our_own","sec-modifying_built_in_classes":"rails_flavored_ruby/ruby_classes/modifying_built_in_classes","sec-exercises_modifying_built_in_classes":"rails_flavored_ruby/ruby_classes/modifying_built_in_classes","ex-090d04":"rails_flavored_ruby/ruby_classes/modifying_built_in_classes","ex-a751c8":"rails_flavored_ruby/ruby_classes/modifying_built_in_classes","ex-ee6b0d":"rails_flavored_ruby/ruby_classes/modifying_built_in_classes","code-string_shuffle_two":"rails_flavored_ruby/ruby_classes/modifying_built_in_classes","sec-a_controller_class":"rails_flavored_ruby/ruby_classes/a_controller_class","cha-4_footnote-ref-18":"rails_flavored_ruby/ruby_classes/a_controller_class","fig-static_pages_controller_inheritance":"rails_flavored_ruby/ruby_classes/a_controller_class","sec-exercises_a_controller_class":"rails_flavored_ruby/ruby_classes/a_controller_class","ex-c36562":"rails_flavored_ruby/ruby_classes/a_controller_class","ex-f1ad79":"rails_flavored_ruby/ruby_classes/a_controller_class","sec-a_user_class":"rails_flavored_ruby/ruby_classes/a_user_class","code-example_user":"rails_flavored_ruby/ruby_classes/a_user_class","sec-exercises_a_user_object":"rails_flavored_ruby/ruby_classes/a_user_class","ex-0249e7":"rails_flavored_ruby/ruby_classes/a_user_class","ex-1e3f00":"rails_flavored_ruby/ruby_classes/a_user_class","ex-04e9b1":"rails_flavored_ruby/ruby_classes/a_user_class","sec-ruby_classes":"rails_flavored_ruby/ruby_classes","sec-rails_flavored_ruby_what_we_learned_in_this_chapter":"rails_flavored_ruby/conclusion/rails_flavored_ruby_what_we_learned_in_this_chapter","sec-conclusion":"rails_flavored_ruby/conclusion","cha-rails_flavored_ruby":"rails_flavored_ruby","cha-4_footnotes":"rails_flavored_ruby","cha-4_footnote-1":"rails_flavored_ruby","cha-4_footnote-2":"rails_flavored_ruby","cha-4_footnote-3":"rails_flavored_ruby","cha-4_footnote-4":"rails_flavored_ruby","cha-4_footnote-5":"rails_flavored_ruby","cha-4_footnote-6":"rails_flavored_ruby","cha-4_footnote-7":"rails_flavored_ruby","cha-4_footnote-8":"rails_flavored_ruby","cha-4_footnote-9":"rails_flavored_ruby","cha-4_footnote-10":"rails_flavored_ruby","cha-4_footnote-11":"rails_flavored_ruby","cha-4_footnote-12":"rails_flavored_ruby","cha-4_footnote-13":"rails_flavored_ruby","cha-4_footnote-14":"rails_flavored_ruby","cha-4_footnote-15":"rails_flavored_ruby","cha-4_footnote-16":"rails_flavored_ruby","cha-4_footnote-17":"rails_flavored_ruby","cha-4_footnote-18":"rails_flavored_ruby","sec-adding_to_the_layout":"filling_in_the_layout/structure/adding_to_the_layout","code-layout_new_structure":"filling_in_the_layout/structure/adding_to_the_layout","cha-5_footnote-ref-3":"filling_in_the_layout/structure/adding_to_the_layout","cha-5_footnote-ref-4":"filling_in_the_layout/structure/adding_to_the_layout","cha-5_footnote-ref-5":"filling_in_the_layout/structure/adding_to_the_layout","code-signup_button":"filling_in_the_layout/structure/adding_to_the_layout","cha-5_footnote-ref-6":"filling_in_the_layout/structure/adding_to_the_layout","code-curl_rails_png":"filling_in_the_layout/structure/adding_to_the_layout","fig-layout_no_logo_or_custom_css":"filling_in_the_layout/structure/adding_to_the_layout","cha-5_footnote-ref-7":"filling_in_the_layout/structure/adding_to_the_layout","sec-exercises_adding_to_the_layout":"filling_in_the_layout/structure/adding_to_the_layout","cha-5_footnote-ref-8":"filling_in_the_layout/structure/adding_to_the_layout","ex-7a67af":"filling_in_the_layout/structure/adding_to_the_layout","ex-66f85b":"filling_in_the_layout/structure/adding_to_the_layout","ex-591749":"filling_in_the_layout/structure/adding_to_the_layout","fig-kitten":"filling_in_the_layout/structure/adding_to_the_layout","code-downloading_a_cat_pic":"filling_in_the_layout/structure/adding_to_the_layout","fig-kitten_on_home":"filling_in_the_layout/structure/adding_to_the_layout","sec-custom_css":"filling_in_the_layout/structure/custom_css","cha-5_footnote-ref-9":"filling_in_the_layout/structure/custom_css","cha-5_footnote-ref-10":"filling_in_the_layout/structure/custom_css","code-bootstrap_sass":"filling_in_the_layout/structure/custom_css","cha-5_footnote-ref-11":"filling_in_the_layout/structure/custom_css","code-bootstrap_css":"filling_in_the_layout/structure/custom_css","fig-sample_app_only_bootstrap":"filling_in_the_layout/structure/custom_css","code-universal_css":"filling_in_the_layout/structure/custom_css","fig-sample_app_universal":"filling_in_the_layout/structure/custom_css","code-typography_css":"filling_in_the_layout/structure/custom_css","fig-sample_app_typography":"filling_in_the_layout/structure/custom_css","code-logo_css":"filling_in_the_layout/structure/custom_css","fig-sample_app_logo":"filling_in_the_layout/structure/custom_css","sec-exercises_custom_css":"filling_in_the_layout/structure/custom_css","ex-d7f8e1":"filling_in_the_layout/structure/custom_css","ex-b39c95":"filling_in_the_layout/structure/custom_css","code-comment_out_image":"filling_in_the_layout/structure/custom_css","code-css_hide_image":"filling_in_the_layout/structure/custom_css","sec-partials":"filling_in_the_layout/structure/partials","code-layout_with_partials":"filling_in_the_layout/structure/partials","cha-5_footnote-ref-12":"filling_in_the_layout/structure/partials","code-stylesheets_partial":"filling_in_the_layout/structure/partials","code-header_partial":"filling_in_the_layout/structure/partials","cha-5_footnote-ref-13":"filling_in_the_layout/structure/partials","code-footer_partial":"filling_in_the_layout/structure/partials","code-layout_with_footer":"filling_in_the_layout/structure/partials","code-footer_css":"filling_in_the_layout/structure/partials","fig-site_with_footer":"filling_in_the_layout/structure/partials","sec-exercises_partials":"filling_in_the_layout/structure/partials","ex-eecfad":"filling_in_the_layout/structure/partials","ex-d6d37e":"filling_in_the_layout/structure/partials","ex-e89622":"filling_in_the_layout/structure/partials","code-rails_default_head":"filling_in_the_layout/structure/partials","sec-structure":"filling_in_the_layout/structure","cha-5_footnote-ref-2":"filling_in_the_layout/structure","fig-home_page_mockup":"filling_in_the_layout/structure","sec-the_asset_pipeline":"filling_in_the_layout/sass_and_the_asset_pipeline/the_asset_pipeline","cha-5_footnote-ref-14":"filling_in_the_layout/sass_and_the_asset_pipeline/the_asset_pipeline","uid583":"filling_in_the_layout/sass_and_the_asset_pipeline/the_asset_pipeline","uid587":"filling_in_the_layout/sass_and_the_asset_pipeline/the_asset_pipeline","code-app_css_manifest":"filling_in_the_layout/sass_and_the_asset_pipeline/the_asset_pipeline","uid589":"filling_in_the_layout/sass_and_the_asset_pipeline/the_asset_pipeline","uid590":"filling_in_the_layout/sass_and_the_asset_pipeline/the_asset_pipeline","sec-sass":"filling_in_the_layout/sass_and_the_asset_pipeline/sass","cha-5_footnote-ref-15":"filling_in_the_layout/sass_and_the_asset_pipeline/sass","uid593":"filling_in_the_layout/sass_and_the_asset_pipeline/sass","uid594":"filling_in_the_layout/sass_and_the_asset_pipeline/sass","code-refactored_scss":"filling_in_the_layout/sass_and_the_asset_pipeline/sass","sec-exercises_sass":"filling_in_the_layout/sass_and_the_asset_pipeline/sass","ex-4f280d":"filling_in_the_layout/sass_and_the_asset_pipeline/sass","sec-sass_and_the_asset_pipeline":"filling_in_the_layout/sass_and_the_asset_pipeline","sec-contact_page":"filling_in_the_layout/layout_links/contact_page","code-contact_page_test":"filling_in_the_layout/layout_links/contact_page","uid601":"filling_in_the_layout/layout_links/contact_page","code-contact_route":"filling_in_the_layout/layout_links/contact_page","code-contact_action":"filling_in_the_layout/layout_links/contact_page","code-contact_view":"filling_in_the_layout/layout_links/contact_page","uid605":"filling_in_the_layout/layout_links/contact_page","sec-rails_routes":"filling_in_the_layout/layout_links/rails_routes","code-static_page_routes":"filling_in_the_layout/layout_links/rails_routes","code-static_page_routes_test":"filling_in_the_layout/layout_links/rails_routes","sec-exercises_rails_routes":"filling_in_the_layout/layout_links/rails_routes","ex-f886e4":"filling_in_the_layout/layout_links/rails_routes","ex-b73fff":"filling_in_the_layout/layout_links/rails_routes","ex-57ab71":"filling_in_the_layout/layout_links/rails_routes","code-helf":"filling_in_the_layout/layout_links/rails_routes","sec-named_routes":"filling_in_the_layout/layout_links/named_routes","code-header_partial_links":"filling_in_the_layout/layout_links/named_routes","code-footer_partial_links":"filling_in_the_layout/layout_links/named_routes","fig-about_page":"filling_in_the_layout/layout_links/named_routes","sec-exercises_named_routes":"filling_in_the_layout/layout_links/named_routes","ex-86ac09":"filling_in_the_layout/layout_links/named_routes","ex-98fcd3":"filling_in_the_layout/layout_links/named_routes","sec-layout_link_tests":"filling_in_the_layout/layout_links/layout_link_tests","cha-5_footnote-ref-16":"filling_in_the_layout/layout_links/layout_link_tests","code-layout_links_test":"filling_in_the_layout/layout_links/layout_link_tests","table-assert_select":"filling_in_the_layout/layout_links/layout_link_tests","uid628":"filling_in_the_layout/layout_links/layout_link_tests","uid629":"filling_in_the_layout/layout_links/layout_link_tests","sec-exercises_layout_link_tests":"filling_in_the_layout/layout_links/layout_link_tests","ex-454224":"filling_in_the_layout/layout_links/layout_link_tests","ex-cfa831":"filling_in_the_layout/layout_links/layout_link_tests","code-test_helper_application_helper":"filling_in_the_layout/layout_links/layout_link_tests","code-layout_links_test_signup_full_title_helper":"filling_in_the_layout/layout_links/layout_link_tests","code-full_title_helper_tests":"filling_in_the_layout/layout_links/layout_link_tests","sec-layout_links":"filling_in_the_layout/layout_links","table-url_mapping":"filling_in_the_layout/layout_links","sec-users_controller":"filling_in_the_layout/user_signup/users_controller","code-generate_users_controller":"filling_in_the_layout/user_signup/users_controller","code-initial_users_controller":"filling_in_the_layout/user_signup/users_controller","code-initial_new_action":"filling_in_the_layout/user_signup/users_controller","code-user_new_test":"filling_in_the_layout/user_signup/users_controller","uid641":"filling_in_the_layout/user_signup/users_controller","sec-exercises_users_controller":"filling_in_the_layout/user_signup/users_controller","ex-e30705":"filling_in_the_layout/user_signup/users_controller","ex-b87c82":"filling_in_the_layout/user_signup/users_controller","sec-signup_url":"filling_in_the_layout/user_signup/signup_url","code-signup_route":"filling_in_the_layout/user_signup/signup_url","code-users_controller_test_signup_route":"filling_in_the_layout/user_signup/signup_url","code-home_page_signup_link":"filling_in_the_layout/user_signup/signup_url","code-initial_signup_page":"filling_in_the_layout/user_signup/signup_url","fig-new_signup_page":"filling_in_the_layout/user_signup/signup_url","sec-exercises_signup_url":"filling_in_the_layout/user_signup/signup_url","ex-de47e5":"filling_in_the_layout/user_signup/signup_url","ex-cba29a":"filling_in_the_layout/user_signup/signup_url","ex-cb38fe":"filling_in_the_layout/user_signup/signup_url","sec-user_signup":"filling_in_the_layout/user_signup","sec-filling_in_the_layout_what_we_learned_in_this_chapter":"filling_in_the_layout/layout_conclusion/filling_in_the_layout_what_we_learned_in_this_chapter","sec-layout_conclusion":"filling_in_the_layout/layout_conclusion","fig-layout_production":"filling_in_the_layout/layout_conclusion","cha-filling_in_the_layout":"filling_in_the_layout","cha-5_footnote-ref-1":"filling_in_the_layout","cha-5_footnotes":"filling_in_the_layout","cha-5_footnote-1":"filling_in_the_layout","cha-5_footnote-2":"filling_in_the_layout","cha-5_footnote-3":"filling_in_the_layout","cha-5_footnote-4":"filling_in_the_layout","cha-5_footnote-5":"filling_in_the_layout","cha-5_footnote-6":"filling_in_the_layout","cha-5_footnote-7":"filling_in_the_layout","cha-5_footnote-8":"filling_in_the_layout","cha-5_footnote-9":"filling_in_the_layout","cha-5_footnote-10":"filling_in_the_layout","cha-5_footnote-11":"filling_in_the_layout","cha-5_footnote-12":"filling_in_the_layout","cha-5_footnote-13":"filling_in_the_layout","cha-5_footnote-14":"filling_in_the_layout","cha-5_footnote-15":"filling_in_the_layout","cha-5_footnote-16":"filling_in_the_layout","sec-database_migrations":"modeling_users/user_model/database_migrations","cha-6_footnote-ref-3":"modeling_users/user_model/database_migrations","fig-users_table":"modeling_users/user_model/database_migrations","fig-user_model_sketch":"modeling_users/user_model/database_migrations","code-generate_user_model":"modeling_users/user_model/database_migrations","code-users_migration":"modeling_users/user_model/database_migrations","cha-6_footnote-ref-4":"modeling_users/user_model/database_migrations","fig-user_model_initial":"modeling_users/user_model/database_migrations","cha-6_footnote-ref-5":"modeling_users/user_model/database_migrations","fig-sqlite_download":"modeling_users/user_model/database_migrations","fig-sqlite_database_browser":"modeling_users/user_model/database_migrations","sec-exercises_database_migrations":"modeling_users/user_model/database_migrations","ex-35a9f1":"modeling_users/user_model/database_migrations","ex-f4bec3":"modeling_users/user_model/database_migrations","ex-86400a":"modeling_users/user_model/database_migrations","sec-the_model_file":"modeling_users/user_model/the_model_file","code-raw_user_model":"modeling_users/user_model/the_model_file","sec-exercises_the_model_file":"modeling_users/user_model/the_model_file","ex-88f89c":"modeling_users/user_model/the_model_file","ex-45a954":"modeling_users/user_model/the_model_file","sec-creating_user_objects":"modeling_users/user_model/creating_user_objects","cha-6_footnote-ref-6":"modeling_users/user_model/creating_user_objects","cha-6_footnote-ref-7":"modeling_users/user_model/creating_user_objects","sec-exercises_creating_user_objects":"modeling_users/user_model/creating_user_objects","ex-ffd724":"modeling_users/user_model/creating_user_objects","ex-840d5b":"modeling_users/user_model/creating_user_objects","sec-finding_user_objects":"modeling_users/user_model/finding_user_objects","cha-6_footnote-ref-8":"modeling_users/user_model/finding_user_objects","sec-exercises_finding_user_objects":"modeling_users/user_model/finding_user_objects","ex-a37224":"modeling_users/user_model/finding_user_objects","ex-b3c50e":"modeling_users/user_model/finding_user_objects","ex-087c14":"modeling_users/user_model/finding_user_objects","sec-updating_user_objects":"modeling_users/user_model/updating_user_objects","cha-6_footnote-ref-9":"modeling_users/user_model/updating_user_objects","sec-exercises_updating_user_objects":"modeling_users/user_model/updating_user_objects","ex-aca2fa":"modeling_users/user_model/updating_user_objects","ex-dc4b1e":"modeling_users/user_model/updating_user_objects","ex-61f14b":"modeling_users/user_model/updating_user_objects","sec-user_model":"modeling_users/user_model","fig-signup_mockup_preview":"modeling_users/user_model","cha-6_footnote-ref-1":"modeling_users/user_model","cha-6_footnote-ref-2":"modeling_users/user_model","sec-a_validity_test":"modeling_users/user_validations/a_validity_test","code-default_user_test":"modeling_users/user_validations/a_validity_test","code-valid_user_test":"modeling_users/user_validations/a_validity_test","uid709":"modeling_users/user_validations/a_validity_test","sec-exercises_a_validity_test":"modeling_users/user_validations/a_validity_test","ex-81b3d0":"modeling_users/user_validations/a_validity_test","ex-48a701":"modeling_users/user_validations/a_validity_test","sec-presence_validation":"modeling_users/user_validations/presence_validation","code-name_presence_test":"modeling_users/user_validations/presence_validation","uid715":"modeling_users/user_validations/presence_validation","code-validates_presence_of_name":"modeling_users/user_validations/presence_validation","cha-6_footnote-ref-10":"modeling_users/user_validations/presence_validation","uid718":"modeling_users/user_validations/presence_validation","code-email_presence_test":"modeling_users/user_validations/presence_validation","code-validates_presence_of_email":"modeling_users/user_validations/presence_validation","uid721":"modeling_users/user_validations/presence_validation","sec-exercises_presence_validation":"modeling_users/user_validations/presence_validation","ex-cc4567":"modeling_users/user_validations/presence_validation","ex-248e6d":"modeling_users/user_validations/presence_validation","sec-length_validation":"modeling_users/user_validations/length_validation","code-length_validation_test":"modeling_users/user_validations/length_validation","uid727":"modeling_users/user_validations/length_validation","code-length_validation":"modeling_users/user_validations/length_validation","uid729":"modeling_users/user_validations/length_validation","sec-exercises_length_validation":"modeling_users/user_validations/length_validation","ex-1a1a36":"modeling_users/user_validations/length_validation","ex-f985db":"modeling_users/user_validations/length_validation","sec-format_validation":"modeling_users/user_validations/format_validation","code-email_format_valid_tests":"modeling_users/user_validations/format_validation","code-email_format_validation_tests":"modeling_users/user_validations/format_validation","uid736":"modeling_users/user_validations/format_validation","cha-6_footnote-ref-11":"modeling_users/user_validations/format_validation","cha-6_footnote-ref-12":"modeling_users/user_validations/format_validation","table-valid_email_regex":"modeling_users/user_validations/format_validation","cha-6_footnote-ref-13":"modeling_users/user_validations/format_validation","fig-rubular":"modeling_users/user_validations/format_validation","code-validates_format_of_email":"modeling_users/user_validations/format_validation","uid743":"modeling_users/user_validations/format_validation","sec-exercises_format_validation":"modeling_users/user_validations/format_validation","ex-4a2e50":"modeling_users/user_validations/format_validation","ex-158e59":"modeling_users/user_validations/format_validation","ex-ca235a":"modeling_users/user_validations/format_validation","code-better_email_regex":"modeling_users/user_validations/format_validation","sec-uniqueness_validation":"modeling_users/user_validations/uniqueness_validation","cha-6_footnote-ref-14":"modeling_users/user_validations/uniqueness_validation","code-validates_uniqueness_of_email_test":"modeling_users/user_validations/uniqueness_validation","code-validates_uniqueness_of_email":"modeling_users/user_validations/uniqueness_validation","cha-6_footnote-ref-15":"modeling_users/user_validations/uniqueness_validation","code-validates_uniqueness_of_email_case_insensitive_test":"modeling_users/user_validations/uniqueness_validation","code-validates_uniqueness_of_email_case_insensitive":"modeling_users/user_validations/uniqueness_validation","uid756":"modeling_users/user_validations/uniqueness_validation","aside-database_indices":"modeling_users/user_validations/uniqueness_validation","cha-6_footnote-ref-16":"modeling_users/user_validations/uniqueness_validation","code-email_uniqueness_index":"modeling_users/user_validations/uniqueness_validation","code-default_fixtures":"modeling_users/user_validations/uniqueness_validation","code-empty_fixtures":"modeling_users/user_validations/uniqueness_validation","cha-6_footnote-ref-17":"modeling_users/user_validations/uniqueness_validation","code-email_downcase":"modeling_users/user_validations/uniqueness_validation","sec-exercises_uniqueness_validation":"modeling_users/user_validations/uniqueness_validation","ex-3727c0":"modeling_users/user_validations/uniqueness_validation","ex-21aeec":"modeling_users/user_validations/uniqueness_validation","code-email_downcase_test":"modeling_users/user_validations/uniqueness_validation","code-downcase_bang":"modeling_users/user_validations/uniqueness_validation","sec-user_validations":"modeling_users/user_validations","sec-a_hashed_password":"modeling_users/adding_a_secure_password/a_hashed_password","cha-6_footnote-ref-18":"modeling_users/adding_a_secure_password/a_hashed_password","cha-6_footnote-ref-19":"modeling_users/adding_a_secure_password/a_hashed_password","fig-user_model_password_digest":"modeling_users/adding_a_secure_password/a_hashed_password","code-password_migration":"modeling_users/adding_a_secure_password/a_hashed_password","cha-6_footnote-ref-20":"modeling_users/adding_a_secure_password/a_hashed_password","code-bcrypt_ruby":"modeling_users/adding_a_secure_password/a_hashed_password","sec-has_secure_password":"modeling_users/adding_a_secure_password/has_secure_password","code-has_secure_password":"modeling_users/adding_a_secure_password/has_secure_password","uid785":"modeling_users/adding_a_secure_password/has_secure_password","code-test_with_password_confirmation":"modeling_users/adding_a_secure_password/has_secure_password","uid787":"modeling_users/adding_a_secure_password/has_secure_password","sec-exercises_has_secure_password":"modeling_users/adding_a_secure_password/has_secure_password","ex-2a0eec":"modeling_users/adding_a_secure_password/has_secure_password","ex-61d09e":"modeling_users/adding_a_secure_password/has_secure_password","sec-minimum_password_standards":"modeling_users/adding_a_secure_password/minimum_password_standards","code-minimum_password_length_test":"modeling_users/adding_a_secure_password/minimum_password_standards","code-password_implementation":"modeling_users/adding_a_secure_password/minimum_password_standards","uid794":"modeling_users/adding_a_secure_password/minimum_password_standards","sec-exercises_minimum_password_length":"modeling_users/adding_a_secure_password/minimum_password_standards","ex-57db46":"modeling_users/adding_a_secure_password/minimum_password_standards","ex-782852":"modeling_users/adding_a_secure_password/minimum_password_standards","sec-creating_and_authenticating_a_user":"modeling_users/adding_a_secure_password/creating_and_authenticating_a_user","cha-6_footnote-ref-21":"modeling_users/adding_a_secure_password/creating_and_authenticating_a_user","fig-sqlite_user_row":"modeling_users/adding_a_secure_password/creating_and_authenticating_a_user","cha-6_footnote-ref-22":"modeling_users/adding_a_secure_password/creating_and_authenticating_a_user","sec-exercises_creating_and_authenticating_a_user":"modeling_users/adding_a_secure_password/creating_and_authenticating_a_user","ex-5d5ccc":"modeling_users/adding_a_secure_password/creating_and_authenticating_a_user","ex-e7c2df":"modeling_users/adding_a_secure_password/creating_and_authenticating_a_user","ex-1a90c0":"modeling_users/adding_a_secure_password/creating_and_authenticating_a_user","sec-adding_a_secure_password":"modeling_users/adding_a_secure_password","sec-modeling_users_what_we_learned_in_this_chapter":"modeling_users/modeling_users_conclusion/modeling_users_what_we_learned_in_this_chapter","sec-modeling_users_conclusion":"modeling_users/modeling_users_conclusion","cha-modeling_users":"modeling_users","aside-roll_your_own":"modeling_users","cha-6_footnotes":"modeling_users","cha-6_footnote-1":"modeling_users","cha-6_footnote-2":"modeling_users","cha-6_footnote-3":"modeling_users","cha-6_footnote-4":"modeling_users","cha-6_footnote-5":"modeling_users","cha-6_footnote-6":"modeling_users","cha-6_footnote-7":"modeling_users","cha-6_footnote-8":"modeling_users","cha-6_footnote-9":"modeling_users","cha-6_footnote-10":"modeling_users","cha-6_footnote-11":"modeling_users","cha-6_footnote-12":"modeling_users","cha-6_footnote-13":"modeling_users","cha-6_footnote-14":"modeling_users","cha-6_footnote-15":"modeling_users","cha-6_footnote-16":"modeling_users","cha-6_footnote-17":"modeling_users","cha-6_footnote-18":"modeling_users","cha-6_footnote-19":"modeling_users","cha-6_footnote-20":"modeling_users","cha-6_footnote-21":"modeling_users","cha-6_footnote-22":"modeling_users","sec-rails_environments":"sign_up/showing_users/rails_environments","code-rails_debug":"sign_up/showing_users/rails_environments","cha-7_footnote-ref-3":"sign_up/showing_users/rails_environments","aside-rails_environments":"sign_up/showing_users/rails_environments","code-mixin_and_debug":"sign_up/showing_users/rails_environments","cha-7_footnote-ref-4":"sign_up/showing_users/rails_environments","fig-home_page_with_debug":"sign_up/showing_users/rails_environments","cha-7_footnote-ref-5":"sign_up/showing_users/rails_environments","sec-exercises_rails_environments":"sign_up/showing_users/rails_environments","ex-4fe125":"sign_up/showing_users/rails_environments","ex-ab8c3e":"sign_up/showing_users/rails_environments","sec-a_users_resource":"sign_up/showing_users/a_users_resource","fig-profile_routing_error":"sign_up/showing_users/a_users_resource","code-users_resource":"sign_up/showing_users/a_users_resource","cha-7_footnote-ref-6":"sign_up/showing_users/a_users_resource","table-RESTful_users":"sign_up/showing_users/a_users_resource","fig-user_show_unknown_action":"sign_up/showing_users/a_users_resource","cha-7_footnote-ref-7":"sign_up/showing_users/a_users_resource","code-stub_user_view":"sign_up/showing_users/a_users_resource","code-user_show_action":"sign_up/showing_users/a_users_resource","fig-user_show_rails":"sign_up/showing_users/a_users_resource","sec-exercises_a_users_resource":"sign_up/showing_users/a_users_resource","ex-3fb238":"sign_up/showing_users/a_users_resource","ex-da090a":"sign_up/showing_users/a_users_resource","sec-debugger":"sign_up/showing_users/debugger","code-debugger":"sign_up/showing_users/debugger","code-debugger_removed":"sign_up/showing_users/debugger","sec-exercises_debugger":"sign_up/showing_users/debugger","ex-8679b1":"sign_up/showing_users/debugger","ex-2302af":"sign_up/showing_users/debugger","sec-a_gravatar_image":"sign_up/showing_users/a_gravatar_image","cha-7_footnote-ref-8":"sign_up/showing_users/a_gravatar_image","code-user_show_view_with_gravatar":"sign_up/showing_users/a_gravatar_image","code-gravatar_for_helper":"sign_up/showing_users/a_gravatar_image","fig-profile_with_gravatar":"sign_up/showing_users/a_gravatar_image","fig-profile_custom_gravatar":"sign_up/showing_users/a_gravatar_image","code-user_show_with_sidebar":"sign_up/showing_users/a_gravatar_image","cha-7_footnote-ref-9":"sign_up/showing_users/a_gravatar_image","code-sidebar_css":"sign_up/showing_users/a_gravatar_image","fig-user_show_sidebar_css":"sign_up/showing_users/a_gravatar_image","sec-exercises_a_gravatar_image":"sign_up/showing_users/a_gravatar_image","ex-6e602e":"sign_up/showing_users/a_gravatar_image","ex-8214c8":"sign_up/showing_users/a_gravatar_image","ex-61914e":"sign_up/showing_users/a_gravatar_image","code-gravatar_option":"sign_up/showing_users/a_gravatar_image","code-gravatar_keyword":"sign_up/showing_users/a_gravatar_image","sec-showing_users":"sign_up/showing_users","cha-7_footnote-ref-1":"sign_up/showing_users","cha-7_footnote-ref-2":"sign_up/showing_users","fig-profile_mockup_profile_name":"sign_up/showing_users","fig-profile_mockup":"sign_up/showing_users","sec-using_form_for":"sign_up/signup_form/using_form_for","code-new_action_with_user":"sign_up/signup_form/using_form_for","code-signup_form":"sign_up/signup_form/using_form_for","code-form_css":"sign_up/signup_form/using_form_for","fig-signup_form":"sign_up/signup_form/using_form_for","sec-exercises_using_form_for":"sign_up/signup_form/using_form_for","ex-7224ab":"sign_up/signup_form/using_form_for","ex-d0bbfe":"sign_up/signup_form/using_form_for","sec-the_form_html":"sign_up/signup_form/the_form_html","code-signup_form_html":"sign_up/signup_form/the_form_html","fig-filled_in_form":"sign_up/signup_form/the_form_html","cha-7_footnote-ref-10":"sign_up/signup_form/the_form_html","sec-exercises_the_form_html":"sign_up/signup_form/the_form_html","ex-602989":"sign_up/signup_form/the_form_html","sec-signup_form":"sign_up/signup_form","fig-blank_signup_page_recap":"sign_up/signup_form","fig-signup_mockup":"sign_up/signup_form","sec-a_working_form":"sign_up/unsuccessful_signups/a_working_form","code-first_create_action":"sign_up/unsuccessful_signups/a_working_form","fig-signup_failure":"sign_up/unsuccessful_signups/a_working_form","fig-signup_failure_rails_debug":"sign_up/unsuccessful_signups/a_working_form","sec-strong_parameters":"sign_up/unsuccessful_signups/strong_parameters","code-create_action_strong_parameters":"sign_up/unsuccessful_signups/strong_parameters","fig-invalid_submission_no_feedback":"sign_up/unsuccessful_signups/strong_parameters","sec-exercises_a_working_form":"sign_up/unsuccessful_signups/strong_parameters","ex-b3c548":"sign_up/unsuccessful_signups/strong_parameters","sec-signup_error_messages":"sign_up/unsuccessful_signups/signup_error_messages","code-f_error_messages":"sign_up/unsuccessful_signups/signup_error_messages","code-errors_partial":"sign_up/unsuccessful_signups/signup_error_messages","code-error_messages_css":"sign_up/unsuccessful_signups/signup_error_messages","fig-signup_error_messages":"sign_up/unsuccessful_signups/signup_error_messages","sec-exercises_signup_error_messages":"sign_up/unsuccessful_signups/signup_error_messages","ex-6e3d33":"sign_up/unsuccessful_signups/signup_error_messages","ex-ad9fd0":"sign_up/unsuccessful_signups/signup_error_messages","sec-a_test_for_invalid_submission":"sign_up/unsuccessful_signups/a_test_for_invalid_submission","code-a_test_for_invalid_submission":"sign_up/unsuccessful_signups/a_test_for_invalid_submission","uid904":"sign_up/unsuccessful_signups/a_test_for_invalid_submission","sec-exercises_a_test_for_invalid_submission":"sign_up/unsuccessful_signups/a_test_for_invalid_submission","ex-adc77f":"sign_up/unsuccessful_signups/a_test_for_invalid_submission","ex-4ee5ec":"sign_up/unsuccessful_signups/a_test_for_invalid_submission","ex-0b38a0":"sign_up/unsuccessful_signups/a_test_for_invalid_submission","ex-678d64":"sign_up/unsuccessful_signups/a_test_for_invalid_submission","code-error_messages_test":"sign_up/unsuccessful_signups/a_test_for_invalid_submission","code-post_signup":"sign_up/unsuccessful_signups/a_test_for_invalid_submission","code-post_signup_form":"sign_up/unsuccessful_signups/a_test_for_invalid_submission","sec-unsuccessful_signups":"sign_up/unsuccessful_signups","fig-signup_failure_mockup":"sign_up/unsuccessful_signups","sec-the_finished_signup_form":"sign_up/successful_signups/the_finished_signup_form","fig-valid_submission_error":"sign_up/successful_signups/the_finished_signup_form","fig-no_create_template_error":"sign_up/successful_signups/the_finished_signup_form","code-user_create_action":"sign_up/successful_signups/the_finished_signup_form","sec-exercises_the_finished_signup_form":"sign_up/successful_signups/the_finished_signup_form","ex-ae6165":"sign_up/successful_signups/the_finished_signup_form","ex-3f0fab":"sign_up/successful_signups/the_finished_signup_form","sec-the_flash":"sign_up/successful_signups/the_flash","code-signup_flash":"sign_up/successful_signups/the_flash","code-flash_iteration":"sign_up/successful_signups/the_flash","cha-7_footnote-ref-11":"sign_up/successful_signups/the_flash","code-layout_flash":"sign_up/successful_signups/the_flash","sec-exercises_the_flash":"sign_up/successful_signups/the_flash","ex-46d5c1":"sign_up/successful_signups/the_flash","ex-77fcbe":"sign_up/successful_signups/the_flash","sec-the_first_signup":"sign_up/successful_signups/the_first_signup","fig-first_signup":"sign_up/successful_signups/the_first_signup","fig-signup_flash":"sign_up/successful_signups/the_first_signup","fig-signup_flash_reloaded":"sign_up/successful_signups/the_first_signup","sec-exercises_the_first_signup":"sign_up/successful_signups/the_first_signup","ex-478ab1":"sign_up/successful_signups/the_first_signup","ex-6d88e5":"sign_up/successful_signups/the_first_signup","code-user_created":"sign_up/successful_signups/the_first_signup","sec-a_test_for_valid_submission":"sign_up/successful_signups/a_test_for_valid_submission","code-a_test_for_valid_submission":"sign_up/successful_signups/a_test_for_valid_submission","sec-exercises_a_test_for_valid_submission":"sign_up/successful_signups/a_test_for_valid_submission","ex-714b39":"sign_up/successful_signups/a_test_for_valid_submission","ex-f0e99e":"sign_up/successful_signups/a_test_for_valid_submission","ex-d82d28":"sign_up/successful_signups/a_test_for_valid_submission","ex-98882d":"sign_up/successful_signups/a_test_for_valid_submission","code-flash_test":"sign_up/successful_signups/a_test_for_valid_submission","code-layout_flash_content_tag":"sign_up/successful_signups/a_test_for_valid_submission","sec-successful_signups":"sign_up/successful_signups","fig-signup_success_mockup":"sign_up/successful_signups","sec-ssl_in_production":"sign_up/professional_grade_deployment/ssl_in_production","cha-7_footnote-ref-12":"sign_up/professional_grade_deployment/ssl_in_production","code-ssl_in_production":"sign_up/professional_grade_deployment/ssl_in_production","sec-production_webserver":"sign_up/professional_grade_deployment/production_webserver","cha-7_footnote-ref-13":"sign_up/professional_grade_deployment/production_webserver","code-production_webserver_config":"sign_up/professional_grade_deployment/production_webserver","code-procfile":"sign_up/professional_grade_deployment/production_webserver","sec-production_database_configuration":"sign_up/professional_grade_deployment/production_database_configuration","code-database_yml":"sign_up/professional_grade_deployment/production_database_configuration","sec-production_deployment":"sign_up/professional_grade_deployment/production_deployment","cha-7_footnote-ref-14":"sign_up/professional_grade_deployment/production_deployment","fig-signup_in_production":"sign_up/professional_grade_deployment/production_deployment","sec-ruby_version_number":"sign_up/professional_grade_deployment/production_deployment","cha-7_footnote-ref-15":"sign_up/professional_grade_deployment/production_deployment","sec-exercises_puma_in_production":"sign_up/professional_grade_deployment/production_deployment","ex-00415c":"sign_up/professional_grade_deployment/production_deployment","ex-cbc029":"sign_up/professional_grade_deployment/production_deployment","sec-professional_grade_deployment":"sign_up/professional_grade_deployment","sec-sign_up_what_we_learned_in_this_chapter":"sign_up/sign_up_conclusion/sign_up_what_we_learned_in_this_chapter","sec-sign_up_conclusion":"sign_up/sign_up_conclusion","cha-sign_up":"sign_up","cha-7_footnotes":"sign_up","cha-7_footnote-1":"sign_up","cha-7_footnote-2":"sign_up","cha-7_footnote-3":"sign_up","cha-7_footnote-4":"sign_up","cha-7_footnote-5":"sign_up","cha-7_footnote-6":"sign_up","cha-7_footnote-7":"sign_up","cha-7_footnote-8":"sign_up","cha-7_footnote-9":"sign_up","cha-7_footnote-10":"sign_up","cha-7_footnote-11":"sign_up","cha-7_footnote-12":"sign_up","cha-7_footnote-13":"sign_up","cha-7_footnote-14":"sign_up","cha-7_footnote-15":"sign_up","sec-sessions_controller":"basic_login/sessions_and_failed_login/sessions_controller","code-generate_sessions_controller":"basic_login/sessions_and_failed_login/sessions_controller","fig-login_mockup":"basic_login/sessions_and_failed_login/sessions_controller","code-sessions_resource":"basic_login/sessions_and_failed_login/sessions_controller","code-users_controller_test_login_route":"basic_login/sessions_and_failed_login/sessions_controller","table-RESTful_sessions":"basic_login/sessions_and_failed_login/sessions_controller","sec-exercises_sessions_controller":"basic_login/sessions_and_failed_login/sessions_controller","ex-36ca59":"basic_login/sessions_and_failed_login/sessions_controller","ex-061c5c":"basic_login/sessions_and_failed_login/sessions_controller","sec-login_form":"basic_login/sessions_and_failed_login/login_form","fig-login_failure_mockup":"basic_login/sessions_and_failed_login/login_form","cha-8_footnote-ref-2":"basic_login/sessions_and_failed_login/login_form","code-login_form":"basic_login/sessions_and_failed_login/login_form","fig-login_form":"basic_login/sessions_and_failed_login/login_form","code-login_form_html":"basic_login/sessions_and_failed_login/login_form","sec-exercises_login_form":"basic_login/sessions_and_failed_login/login_form","ex-f0615e":"basic_login/sessions_and_failed_login/login_form","sec-finding_and_authenticating_a_user":"basic_login/sessions_and_failed_login/finding_and_authenticating_a_user","code-initial_create_session":"basic_login/sessions_and_failed_login/finding_and_authenticating_a_user","fig-initial_failed_login_rails_3":"basic_login/sessions_and_failed_login/finding_and_authenticating_a_user","code-find_authenticate_user":"basic_login/sessions_and_failed_login/finding_and_authenticating_a_user","table-user_and_and":"basic_login/sessions_and_failed_login/finding_and_authenticating_a_user","sec-exercises_finding_and_authenticating_a_user":"basic_login/sessions_and_failed_login/finding_and_authenticating_a_user","ex-b87d43":"basic_login/sessions_and_failed_login/finding_and_authenticating_a_user","sec-rendering_with_a_flash_message":"basic_login/sessions_and_failed_login/rendering_with_a_flash_message","code-failed_login_attempt":"basic_login/sessions_and_failed_login/rendering_with_a_flash_message","fig-failed_login_flash":"basic_login/sessions_and_failed_login/rendering_with_a_flash_message","fig-flash_persistence":"basic_login/sessions_and_failed_login/rendering_with_a_flash_message","sec-a_flash_test":"basic_login/sessions_and_failed_login/a_flash_test","code-flash_persistence_test":"basic_login/sessions_and_failed_login/a_flash_test","uid1012":"basic_login/sessions_and_failed_login/a_flash_test","code-correct_login_failure":"basic_login/sessions_and_failed_login/a_flash_test","uid1014":"basic_login/sessions_and_failed_login/a_flash_test","sec-exercises_a_flash_test":"basic_login/sessions_and_failed_login/a_flash_test","ex-2e6353":"basic_login/sessions_and_failed_login/a_flash_test","sec-sessions_and_failed_login":"basic_login/sessions_and_failed_login","cha-8_footnote-ref-1":"basic_login/sessions_and_failed_login","sec-a_working_log_in_method":"basic_login/logging_in/a_working_log_in_method","code-log_in_function":"basic_login/logging_in/a_working_log_in_method","cha-8_footnote-ref-4":"basic_login/logging_in/a_working_log_in_method","code-log_in_success":"basic_login/logging_in/a_working_log_in_method","sec-exercises_a_working_log_in_method":"basic_login/logging_in/a_working_log_in_method","ex-f3b33f":"basic_login/logging_in/a_working_log_in_method","ex-2f4f14":"basic_login/logging_in/a_working_log_in_method","sec-current_user":"basic_login/logging_in/current_user","cha-8_footnote-ref-5":"basic_login/logging_in/current_user","aside-or_equals":"basic_login/logging_in/current_user","code-current_user":"basic_login/logging_in/current_user","sec-exercises_current_user":"basic_login/logging_in/current_user","ex-3b50ae":"basic_login/logging_in/current_user","ex-cdb219":"basic_login/logging_in/current_user","code-console_session_simulation":"basic_login/logging_in/current_user","sec-changing_the_layout_links":"basic_login/logging_in/changing_the_layout_links","cha-8_footnote-ref-6":"basic_login/logging_in/changing_the_layout_links","fig-login_success_mockup":"basic_login/logging_in/changing_the_layout_links","code-logged_in_p":"basic_login/logging_in/changing_the_layout_links","cha-8_footnote-ref-7":"basic_login/logging_in/changing_the_layout_links","code-layout_login_logout_links":"basic_login/logging_in/changing_the_layout_links","cha-8_footnote-ref-8":"basic_login/logging_in/changing_the_layout_links","cha-8_footnote-ref-9":"basic_login/logging_in/changing_the_layout_links","code-bootstrap_js":"basic_login/logging_in/changing_the_layout_links","cha-8_footnote-ref-10":"basic_login/logging_in/changing_the_layout_links","cha-8_footnote-ref-11":"basic_login/logging_in/changing_the_layout_links","fig-profile_with_logout_link":"basic_login/logging_in/changing_the_layout_links","sec-exercises_changing_the_layout_links":"basic_login/logging_in/changing_the_layout_links","ex-86a90a":"basic_login/logging_in/changing_the_layout_links","ex-df67d8":"basic_login/logging_in/changing_the_layout_links","sec-testing_layout_changes":"basic_login/logging_in/testing_layout_changes","code-digest_method":"basic_login/logging_in/testing_layout_changes","cha-8_footnote-ref-12":"basic_login/logging_in/testing_layout_changes","code-real_user_fixture":"basic_login/logging_in/testing_layout_changes","code-user_login_test_valid_information":"basic_login/logging_in/testing_layout_changes","uid1059":"basic_login/logging_in/testing_layout_changes","sec-exercises_testing_layout_changes":"basic_login/logging_in/testing_layout_changes","ex-55faf3":"basic_login/logging_in/testing_layout_changes","ex-2f5db3":"basic_login/logging_in/testing_layout_changes","sec-login_upon_signup":"basic_login/logging_in/login_upon_signup","cha-8_footnote-ref-13":"basic_login/logging_in/login_upon_signup","code-login_upon_signup":"basic_login/logging_in/login_upon_signup","cha-8_footnote-ref-14":"basic_login/logging_in/login_upon_signup","code-test_helper_sessions":"basic_login/logging_in/login_upon_signup","code-login_after_signup_test":"basic_login/logging_in/login_upon_signup","uid1069":"basic_login/logging_in/login_upon_signup","sec-exercises_login_upon_signup":"basic_login/logging_in/login_upon_signup","ex-c5176d":"basic_login/logging_in/login_upon_signup","ex-2ef552":"basic_login/logging_in/login_upon_signup","sec-logging_in":"basic_login/logging_in","cha-8_footnote-ref-3":"basic_login/logging_in","code-sessions_helper_include":"basic_login/logging_in","sec-logging_out":"basic_login/logging_out","cha-8_footnote-ref-15":"basic_login/logging_out","cha-8_footnote-ref-16":"basic_login/logging_out","code-log_out_method":"basic_login/logging_out","code-destroy_session":"basic_login/logging_out","code-user_logout_test":"basic_login/logging_out","uid1078":"basic_login/logging_out","sec-exercises_logging_out":"basic_login/logging_out","ex-0ed3ee":"basic_login/logging_out","ex-9fb8a3":"basic_login/logging_out","sec-basic_login_what_we_learned_in_this_chapter":"basic_login/basic_login_conclusion/basic_login_what_we_learned_in_this_chapter","sec-basic_login_conclusion":"basic_login/basic_login_conclusion","cha-basic_login":"basic_login","cha-8_footnotes":"basic_login","cha-8_footnote-1":"basic_login","cha-8_footnote-2":"basic_login","cha-8_footnote-3":"basic_login","cha-8_footnote-4":"basic_login","cha-8_footnote-5":"basic_login","cha-8_footnote-6":"basic_login","cha-8_footnote-7":"basic_login","cha-8_footnote-8":"basic_login","cha-8_footnote-9":"basic_login","cha-8_footnote-10":"basic_login","cha-8_footnote-11":"basic_login","cha-8_footnote-12":"basic_login","cha-8_footnote-13":"basic_login","cha-8_footnote-14":"basic_login","cha-8_footnote-15":"basic_login","cha-8_footnote-16":"basic_login","sec-remember_token":"advanced_login/remember_me/remember_token","cha-9_footnote-ref-1":"advanced_login/remember_me/remember_token","cha-9_footnote-ref-2":"advanced_login/remember_me/remember_token","fig-user_model_remember_digest":"advanced_login/remember_me/remember_token","code-add_remember_digest_to_users_generated":"advanced_login/remember_me/remember_token","cha-9_footnote-ref-3":"advanced_login/remember_me/remember_token","cha-9_footnote-ref-4":"advanced_login/remember_me/remember_token","cha-9_footnote-ref-5":"advanced_login/remember_me/remember_token","cha-9_footnote-ref-6":"advanced_login/remember_me/remember_token","cha-9_footnote-ref-7":"advanced_login/remember_me/remember_token","code-token_method":"advanced_login/remember_me/remember_token","code-user_model_remember":"advanced_login/remember_me/remember_token","sec-exercises_remember_token":"advanced_login/remember_me/remember_token","ex-edf2eb":"advanced_login/remember_me/remember_token","ex-b22c3e":"advanced_login/remember_me/remember_token","code-token_digest_self":"advanced_login/remember_me/remember_token","code-token_digest_class_self":"advanced_login/remember_me/remember_token","sec-login_with_remembering":"advanced_login/remember_me/login_with_remembering","aside-time_helpers":"advanced_login/remember_me/login_with_remembering","cha-9_footnote-ref-8":"advanced_login/remember_me/login_with_remembering","cha-9_footnote-ref-9":"advanced_login/remember_me/login_with_remembering","code-authenticated_p":"advanced_login/remember_me/login_with_remembering","code-log_in_with_remember":"advanced_login/remember_me/login_with_remembering","code-remember_method":"advanced_login/remember_me/login_with_remembering","cha-9_footnote-ref-10":"advanced_login/remember_me/login_with_remembering","code-persistent_current_user":"advanced_login/remember_me/login_with_remembering","cha-9_footnote-ref-11":"advanced_login/remember_me/login_with_remembering","cha-9_footnote-ref-12":"advanced_login/remember_me/login_with_remembering","fig-cookie_in_browser":"advanced_login/remember_me/login_with_remembering","uid1128":"advanced_login/remember_me/login_with_remembering","sec-exercises_login_with_remembering":"advanced_login/remember_me/login_with_remembering","ex-24db9d":"advanced_login/remember_me/login_with_remembering","ex-b9298f":"advanced_login/remember_me/login_with_remembering","sec-forgetting_users":"advanced_login/remember_me/forgetting_users","code-user_model_forget":"advanced_login/remember_me/forgetting_users","code-log_out_with_forget":"advanced_login/remember_me/forgetting_users","uid1135":"advanced_login/remember_me/forgetting_users","sec-exercises_forgetting_users":"advanced_login/remember_me/forgetting_users","ex-66308a":"advanced_login/remember_me/forgetting_users","sec-two_subtle_bugs":"advanced_login/remember_me/two_subtle_bugs","cha-9_footnote-ref-13":"advanced_login/remember_me/two_subtle_bugs","cha-9_footnote-ref-14":"advanced_login/remember_me/two_subtle_bugs","code-test_double_logout":"advanced_login/remember_me/two_subtle_bugs","uid1142":"advanced_login/remember_me/two_subtle_bugs","code-destroy_forget":"advanced_login/remember_me/two_subtle_bugs","code-test_authenticated_invalid_token":"advanced_login/remember_me/two_subtle_bugs","uid1145":"advanced_login/remember_me/two_subtle_bugs","code-authenticated_p_fixed":"advanced_login/remember_me/two_subtle_bugs","uid1147":"advanced_login/remember_me/two_subtle_bugs","sec-exercises_two_subtle_bugs":"advanced_login/remember_me/two_subtle_bugs","ex-9e210e":"advanced_login/remember_me/two_subtle_bugs","ex-38d59c":"advanced_login/remember_me/two_subtle_bugs","ex-cf8af9":"advanced_login/remember_me/two_subtle_bugs","sec-remember_me":"advanced_login/remember_me","sec-remember_me_checkbox":"advanced_login/remember_me_checkbox","fig-login_remember_me_mockup":"advanced_login/remember_me_checkbox","code-remember_me_checkbox":"advanced_login/remember_me_checkbox","code-remember_me_css":"advanced_login/remember_me_checkbox","fig-login_form_remember_me":"advanced_login/remember_me_checkbox","cha-9_footnote-ref-15":"advanced_login/remember_me_checkbox","cha-9_footnote-ref-16":"advanced_login/remember_me_checkbox","code-remember_me_ternary":"advanced_login/remember_me_checkbox","aside-ternary_operator":"advanced_login/remember_me_checkbox","sec-exercises_remember_me":"advanced_login/remember_me_checkbox","ex-0c1e96":"advanced_login/remember_me_checkbox","ex-63ac73":"advanced_login/remember_me_checkbox","sec-testing_the_remember_me_box":"advanced_login/remember_tests/testing_the_remember_me_box","code-test_helper_log_in":"advanced_login/remember_tests/testing_the_remember_me_box","code-remember_me_test":"advanced_login/remember_tests/testing_the_remember_me_box","uid1166":"advanced_login/remember_tests/testing_the_remember_me_box","sec-exercises_testing_the_remember_me_box":"advanced_login/remember_tests/testing_the_remember_me_box","ex-4c19e7":"advanced_login/remember_tests/testing_the_remember_me_box","code-login_create_user_instance":"advanced_login/remember_tests/testing_the_remember_me_box","code-improved_remember_me_test":"advanced_login/remember_tests/testing_the_remember_me_box","sec-testing_the_remember_branch":"advanced_login/remember_tests/testing_the_remember_branch","code-branch_raise":"advanced_login/remember_tests/testing_the_remember_branch","uid1173":"advanced_login/remember_tests/testing_the_remember_branch","code-persistent_sessions_test":"advanced_login/remember_tests/testing_the_remember_branch","uid1178":"advanced_login/remember_tests/testing_the_remember_branch","code-branch_no_raise":"advanced_login/remember_tests/testing_the_remember_branch","uid1180":"advanced_login/remember_tests/testing_the_remember_branch","sec-exercises_testing_the_remember_branch":"advanced_login/remember_tests/testing_the_remember_branch","ex-35a6a6":"advanced_login/remember_tests/testing_the_remember_branch","sec-remember_tests":"advanced_login/remember_tests","sec-advanced_login_what_we_learned_in_this_chapter":"advanced_login/advanced_login_conclusion/advanced_login_what_we_learned_in_this_chapter","sec-advanced_login_conclusion":"advanced_login/advanced_login_conclusion","cha-advanced_login":"advanced_login","cha-9_footnotes":"advanced_login","cha-9_footnote-1":"advanced_login","cha-9_footnote-2":"advanced_login","cha-9_footnote-3":"advanced_login","cha-9_footnote-4":"advanced_login","cha-9_footnote-5":"advanced_login","cha-9_footnote-6":"advanced_login","cha-9_footnote-7":"advanced_login","cha-9_footnote-8":"advanced_login","cha-9_footnote-9":"advanced_login","cha-9_footnote-10":"advanced_login","cha-9_footnote-11":"advanced_login","cha-9_footnote-12":"advanced_login","cha-9_footnote-13":"advanced_login","cha-9_footnote-14":"advanced_login","cha-9_footnote-15":"advanced_login","cha-9_footnote-16":"advanced_login","sec-edit_form":"updating_and_deleting_users/updating_users/edit_form","cha-10_footnote-ref-1":"updating_and_deleting_users/updating_users/edit_form","fig-edit_user_mockup":"updating_and_deleting_users/updating_users/edit_form","code-initial_edit_action":"updating_and_deleting_users/updating_users/edit_form","code-user_edit_view":"updating_and_deleting_users/updating_users/edit_form","fig-edit_page":"updating_and_deleting_users/updating_users/edit_form","code-edit_form_html":"updating_and_deleting_users/updating_users/edit_form","cha-10_footnote-ref-2":"updating_and_deleting_users/updating_users/edit_form","code-settings_link":"updating_and_deleting_users/updating_users/edit_form","sec-exercises_edit_form":"updating_and_deleting_users/updating_users/edit_form","ex-33137d":"updating_and_deleting_users/updating_users/edit_form","cha-10_footnote-ref-3":"updating_and_deleting_users/updating_users/edit_form","ex-3ebe17":"updating_and_deleting_users/updating_users/edit_form","code-new_edit_partial":"updating_and_deleting_users/updating_users/edit_form","code-new_user_with_partial":"updating_and_deleting_users/updating_users/edit_form","code-edit_user_with_partial":"updating_and_deleting_users/updating_users/edit_form","sec-unsuccessful_edits":"updating_and_deleting_users/updating_users/unsuccessful_edits","code-user_update_action_unsuccessful":"updating_and_deleting_users/updating_users/unsuccessful_edits","fig-buggy_edit_with_invalid_information":"updating_and_deleting_users/updating_users/unsuccessful_edits","sec-exercises_unssuccessful_edits":"updating_and_deleting_users/updating_users/unsuccessful_edits","ex-1e592f":"updating_and_deleting_users/updating_users/unsuccessful_edits","sec-testing_unsuccessful_edits":"updating_and_deleting_users/updating_users/testing_unsuccessful_edits","code-unsuccessful_edit_test":"updating_and_deleting_users/updating_users/testing_unsuccessful_edits","uid1213":"updating_and_deleting_users/updating_users/testing_unsuccessful_edits","sec-exercises_testing_unsuccessful_edits":"updating_and_deleting_users/updating_users/testing_unsuccessful_edits","ex-faa5fa":"updating_and_deleting_users/updating_users/testing_unsuccessful_edits","sec-successful_edits":"updating_and_deleting_users/updating_users/successful_edits","fig-gravatar_cropper":"updating_and_deleting_users/updating_users/successful_edits","code-successful_edit_test":"updating_and_deleting_users/updating_users/successful_edits","code-user_update_action":"updating_and_deleting_users/updating_users/successful_edits","code-allow_blank_password":"updating_and_deleting_users/updating_users/successful_edits","uid1221":"updating_and_deleting_users/updating_users/successful_edits","fig-edit_form_working":"updating_and_deleting_users/updating_users/successful_edits","sec-exercises_enabling_edits":"updating_and_deleting_users/updating_users/successful_edits","ex-b12fb2":"updating_and_deleting_users/updating_users/successful_edits","ex-05aa0f":"updating_and_deleting_users/updating_users/successful_edits","sec-updating_users":"updating_and_deleting_users/updating_users","sec-requiring_logged_in_users":"updating_and_deleting_users/authorization/requiring_logged_in_users","cha-10_footnote-ref-4":"updating_and_deleting_users/authorization/requiring_logged_in_users","code-authorize_before_filter":"updating_and_deleting_users/authorization/requiring_logged_in_users","fig-protected_log_in":"updating_and_deleting_users/authorization/requiring_logged_in_users","uid1231":"updating_and_deleting_users/authorization/requiring_logged_in_users","code-edit_tests_logged_in":"updating_and_deleting_users/authorization/requiring_logged_in_users","uid1233":"updating_and_deleting_users/authorization/requiring_logged_in_users","code-commented_out_before_filter":"updating_and_deleting_users/authorization/requiring_logged_in_users","code-edit_update_redirect_tests":"updating_and_deleting_users/authorization/requiring_logged_in_users","code-uncommented_before_filter":"updating_and_deleting_users/authorization/requiring_logged_in_users","uid1237":"updating_and_deleting_users/authorization/requiring_logged_in_users","sec-exercises_requiring_logged_in_users":"updating_and_deleting_users/authorization/requiring_logged_in_users","ex-5d0fb5":"updating_and_deleting_users/authorization/requiring_logged_in_users","sec-requiring_the_right_user":"updating_and_deleting_users/authorization/requiring_the_right_user","code-fixture_second_user":"updating_and_deleting_users/authorization/requiring_the_right_user","code-edit_update_wrong_user_tests":"updating_and_deleting_users/authorization/requiring_the_right_user","code-correct_user_before_filter":"updating_and_deleting_users/authorization/requiring_the_right_user","uid1244":"updating_and_deleting_users/authorization/requiring_the_right_user","code-current_user_p":"updating_and_deleting_users/authorization/requiring_the_right_user","code-correct_user_before_filter_boolean":"updating_and_deleting_users/authorization/requiring_the_right_user","sec-exercises_requiring_the_right_user":"updating_and_deleting_users/authorization/requiring_the_right_user","ex-c0afd2":"updating_and_deleting_users/authorization/requiring_the_right_user","ex-5f2a07":"updating_and_deleting_users/authorization/requiring_the_right_user","sec-friendly_forwarding":"updating_and_deleting_users/authorization/friendly_forwarding","code-friendly_forwarding_test":"updating_and_deleting_users/authorization/friendly_forwarding","cha-10_footnote-ref-5":"updating_and_deleting_users/authorization/friendly_forwarding","code-friendly_forwarding_code":"updating_and_deleting_users/authorization/friendly_forwarding","cha-10_footnote-ref-6":"updating_and_deleting_users/authorization/friendly_forwarding","code-add_store_location":"updating_and_deleting_users/authorization/friendly_forwarding","code-friendly_session_create":"updating_and_deleting_users/authorization/friendly_forwarding","uid1257":"updating_and_deleting_users/authorization/friendly_forwarding","sec-exercises_friendly_forwarding":"updating_and_deleting_users/authorization/friendly_forwarding","ex-6ae96b":"updating_and_deleting_users/authorization/friendly_forwarding","ex-3a6af3":"updating_and_deleting_users/authorization/friendly_forwarding","sec-authorization":"updating_and_deleting_users/authorization","fig-login_page_protected_mockup":"updating_and_deleting_users/authorization","sec-users_index":"updating_and_deleting_users/showing_all_users/users_index","cha-10_footnote-ref-8":"updating_and_deleting_users/showing_all_users/users_index","code-index_action_redirected_test":"updating_and_deleting_users/showing_all_users/users_index","code-logged_in_user_index":"updating_and_deleting_users/showing_all_users/users_index","code-user_index":"updating_and_deleting_users/showing_all_users/users_index","code-user_index_view":"updating_and_deleting_users/showing_all_users/users_index","code-gravatar_option_redux":"updating_and_deleting_users/showing_all_users/users_index","code-user_index_css":"updating_and_deleting_users/showing_all_users/users_index","code-users_link":"updating_and_deleting_users/showing_all_users/users_index","uid1272":"updating_and_deleting_users/showing_all_users/users_index","fig-user_index_only_one":"updating_and_deleting_users/showing_all_users/users_index","sec-exercises_user_index":"updating_and_deleting_users/showing_all_users/users_index","ex-143f12":"updating_and_deleting_users/showing_all_users/users_index","sec-sample_users":"updating_and_deleting_users/showing_all_users/sample_users","cha-10_footnote-ref-9":"updating_and_deleting_users/showing_all_users/sample_users","code-faker_gemfile":"updating_and_deleting_users/showing_all_users/sample_users","code-db_seed":"updating_and_deleting_users/showing_all_users/sample_users","cha-10_footnote-ref-10":"updating_and_deleting_users/showing_all_users/sample_users","fig-user_index_all":"updating_and_deleting_users/showing_all_users/sample_users","sec-exercises_sample_users":"updating_and_deleting_users/showing_all_users/sample_users","ex-41e0bf":"updating_and_deleting_users/showing_all_users/sample_users","sec-pagination":"updating_and_deleting_users/showing_all_users/pagination","cha-10_footnote-ref-11":"updating_and_deleting_users/showing_all_users/pagination","code-will_paginate_gem":"updating_and_deleting_users/showing_all_users/pagination","code-will_paginate_index_view":"updating_and_deleting_users/showing_all_users/pagination","code-will_paginate_index_action":"updating_and_deleting_users/showing_all_users/pagination","fig-user_index_pagination":"updating_and_deleting_users/showing_all_users/pagination","fig-user_index_page_two_rails_3":"updating_and_deleting_users/showing_all_users/pagination","sec-exercises_pagination":"updating_and_deleting_users/showing_all_users/pagination","ex-35d060":"updating_and_deleting_users/showing_all_users/pagination","ex-05e085":"updating_and_deleting_users/showing_all_users/pagination","sec-users_index_test":"updating_and_deleting_users/showing_all_users/users_index_test","code-users_fixtures_extra_users":"updating_and_deleting_users/showing_all_users/users_index_test","code-user_index_test":"updating_and_deleting_users/showing_all_users/users_index_test","uid1297":"updating_and_deleting_users/showing_all_users/users_index_test","sec-exercises_user_index_test":"updating_and_deleting_users/showing_all_users/users_index_test","ex-874ecc":"updating_and_deleting_users/showing_all_users/users_index_test","ex-8edf5d":"updating_and_deleting_users/showing_all_users/users_index_test","sec-partial_refactoring":"updating_and_deleting_users/showing_all_users/partial_refactoring","code-index_view_first_refactoring":"updating_and_deleting_users/showing_all_users/partial_refactoring","cha-10_footnote-ref-12":"updating_and_deleting_users/showing_all_users/partial_refactoring","code-user_partial":"updating_and_deleting_users/showing_all_users/partial_refactoring","code-index_final_refactoring":"updating_and_deleting_users/showing_all_users/partial_refactoring","uid1306":"updating_and_deleting_users/showing_all_users/partial_refactoring","sec-exercises_partial_refactoring":"updating_and_deleting_users/showing_all_users/partial_refactoring","ex-d0d59d":"updating_and_deleting_users/showing_all_users/partial_refactoring","sec-showing_all_users":"updating_and_deleting_users/showing_all_users","cha-10_footnote-ref-7":"updating_and_deleting_users/showing_all_users","fig-user_index_mockup":"updating_and_deleting_users/showing_all_users","sec-administrative_users":"updating_and_deleting_users/deleting_users/administrative_users","fig-user_model_admin":"updating_and_deleting_users/deleting_users/administrative_users","code-admin_migration":"updating_and_deleting_users/deleting_users/administrative_users","code-populator_with_admin":"updating_and_deleting_users/deleting_users/administrative_users","sec-revisiting_strong_parameters":"updating_and_deleting_users/deleting_users/administrative_users","cha-10_footnote-ref-13":"updating_and_deleting_users/deleting_users/administrative_users","sec-exercises_administrative_users":"updating_and_deleting_users/deleting_users/administrative_users","ex-11d303":"updating_and_deleting_users/deleting_users/administrative_users","code-forbidden_admin_test":"updating_and_deleting_users/deleting_users/administrative_users","sec-the_destroy_action":"updating_and_deleting_users/deleting_users/the_destroy_action","code-delete_links":"updating_and_deleting_users/deleting_users/the_destroy_action","cha-10_footnote-ref-14":"updating_and_deleting_users/deleting_users/the_destroy_action","fig-index_delete_links_rails_3":"updating_and_deleting_users/deleting_users/the_destroy_action","code-destroy_action":"updating_and_deleting_users/deleting_users/the_destroy_action","code-admin_destroy_before_filter":"updating_and_deleting_users/deleting_users/the_destroy_action","sec-exercises_the_destroy_action":"updating_and_deleting_users/deleting_users/the_destroy_action","ex-6dd2ae":"updating_and_deleting_users/deleting_users/the_destroy_action","sec-user_destroy_tests":"updating_and_deleting_users/deleting_users/user_destroy_tests","code-fixture_user_admin":"updating_and_deleting_users/deleting_users/user_destroy_tests","code-action_tests_admin":"updating_and_deleting_users/deleting_users/user_destroy_tests","code-delete_link_integration_test":"updating_and_deleting_users/deleting_users/user_destroy_tests","uid1331":"updating_and_deleting_users/deleting_users/user_destroy_tests","sec-exercises_user_destroy_tests":"updating_and_deleting_users/deleting_users/user_destroy_tests","ex-1069ae":"updating_and_deleting_users/deleting_users/user_destroy_tests","sec-deleting_users":"updating_and_deleting_users/deleting_users","fig-user_index_delete_links_mockup":"updating_and_deleting_users/deleting_users","sec-updating_what_we_learned_in_this_chapter":"updating_and_deleting_users/updating_and_deleting_users_conclusion/updating_what_we_learned_in_this_chapter","sec-updating_and_deleting_users_conclusion":"updating_and_deleting_users/updating_and_deleting_users_conclusion","fig-heroku_sample_users":"updating_and_deleting_users/updating_and_deleting_users_conclusion","cha-updating_showing_and_deleting_users":"updating_and_deleting_users","cha-10_footnotes":"updating_and_deleting_users","cha-10_footnote-1":"updating_and_deleting_users","cha-10_footnote-2":"updating_and_deleting_users","cha-10_footnote-3":"updating_and_deleting_users","cha-10_footnote-4":"updating_and_deleting_users","cha-10_footnote-5":"updating_and_deleting_users","cha-10_footnote-6":"updating_and_deleting_users","cha-10_footnote-7":"updating_and_deleting_users","cha-10_footnote-8":"updating_and_deleting_users","cha-10_footnote-9":"updating_and_deleting_users","cha-10_footnote-10":"updating_and_deleting_users","cha-10_footnote-11":"updating_and_deleting_users","cha-10_footnote-12":"updating_and_deleting_users","cha-10_footnote-13":"updating_and_deleting_users","cha-10_footnote-14":"updating_and_deleting_users","sec-account_activations_controller":"account_activation/account_activations_resource/account_activations_controller","cha-11_footnote-ref-4":"account_activation/account_activations_resource/account_activations_controller","code-account_activations_route":"account_activation/account_activations_resource/account_activations_controller","table-RESTful_account_activations":"account_activation/account_activations_resource/account_activations_controller","sec-exercises_account_activations_controller":"account_activation/account_activations_resource/account_activations_controller","ex-4955e7":"account_activation/account_activations_resource/account_activations_controller","ex-a02b35":"account_activation/account_activations_resource/account_activations_controller","sec-account_activation_data_model":"account_activation/account_activations_resource/account_activation_data_model","cha-11_footnote-ref-5":"account_activation/account_activations_resource/account_activation_data_model","fig-user_model_account_activation":"account_activation/account_activations_resource/account_activation_data_model","code-add_activation_to_users_migration":"account_activation/account_activations_resource/account_activation_data_model","sec-activation_token_callback":"account_activation/account_activations_resource/account_activation_data_model","code-user_model_activation_code":"account_activation/account_activations_resource/account_activation_data_model","sec-seed_and_fixture_users":"account_activation/account_activations_resource/account_activation_data_model","code-seed_users_activated":"account_activation/account_activations_resource/account_activation_data_model","code-fixture_users_activated":"account_activation/account_activations_resource/account_activation_data_model","sec-exercises_account_activation_data_model":"account_activation/account_activations_resource/account_activation_data_model","ex-e1cdee":"account_activation/account_activations_resource/account_activation_data_model","ex-09d340":"account_activation/account_activations_resource/account_activation_data_model","ex-ffb351":"account_activation/account_activations_resource/account_activation_data_model","sec-account_activations_resource":"account_activation/account_activations_resource","sec-mailer_templates":"account_activation/account_activation_emails/mailer_templates","code-generate_user_mailer":"account_activation/account_activation_emails/mailer_templates","code-generated_account_activation_view_text":"account_activation/account_activation_emails/mailer_templates","code-generated_account_activation_view_html":"account_activation/account_activation_emails/mailer_templates","code-generated_application_mailer":"account_activation/account_activation_emails/mailer_templates","code-generated_user_mailer":"account_activation/account_activation_emails/mailer_templates","code-application_mailer":"account_activation/account_activation_emails/mailer_templates","code-mail_account_activation":"account_activation/account_activation_emails/mailer_templates","cha-11_footnote-ref-6":"account_activation/account_activation_emails/mailer_templates","code-account_activation_view_text":"account_activation/account_activation_emails/mailer_templates","code-account_activation_view_html":"account_activation/account_activation_emails/mailer_templates","sec-exercises_mailer_templates":"account_activation/account_activation_emails/mailer_templates","ex-bb787b":"account_activation/account_activation_emails/mailer_templates","code-cgi_escape":"account_activation/account_activation_emails/mailer_templates","sec-email_previews":"account_activation/account_activation_emails/email_previews","code-development_email_settings":"account_activation/account_activation_emails/email_previews","code-generated_user_mailer_previews":"account_activation/account_activation_emails/email_previews","code-account_activation_preview":"account_activation/account_activation_emails/email_previews","fig-account_activation_html_preview":"account_activation/account_activation_emails/email_previews","fig-account_activation_text_preview":"account_activation/account_activation_emails/email_previews","sec-exercises_email_previews":"account_activation/account_activation_emails/email_previews","ex-be4a4e":"account_activation/account_activation_emails/email_previews","sec-email_tests":"account_activation/account_activation_emails/email_tests","code-generated_user_mailer_test":"account_activation/account_activation_emails/email_tests","cha-11_footnote-ref-7":"account_activation/account_activation_emails/email_tests","code-real_account_activation_test":"account_activation/account_activation_emails/email_tests","code-test_domain_host":"account_activation/account_activation_emails/email_tests","uid1404":"account_activation/account_activation_emails/email_tests","sec-exercises_email_tests":"account_activation/account_activation_emails/email_tests","ex-b429e6":"account_activation/account_activation_emails/email_tests","ex-9ed121":"account_activation/account_activation_emails/email_tests","sec-updating_create":"account_activation/account_activation_emails/updating_create","code-user_signup_with_account_activation":"account_activation/account_activation_emails/updating_create","code-comment_out_failing_tests":"account_activation/account_activation_emails/updating_create","code-account_activation_email":"account_activation/account_activation_emails/updating_create","fig-redirected_not_activated":"account_activation/account_activation_emails/updating_create","sec-exercises_updating_create":"account_activation/account_activation_emails/updating_create","ex-f1397e":"account_activation/account_activation_emails/updating_create","ex-0e32b6":"account_activation/account_activation_emails/updating_create","sec-account_activation_emails":"account_activation/account_activation_emails","sec-generalizing_the_authenticated_method":"account_activation/activating_the_account/generalizing_the_authenticated_method","code-generalized_authenticated_p":"account_activation/activating_the_account/generalizing_the_authenticated_method","uid1418":"account_activation/activating_the_account/generalizing_the_authenticated_method","code-generalized_current_user":"account_activation/activating_the_account/generalizing_the_authenticated_method","code-test_authenticated_invalid_token_updated":"account_activation/activating_the_account/generalizing_the_authenticated_method","uid1421":"account_activation/activating_the_account/generalizing_the_authenticated_method","sec-exercises_generalizing_the_authenticated_method":"account_activation/activating_the_account/generalizing_the_authenticated_method","ex-6fc4f1":"account_activation/activating_the_account/generalizing_the_authenticated_method","ex-fdc50d":"account_activation/activating_the_account/generalizing_the_authenticated_method","sec-activation_edit_action":"account_activation/activating_the_account/activation_edit_action","cha-11_footnote-ref-8":"account_activation/activating_the_account/activation_edit_action","code-account_activation_edit_action":"account_activation/activating_the_account/activation_edit_action","fig-activated_user":"account_activation/activating_the_account/activation_edit_action","code-preventing_unactivated_logins":"account_activation/activating_the_account/activation_edit_action","fig-not_activated_warning":"account_activation/activating_the_account/activation_edit_action","sec-exercises_activation_edit_action":"account_activation/activating_the_account/activation_edit_action","ex-5595f3":"account_activation/activating_the_account/activation_edit_action","ex-32e5f6":"account_activation/activating_the_account/activation_edit_action","sec-activation_test_and_refactoring":"account_activation/activating_the_account/activation_test_and_refactoring","code-signup_with_account_activation_test":"account_activation/activating_the_account/activation_test_and_refactoring","uid1436":"account_activation/activating_the_account/activation_test_and_refactoring","code-user_activation_methods":"account_activation/activating_the_account/activation_test_and_refactoring","code-user_signup_refactored":"account_activation/activating_the_account/activation_test_and_refactoring","code-account_activation_refactored":"account_activation/activating_the_account/activation_test_and_refactoring","uid1440":"account_activation/activating_the_account/activation_test_and_refactoring","sec-exercises_activation_test_and_refactoring":"account_activation/activating_the_account/activation_test_and_refactoring","ex-be2f50":"account_activation/activating_the_account/activation_test_and_refactoring","cha-11_footnote-ref-9":"account_activation/activating_the_account/activation_test_and_refactoring","ex-6dc5ff":"account_activation/activating_the_account/activation_test_and_refactoring","ex-935d6f":"account_activation/activating_the_account/activation_test_and_refactoring","code-update_columns":"account_activation/activating_the_account/activation_test_and_refactoring","code-show_only_active_users_exercise":"account_activation/activating_the_account/activation_test_and_refactoring","sec-activating_the_account":"account_activation/activating_the_account","sec-activation_email_in_production":"account_activation/activation_email_in_production","code-sendgrid_config":"account_activation/activation_email_in_production","fig-activation_email_production":"account_activation/activation_email_in_production","fig-activated_in_production":"account_activation/activation_email_in_production","sec-exercises_activation_email_in_production":"account_activation/activation_email_in_production","ex-010ba6":"account_activation/activation_email_in_production","ex-8b6970":"account_activation/activation_email_in_production","sec-activation_what_we_learned_in_this_chapter":"account_activation/activation_conclusion/activation_what_we_learned_in_this_chapter","sec-activation_conclusion":"account_activation/activation_conclusion","cha-account_activation":"account_activation","cha-11_footnote-ref-1":"account_activation","cha-11_footnote-ref-2":"account_activation","cha-11_footnote-ref-3":"account_activation","table-password_token_digest":"account_activation","cha-11_footnotes":"account_activation","cha-11_footnote-1":"account_activation","cha-11_footnote-2":"account_activation","cha-11_footnote-3":"account_activation","cha-11_footnote-4":"account_activation","cha-11_footnote-5":"account_activation","cha-11_footnote-6":"account_activation","cha-11_footnote-7":"account_activation","cha-11_footnote-8":"account_activation","cha-11_footnote-9":"account_activation","sec-password_resets_controller":"password_reset/password_resets_resource/password_resets_controller","code-password_resets_resource":"password_reset/password_resets_resource/password_resets_controller","table-RESTful_password_resets":"password_reset/password_resets_resource/password_resets_controller","code-log_in_password_reset":"password_reset/password_resets_resource/password_resets_controller","fig-forgot_password_link":"password_reset/password_resets_resource/password_resets_controller","sec-exercises_password_resets_controller":"password_reset/password_resets_resource/password_resets_controller","ex-4d9267":"password_reset/password_resets_resource/password_resets_controller","ex-17b50e":"password_reset/password_resets_resource/password_resets_controller","sec-new_password_resets":"password_reset/password_resets_resource/new_password_resets","fig-user_model_password_reset":"password_reset/password_resets_resource/new_password_resets","code-login_form_redux":"password_reset/password_resets_resource/new_password_resets","code-new_password_reset":"password_reset/password_resets_resource/new_password_resets","fig-forgot_password_form":"password_reset/password_resets_resource/new_password_resets","sec-exercises_new_password_resets":"password_reset/password_resets_resource/new_password_resets","ex-3421f4":"password_reset/password_resets_resource/new_password_resets","sec-password_reset_create_action":"password_reset/password_resets_resource/password_reset_create_action","cha-12_footnote-ref-2":"password_reset/password_resets_resource/password_reset_create_action","code-create_password_reset":"password_reset/password_resets_resource/password_reset_create_action","code-user_model_password_reset":"password_reset/password_resets_resource/password_reset_create_action","fig-invalid_email_password_reset":"password_reset/password_resets_resource/password_reset_create_action","sec-exercises_password_reset_create_action":"password_reset/password_resets_resource/password_reset_create_action","ex-2f9a24":"password_reset/password_resets_resource/password_reset_create_action","ex-6eac27":"password_reset/password_resets_resource/password_reset_create_action","sec-password_resets_resource":"password_reset/password_resets_resource","sec-password_reset_mailer":"password_reset/password_reset_emails/password_reset_mailer","code-mail_password_reset":"password_reset/password_reset_emails/password_reset_mailer","code-password_reset_text":"password_reset/password_reset_emails/password_reset_mailer","code-password_reset_html":"password_reset/password_reset_emails/password_reset_mailer","code-password_reset_preview":"password_reset/password_reset_emails/password_reset_mailer","fig-password_reset_html_preview":"password_reset/password_reset_emails/password_reset_mailer","fig-password_reset_text_preview":"password_reset/password_reset_emails/password_reset_mailer","fig-valid_email_password_reset":"password_reset/password_reset_emails/password_reset_mailer","code-password_reset_email":"password_reset/password_reset_emails/password_reset_mailer","sec-exercises_password_reset_mailer":"password_reset/password_reset_emails/password_reset_mailer","ex-eafd2c":"password_reset/password_reset_emails/password_reset_mailer","ex-2da441":"password_reset/password_reset_emails/password_reset_mailer","ex-e45e7a":"password_reset/password_reset_emails/password_reset_mailer","sec-reset_email_tests":"password_reset/password_reset_emails/reset_email_tests","code-password_reset_mailer_test":"password_reset/password_reset_emails/reset_email_tests","uid1510":"password_reset/password_reset_emails/reset_email_tests","sec-exercises_reset_email_tests":"password_reset/password_reset_emails/reset_email_tests","ex-902b57":"password_reset/password_reset_emails/reset_email_tests","ex-ff6506":"password_reset/password_reset_emails/reset_email_tests","sec-password_reset_emails":"password_reset/password_reset_emails","sec-reset_edit_action":"password_reset/resetting_the_password/reset_edit_action","code-password_reset_form":"password_reset/resetting_the_password/reset_edit_action","code-password_reset_edit_action":"password_reset/resetting_the_password/reset_edit_action","fig-password_reset_form":"password_reset/resetting_the_password/reset_edit_action","sec-exercises_reset_edit_action":"password_reset/resetting_the_password/reset_edit_action","ex-d39746":"password_reset/resetting_the_password/reset_edit_action","ex-fdabd9":"password_reset/resetting_the_password/reset_edit_action","sec-updating_the_reset":"password_reset/resetting_the_password/updating_the_reset","cha-12_footnote-ref-3":"password_reset/resetting_the_password/updating_the_reset","cha-12_footnote-ref-4":"password_reset/resetting_the_password/updating_the_reset","code-password_reset_update_action":"password_reset/resetting_the_password/updating_the_reset","code-user_model_password_reset_expired":"password_reset/resetting_the_password/updating_the_reset","fig-password_reset_failure":"password_reset/resetting_the_password/updating_the_reset","fig-password_reset_success":"password_reset/resetting_the_password/updating_the_reset","sec-exercises_updating_the_reset":"password_reset/resetting_the_password/updating_the_reset","ex-a3e543":"password_reset/resetting_the_password/updating_the_reset","ex-140f50":"password_reset/resetting_the_password/updating_the_reset","sec-password_reset_test":"password_reset/resetting_the_password/password_reset_test","code-password_reset_integration_test":"password_reset/resetting_the_password/password_reset_test","uid1537":"password_reset/resetting_the_password/password_reset_test","sec-exercises_password_reset_test":"password_reset/resetting_the_password/password_reset_test","ex-697d08":"password_reset/resetting_the_password/password_reset_test","ex-06cd0f":"password_reset/resetting_the_password/password_reset_test","cha-12_footnote-ref-5":"password_reset/resetting_the_password/password_reset_test","ex-680ffb":"password_reset/resetting_the_password/password_reset_test","ex-52ff2f":"password_reset/resetting_the_password/password_reset_test","code-update_columns_redux":"password_reset/resetting_the_password/password_reset_test","code-password_reset_expire_test":"password_reset/resetting_the_password/password_reset_test","code-update_clear_reset":"password_reset/resetting_the_password/password_reset_test","sec-resetting_the_password":"password_reset/resetting_the_password","sec-reset_email_in_production":"password_reset/reset_email_in_production","code-sendgrid_config_redux":"password_reset/reset_email_in_production","code-merge_password_reset":"password_reset/reset_email_in_production","fig-reset_email_production":"password_reset/reset_email_in_production","sec-exercises_reset_email_in_production":"password_reset/reset_email_in_production","ex-6c5c45":"password_reset/reset_email_in_production","ex-59f9aa":"password_reset/reset_email_in_production","ex-f449af":"password_reset/reset_email_in_production","sec-activation_resets_what_we_learned_in_this_chapter":"password_reset/resets_conclusion/activation_resets_what_we_learned_in_this_chapter","sec-resets_conclusion":"password_reset/resets_conclusion","sec-expiration_proof":"password_reset/expiration_proof","cha-12_footnote-ref-6":"password_reset/expiration_proof","eq-time_delta":"password_reset/expiration_proof","eq-delta_p":"password_reset/expiration_proof","eq-delta_e":"password_reset/expiration_proof","eq-time_comparison":"password_reset/expiration_proof","cha-password_reset":"password_reset","cha-12_footnote-ref-1":"password_reset","fig-login_forgot_password_mockup":"password_reset","fig-forgot_password_form_mockup":"password_reset","fig-reset_password_form_mockup":"password_reset","cha-12_footnotes":"password_reset","cha-12_footnote-1":"password_reset","cha-12_footnote-2":"password_reset","cha-12_footnote-3":"password_reset","cha-12_footnote-4":"password_reset","cha-12_footnote-5":"password_reset","cha-12_footnote-6":"password_reset","sec-the_basic_model":"user_microposts/a_micropost_model/the_basic_model","fig-micropost_model":"user_microposts/a_micropost_model/the_basic_model","cha-13_footnote-ref-2":"user_microposts/a_micropost_model/the_basic_model","code-generate_micropost_model":"user_microposts/a_micropost_model/the_basic_model","code-micropost_model":"user_microposts/a_micropost_model/the_basic_model","cha-13_footnote-ref-3":"user_microposts/a_micropost_model/the_basic_model","code-micropost_migration":"user_microposts/a_micropost_model/the_basic_model","sec-exercises_the_basic_model":"user_microposts/a_micropost_model/the_basic_model","ex-e34987":"user_microposts/a_micropost_model/the_basic_model","ex-4d1441":"user_microposts/a_micropost_model/the_basic_model","ex-7d471e":"user_microposts/a_micropost_model/the_basic_model","sec-micropost_validations":"user_microposts/a_micropost_model/micropost_validations","code-micropost_validity_test":"user_microposts/a_micropost_model/micropost_validations","code-micropost_user_id_validation":"user_microposts/a_micropost_model/micropost_validations","uid1583":"user_microposts/a_micropost_model/micropost_validations","code-micropost_validations_tests":"user_microposts/a_micropost_model/micropost_validations","code-micropost_validations":"user_microposts/a_micropost_model/micropost_validations","uid1586":"user_microposts/a_micropost_model/micropost_validations","sec-exercises_micropost_validations":"user_microposts/a_micropost_model/micropost_validations","ex-0b976b":"user_microposts/a_micropost_model/micropost_validations","ex-9e9f2b":"user_microposts/a_micropost_model/micropost_validations","sec-user_micropost_associations":"user_microposts/a_micropost_model/user_micropost_associations","fig-micropost_belongs_to_user":"user_microposts/a_micropost_model/user_micropost_associations","fig-user_has_many_microposts":"user_microposts/a_micropost_model/user_micropost_associations","table-association_methods":"user_microposts/a_micropost_model/user_micropost_associations","code-micropost_belongs_to_user":"user_microposts/a_micropost_model/user_micropost_associations","code-user_has_many_microposts":"user_microposts/a_micropost_model/user_micropost_associations","code-micropost_validity_test_idiomatic":"user_microposts/a_micropost_model/user_micropost_associations","uid1597":"user_microposts/a_micropost_model/user_micropost_associations","sec-exercises_user_micropost_associations":"user_microposts/a_micropost_model/user_micropost_associations","ex-e4a0bb":"user_microposts/a_micropost_model/user_micropost_associations","ex-481476":"user_microposts/a_micropost_model/user_micropost_associations","ex-90cee5":"user_microposts/a_micropost_model/user_micropost_associations","sec-ordering_and_dependency":"user_microposts/a_micropost_model/ordering_and_dependency","sec-default_scope":"user_microposts/a_micropost_model/ordering_and_dependency","cha-13_footnote-ref-4":"user_microposts/a_micropost_model/ordering_and_dependency","code-micropost_order_test":"user_microposts/a_micropost_model/ordering_and_dependency","code-micropost_fixtures":"user_microposts/a_micropost_model/ordering_and_dependency","uid1607":"user_microposts/a_micropost_model/ordering_and_dependency","cha-13_footnote-ref-5":"user_microposts/a_micropost_model/ordering_and_dependency","code-micropost_ordering":"user_microposts/a_micropost_model/ordering_and_dependency","uid1610":"user_microposts/a_micropost_model/ordering_and_dependency","sec-dependent_destroy":"user_microposts/a_micropost_model/ordering_and_dependency","code-micropost_dependency":"user_microposts/a_micropost_model/ordering_and_dependency","code-dependent_destroy_test":"user_microposts/a_micropost_model/ordering_and_dependency","uid1614":"user_microposts/a_micropost_model/ordering_and_dependency","sec-exercises_ordering_and_dependency":"user_microposts/a_micropost_model/ordering_and_dependency","ex-3816f5":"user_microposts/a_micropost_model/ordering_and_dependency","ex-e34fbc":"user_microposts/a_micropost_model/ordering_and_dependency","ex-ec2e6b":"user_microposts/a_micropost_model/ordering_and_dependency","sec-a_micropost_model":"user_microposts/a_micropost_model","sec-rendering_microposts":"user_microposts/showing_microposts/rendering_microposts","code-micropost_partial":"user_microposts/showing_microposts/rendering_microposts","code-user_show_microposts_instance":"user_microposts/showing_microposts/rendering_microposts","code-user_show_microposts":"user_microposts/showing_microposts/rendering_microposts","fig-user_profile_no_microposts":"user_microposts/showing_microposts/rendering_microposts","sec-exercises_rendering_microposts":"user_microposts/showing_microposts/rendering_microposts","ex-15ca47":"user_microposts/showing_microposts/rendering_microposts","ex-df8fbd":"user_microposts/showing_microposts/rendering_microposts","sec-sample_microposts":"user_microposts/showing_microposts/sample_microposts","cha-13_footnote-ref-6":"user_microposts/showing_microposts/sample_microposts","code-sample_microposts":"user_microposts/showing_microposts/sample_microposts","cha-13_footnote-ref-7":"user_microposts/showing_microposts/sample_microposts","fig-user_profile_microposts_no_styling":"user_microposts/showing_microposts/sample_microposts","cha-13_footnote-ref-8":"user_microposts/showing_microposts/sample_microposts","code-micropost_css":"user_microposts/showing_microposts/sample_microposts","fig-user_profile_with_microposts":"user_microposts/showing_microposts/sample_microposts","fig-other_profile_with_microposts":"user_microposts/showing_microposts/sample_microposts","fig-user_profile_microposts":"user_microposts/showing_microposts/sample_microposts","sec-exercises_sample_microposts":"user_microposts/showing_microposts/sample_microposts","ex-fd82f0":"user_microposts/showing_microposts/sample_microposts","ex-a83797":"user_microposts/showing_microposts/sample_microposts","ex-c6f975":"user_microposts/showing_microposts/sample_microposts","sec-profile_micropost_tests":"user_microposts/showing_microposts/profile_micropost_tests","code-updated_micropost_fixtures":"user_microposts/showing_microposts/profile_micropost_tests","cha-13_footnote-ref-9":"user_microposts/showing_microposts/profile_micropost_tests","code-user_profile_test":"user_microposts/showing_microposts/profile_micropost_tests","uid1647":"user_microposts/showing_microposts/profile_micropost_tests","sec-exercises_profile_micropost_tests":"user_microposts/showing_microposts/profile_micropost_tests","ex-339c33":"user_microposts/showing_microposts/profile_micropost_tests","ex-7c1373":"user_microposts/showing_microposts/profile_micropost_tests","sec-showing_microposts":"user_microposts/showing_microposts","fig-user_microposts_mockup":"user_microposts/showing_microposts","sec-micropost_access_control":"user_microposts/manipulating_microposts/micropost_access_control","code-create_destroy_micropost_tests":"user_microposts/manipulating_microposts/micropost_access_control","cha-13_footnote-ref-10":"user_microposts/manipulating_microposts/micropost_access_control","code-sessions_helper_authenticate":"user_microposts/manipulating_microposts/micropost_access_control","code-users_controller_remove_logged_in_filter":"user_microposts/manipulating_microposts/micropost_access_control","code-microposts_controller_access_control":"user_microposts/manipulating_microposts/micropost_access_control","uid1659":"user_microposts/manipulating_microposts/micropost_access_control","sec-exercises_access_control":"user_microposts/manipulating_microposts/micropost_access_control","ex-12f331":"user_microposts/manipulating_microposts/micropost_access_control","sec-creating_microposts":"user_microposts/manipulating_microposts/creating_microposts","fig-home_page_with_micropost_form_mockup":"user_microposts/manipulating_microposts/creating_microposts","code-microposts_create_action":"user_microposts/manipulating_microposts/creating_microposts","code-microposts_home_page":"user_microposts/manipulating_microposts/creating_microposts","code-user_info":"user_microposts/manipulating_microposts/creating_microposts","code-micropost_form":"user_microposts/manipulating_microposts/creating_microposts","code-micropost_instance_variable":"user_microposts/manipulating_microposts/creating_microposts","code-updated_error_messages_partial":"user_microposts/manipulating_microposts/creating_microposts","uid1670":"user_microposts/manipulating_microposts/creating_microposts","code-signup_errors_updated":"user_microposts/manipulating_microposts/creating_microposts","code-edit_errors_updated":"user_microposts/manipulating_microposts/creating_microposts","code-password_reset_updated":"user_microposts/manipulating_microposts/creating_microposts","fig-home_with_form":"user_microposts/manipulating_microposts/creating_microposts","fig-home_form_errors":"user_microposts/manipulating_microposts/creating_microposts","sec-exercises_creating_microposts":"user_microposts/manipulating_microposts/creating_microposts","ex-9fa8e4":"user_microposts/manipulating_microposts/creating_microposts","sec-a_proto_feed":"user_microposts/manipulating_microposts/a_proto_feed","fig-proto_feed_mockup":"user_microposts/manipulating_microposts/a_proto_feed","cha-13_footnote-ref-11":"user_microposts/manipulating_microposts/a_proto_feed","code-proto_status_feed":"user_microposts/manipulating_microposts/a_proto_feed","code-feed_instance_variable":"user_microposts/manipulating_microposts/a_proto_feed","code-feed_partial":"user_microposts/manipulating_microposts/a_proto_feed","code-home_with_feed":"user_microposts/manipulating_microposts/a_proto_feed","fig-home_with_proto_feed":"user_microposts/manipulating_microposts/a_proto_feed","fig-micropost_created":"user_microposts/manipulating_microposts/a_proto_feed","code-microposts_create_action_with_feed":"user_microposts/manipulating_microposts/a_proto_feed","sec-exercises_a_proto_feed":"user_microposts/manipulating_microposts/a_proto_feed","ex-31697d":"user_microposts/manipulating_microposts/a_proto_feed","ex-e4ef4b":"user_microposts/manipulating_microposts/a_proto_feed","sec-destroying_microposts":"user_microposts/manipulating_microposts/destroying_microposts","fig-micropost_delete_links_mockup":"user_microposts/manipulating_microposts/destroying_microposts","code-micropost_partial_with_delete":"user_microposts/manipulating_microposts/destroying_microposts","code-microposts_destroy_action":"user_microposts/manipulating_microposts/destroying_microposts","cha-13_footnote-ref-12":"user_microposts/manipulating_microposts/destroying_microposts","cha-13_footnote-ref-13":"user_microposts/manipulating_microposts/destroying_microposts","fig-home_post_delete":"user_microposts/manipulating_microposts/destroying_microposts","sec-exercises_destroying_microposts":"user_microposts/manipulating_microposts/destroying_microposts","ex-48d333":"user_microposts/manipulating_microposts/destroying_microposts","ex-f7f907":"user_microposts/manipulating_microposts/destroying_microposts","sec-micropost_tests":"user_microposts/manipulating_microposts/micropost_tests","code-add_micropost_different_owner":"user_microposts/manipulating_microposts/micropost_tests","code-micropost_user_mismatch_test":"user_microposts/manipulating_microposts/micropost_tests","code-microposts_interface_test":"user_microposts/manipulating_microposts/micropost_tests","uid1705":"user_microposts/manipulating_microposts/micropost_tests","sec-exercises_micropost_tests":"user_microposts/manipulating_microposts/micropost_tests","ex-6a791b":"user_microposts/manipulating_microposts/micropost_tests","ex-0a7044":"user_microposts/manipulating_microposts/micropost_tests","code-sidebar_micropost_count":"user_microposts/manipulating_microposts/micropost_tests","sec-manipulating_microposts":"user_microposts/manipulating_microposts","code-microposts_resource":"user_microposts/manipulating_microposts","table-RESTful_microposts":"user_microposts/manipulating_microposts","sec-basic_image_upload":"user_microposts/micropost_images/basic_image_upload","cha-13_footnote-ref-15":"user_microposts/micropost_images/basic_image_upload","code-gemfile_carrierwave":"user_microposts/micropost_images/basic_image_upload","cha-13_footnote-ref-16":"user_microposts/micropost_images/basic_image_upload","fig-micropost_model_picture":"user_microposts/micropost_images/basic_image_upload","code-micropost_model_picture":"user_microposts/micropost_images/basic_image_upload","cha-13_footnote-ref-17":"user_microposts/micropost_images/basic_image_upload","code-micropost_create_image_upload":"user_microposts/micropost_images/basic_image_upload","code-micropost_params_picture":"user_microposts/micropost_images/basic_image_upload","code-micropost_partial_image_display":"user_microposts/micropost_images/basic_image_upload","fig-micropost_with_image":"user_microposts/micropost_images/basic_image_upload","sec-exercises_basic_image_upload":"user_microposts/micropost_images/basic_image_upload","ex-98ef20":"user_microposts/micropost_images/basic_image_upload","cha-13_footnote-ref-18":"user_microposts/micropost_images/basic_image_upload","ex-5b20bb":"user_microposts/micropost_images/basic_image_upload","code-image_upload_test":"user_microposts/micropost_images/basic_image_upload","sec-image_validation":"user_microposts/micropost_images/image_validation","code-validate_picture_format":"user_microposts/micropost_images/image_validation","code-micropost_model_image_validation":"user_microposts/micropost_images/image_validation","cha-13_footnote-ref-19":"user_microposts/micropost_images/image_validation","cha-13_footnote-ref-20":"user_microposts/micropost_images/image_validation","code-jquery_file_test":"user_microposts/micropost_images/image_validation","sec-exercises_image_validation":"user_microposts/micropost_images/image_validation","ex-8ab2dc":"user_microposts/micropost_images/image_validation","ex-70fb50":"user_microposts/micropost_images/image_validation","sec-image_resizing":"user_microposts/micropost_images/image_resizing","cha-13_footnote-ref-21":"user_microposts/micropost_images/image_resizing","fig-large_uploaded_image":"user_microposts/micropost_images/image_resizing","cha-13_footnote-ref-22":"user_microposts/micropost_images/image_resizing","code-image_uploader_resizing":"user_microposts/micropost_images/image_resizing","fig-resized_image":"user_microposts/micropost_images/image_resizing","sec-exercises_image_resizing":"user_microposts/micropost_images/image_resizing","ex-be0762":"user_microposts/micropost_images/image_resizing","ex-18159f":"user_microposts/micropost_images/image_resizing","code-skip_resize_initializer":"user_microposts/micropost_images/image_resizing","sec-image_upload_in_production":"user_microposts/micropost_images/image_upload_in_production","cha-13_footnote-ref-23":"user_microposts/micropost_images/image_upload_in_production","cha-13_footnote-ref-24":"user_microposts/micropost_images/image_upload_in_production","code-image_uploader_production":"user_microposts/micropost_images/image_upload_in_production","cha-13_footnote-ref-25":"user_microposts/micropost_images/image_upload_in_production","cha-13_footnote-ref-26":"user_microposts/micropost_images/image_upload_in_production","code-carrier_wave_configuration":"user_microposts/micropost_images/image_upload_in_production","code-gitignore_uploads":"user_microposts/micropost_images/image_upload_in_production","fig-image_upload_production":"user_microposts/micropost_images/image_upload_in_production","sec-exercises_image_upload_in_production":"user_microposts/micropost_images/image_upload_in_production","ex-f48355":"user_microposts/micropost_images/image_upload_in_production","sec-micropost_images":"user_microposts/micropost_images","cha-13_footnote-ref-14":"user_microposts/micropost_images","fig-micropost_image_mockup":"user_microposts/micropost_images","sec-user_microposts_what_we_learned_in_this_chapter":"user_microposts/user_microposts_conclusion/user_microposts_what_we_learned_in_this_chapter","sec-user_microposts_conclusion":"user_microposts/user_microposts_conclusion","cha-13_footnote-ref-27":"user_microposts/user_microposts_conclusion","code-final_gemfile":"user_microposts/user_microposts_conclusion","cha-user_microposts":"user_microposts","cha-13_footnote-ref-1":"user_microposts","cha-13_footnotes":"user_microposts","cha-13_footnote-1":"user_microposts","cha-13_footnote-2":"user_microposts","cha-13_footnote-3":"user_microposts","cha-13_footnote-4":"user_microposts","cha-13_footnote-5":"user_microposts","cha-13_footnote-6":"user_microposts","cha-13_footnote-7":"user_microposts","cha-13_footnote-8":"user_microposts","cha-13_footnote-9":"user_microposts","cha-13_footnote-10":"user_microposts","cha-13_footnote-11":"user_microposts","cha-13_footnote-12":"user_microposts","cha-13_footnote-13":"user_microposts","cha-13_footnote-14":"user_microposts","cha-13_footnote-15":"user_microposts","cha-13_footnote-16":"user_microposts","cha-13_footnote-17":"user_microposts","cha-13_footnote-18":"user_microposts","cha-13_footnote-19":"user_microposts","cha-13_footnote-20":"user_microposts","cha-13_footnote-21":"user_microposts","cha-13_footnote-22":"user_microposts","cha-13_footnote-23":"user_microposts","cha-13_footnote-24":"user_microposts","cha-13_footnote-25":"user_microposts","cha-13_footnote-26":"user_microposts","cha-13_footnote-27":"user_microposts","sec-a_problem_with_the_data_model":"following_users/the_relationship_model/a_problem_with_the_data_model","cha-14_footnote-ref-2":"following_users/the_relationship_model/a_problem_with_the_data_model","fig-naive_user_has_many_following":"following_users/the_relationship_model/a_problem_with_the_data_model","cha-14_footnote-ref-3":"following_users/the_relationship_model/a_problem_with_the_data_model","fig-user_has_many_following":"following_users/the_relationship_model/a_problem_with_the_data_model","fig-relationship_model":"following_users/the_relationship_model/a_problem_with_the_data_model","code-relationships_migration":"following_users/the_relationship_model/a_problem_with_the_data_model","sec-exercises_a_problem_with_the_data_model":"following_users/the_relationship_model/a_problem_with_the_data_model","ex-a7cab2":"following_users/the_relationship_model/a_problem_with_the_data_model","ex-47cec8":"following_users/the_relationship_model/a_problem_with_the_data_model","sec-relationship_user_associations":"following_users/the_relationship_model/relationship_user_associations","cha-14_footnote-ref-4":"following_users/the_relationship_model/relationship_user_associations","cha-14_footnote-ref-5":"following_users/the_relationship_model/relationship_user_associations","code-user_relationships_association":"following_users/the_relationship_model/relationship_user_associations","code-relationship_belongs_to":"following_users/the_relationship_model/relationship_user_associations","table-association_methods_relationships":"following_users/the_relationship_model/relationship_user_associations","sec-exercises_relationship_user_associations":"following_users/the_relationship_model/relationship_user_associations","ex-158b52":"following_users/the_relationship_model/relationship_user_associations","ex-bc5326":"following_users/the_relationship_model/relationship_user_associations","sec-relationship_validations":"following_users/the_relationship_model/relationship_validations","code-relationship_validation_tests":"following_users/the_relationship_model/relationship_validations","code-relationship_validations":"following_users/the_relationship_model/relationship_validations","code-empty_relationship_fixture":"following_users/the_relationship_model/relationship_validations","uid1807":"following_users/the_relationship_model/relationship_validations","sec-exercises_relationship_validations":"following_users/the_relationship_model/relationship_validations","ex-0003a9":"following_users/the_relationship_model/relationship_validations","sec-following":"following_users/the_relationship_model/following","code-has_many_following_through_active_relationships":"following_users/the_relationship_model/following","cha-14_footnote-ref-6":"following_users/the_relationship_model/following","code-utility_method_tests":"following_users/the_relationship_model/following","code-follow_unfollow_following":"following_users/the_relationship_model/following","uid1815":"following_users/the_relationship_model/following","sec-exercises_following":"following_users/the_relationship_model/following","ex-c750b5":"following_users/the_relationship_model/following","ex-0876ac":"following_users/the_relationship_model/following","sec-followers":"following_users/the_relationship_model/followers","fig-user_has_many_followers":"following_users/the_relationship_model/followers","code-has_many_following_through_passive_relationships":"following_users/the_relationship_model/followers","code-followers_test":"following_users/the_relationship_model/followers","sec-exercises_followers":"following_users/the_relationship_model/followers","ex-a97f17":"following_users/the_relationship_model/followers","ex-61e463":"following_users/the_relationship_model/followers","ex-c79c64":"following_users/the_relationship_model/followers","sec-the_relationship_model":"following_users/the_relationship_model","sec-sample_following_data":"following_users/a_web_interface_for_following_and_followers/sample_following_data","code-sample_relationships":"following_users/a_web_interface_for_following_and_followers/sample_following_data","sec-exercises_sample_following_data":"following_users/a_web_interface_for_following_and_followers/sample_following_data","ex-a7b803":"following_users/a_web_interface_for_following_and_followers/sample_following_data","ex-b4bbb0":"following_users/a_web_interface_for_following_and_followers/sample_following_data","sec-stats_and_a_follow_form":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","fig-stats_partial_mockup":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","code-following_followers_actions_routes":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","cha-14_footnote-ref-7":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","table-following_routes":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","code-stats_partial":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","code-home_page_stats":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","code-stats_css":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","fig-home_page_follow_stats":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","code-follow_form_partial":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","code-relationships_resource":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","code-follow_form":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","code-unfollow_form":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","code-user_follow_form_profile_stats":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","fig-profile_follow_button":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","fig-profile_unfollow_button":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","sec-exercises_stats_and_a_follow_form":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","ex-2a6762":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","ex-62859b":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","ex-0bb8bf":"following_users/a_web_interface_for_following_and_followers/stats_and_a_follow_form","sec-following_and_followers_pages":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","fig-following_mockup":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","fig-followers_mockup":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","code-following_followers_authorization_test":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","code-following_followers_actions":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","code-show_follow_view":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","fig-user_following":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","fig-user_followers":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","fig-different_user_followers":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","uid1861":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","code-relationships_fixtures":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","code-following_tests":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","uid1864":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","sec-exercises_":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","ex-64cc1d":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","ex-68811a":"following_users/a_web_interface_for_following_and_followers/following_and_followers_pages","sec-a_working_follow_button_the_standard_way":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_the_standard_way","code-relationships_access_control":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_the_standard_way","code-relationships_controller":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_the_standard_way","code-relationships_controller_following":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_the_standard_way","fig-unfollowed_user":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_the_standard_way","fig-followed_user":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_the_standard_way","sec-exercises_a_working_follow_button_the_standard_way":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_the_standard_way","ex-b57314":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_the_standard_way","ex-04f8d5":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_the_standard_way","sec-a_working_follow_button_with_ajax":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_with_ajax","cha-14_footnote-ref-8":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_with_ajax","code-follow_form_ajax":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_with_ajax","code-unfollow_form_ajax":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_with_ajax","code-relationships_controller_ajax":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_with_ajax","code-degrade_gracefully":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_with_ajax","code-create_js_erb":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_with_ajax","code-destroy_js_erb":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_with_ajax","sec-exercises_a_working_follow_button_with_ajax":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_with_ajax","ex-8991b6":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_with_ajax","ex-d7e936":"following_users/a_web_interface_for_following_and_followers/a_working_follow_button_with_ajax","sec-following_tests":"following_users/a_web_interface_for_following_and_followers/following_tests","code-follow_button_tests":"following_users/a_web_interface_for_following_and_followers/following_tests","uid1890":"following_users/a_web_interface_for_following_and_followers/following_tests","sec-exercises_following_tests":"following_users/a_web_interface_for_following_and_followers/following_tests","ex-96d361":"following_users/a_web_interface_for_following_and_followers/following_tests","ex-90699b":"following_users/a_web_interface_for_following_and_followers/following_tests","sec-a_web_interface_for_following_and_followers":"following_users/a_web_interface_for_following_and_followers","sec-motivation_and_strategy":"following_users/the_status_feed/motivation_and_strategy","fig-user_feed":"following_users/the_status_feed/motivation_and_strategy","code-full_feed_test":"following_users/the_status_feed/motivation_and_strategy","uid1898":"following_users/the_status_feed/motivation_and_strategy","sec-exercises_motivation_and_strategy":"following_users/the_status_feed/motivation_and_strategy","ex-da79ac":"following_users/the_status_feed/motivation_and_strategy","sec-a_first_feed_implementation":"following_users/the_status_feed/a_first_feed_implementation","cha-14_footnote-ref-9":"following_users/the_status_feed/a_first_feed_implementation","code-initial_working_feed":"following_users/the_status_feed/a_first_feed_implementation","uid1904":"following_users/the_status_feed/a_first_feed_implementation","sec-exercises_a_first_feed_implementation":"following_users/the_status_feed/a_first_feed_implementation","ex-aef112":"following_users/the_status_feed/a_first_feed_implementation","ex-5f14ae":"following_users/the_status_feed/a_first_feed_implementation","ex-102e2b":"following_users/the_status_feed/a_first_feed_implementation","sec-scopes_subselects_and_a_lambda":"following_users/the_status_feed/scopes_subselects_and_a_lambda","code-feed_second_cut":"following_users/the_status_feed/scopes_subselects_and_a_lambda","code-feed_final":"following_users/the_status_feed/scopes_subselects_and_a_lambda","uid1912":"following_users/the_status_feed/scopes_subselects_and_a_lambda","fig-home_page_with_feed":"following_users/the_status_feed/scopes_subselects_and_a_lambda","fig-live_status_feed":"following_users/the_status_feed/scopes_subselects_and_a_lambda","sec-exercises_scopes_subselects_and_a_lambda":"following_users/the_status_feed/scopes_subselects_and_a_lambda","ex-1d34e5":"following_users/the_status_feed/scopes_subselects_and_a_lambda","ex-05d0df":"following_users/the_status_feed/scopes_subselects_and_a_lambda","code-home_feed_test":"following_users/the_status_feed/scopes_subselects_and_a_lambda","sec-the_status_feed":"following_users/the_status_feed","fig-home_page_feed_mockup":"following_users/the_status_feed","sec-guide_to_further_resources":"following_users/following_conclusion/guide_to_further_resources","sec-following_users_what_we_learned_in_this_chapter":"following_users/following_conclusion/following_users_what_we_learned_in_this_chapter","sec-following_conclusion":"following_users/following_conclusion","cha-following_users":"following_users","cha-14_footnote-ref-1":"following_users","fig-page_flow_profile_mockup":"following_users","fig-page_flow_user_index_mockup":"following_users","fig-page_flow_other_profile_follow_button":"following_users","fig-page_flow_other_profile_unfollow_button_mockup":"following_users","fig-page_flow_home_page_feed_mockup":"following_users","cha-14_footnotes":"following_users","cha-14_footnote-1":"following_users","cha-14_footnote-2":"following_users","cha-14_footnote-3":"following_users","cha-14_footnote-4":"following_users","cha-14_footnote-5":"following_users","cha-14_footnote-6":"following_users","cha-14_footnote-7":"following_users","cha-14_footnote-8":"following_users","cha-14_footnote-9":"following_users"},
      footnotes: {"cha-0_footnote-1":"This is not typical!\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Getting through the entire book usually takes \u003cem\u003emuch\u003c/em\u003e longer than three days. ","cha-1_footnote-1":" learnenough.com/story","cha-1_footnote-2":" learnenough.com/command-line","cha-1_footnote-3":" The most up-to-date version of the \u003cem\u003eRuby on Rails Tutorial\u003c/em\u003e can be found on the book’s website at \u003ca href=\"https://www.railstutorial.org/\" target=\"_blank\" rel=\"noopener\"\u003ehttps://www.railstutorial.org/\u003c/a\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e If you are reading this book offline, be sure to check the \u003ca href=\"https://www.railstutorial.org/book\" target=\"_blank\" rel=\"noopener\"\u003eonline version of the Rails Tutorial book\u003c/a\u003e at \u003ca href=\"https://www.railstutorial.org/book\" target=\"_blank\" rel=\"noopener\"\u003ehttps://www.railstutorial.org/book\u003c/a\u003e for the latest updates.","cha-1_footnote-4":" \u003cem\u003eURI\u003c/em\u003e stands for Uniform Resource Identifier, while the slightly less general \u003cem\u003eURL\u003c/em\u003e stands for Uniform Resource Locator.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e In practice, the URL is usually equivalent to “the thing you see in the address bar of your browser”.","cha-1_footnote-5":" railstutorial.org/help","cha-1_footnote-6":" For example, to find the definition of a function called \u003ccode\u003efoo\u003c/code\u003e, you can do a global search for “def foo”.","cha-1_footnote-7":" Due to the constantly evolving nature of sites like AWS, details may vary; use your technical sophistication (\u003ca href=\"beginning_fragment.html#aside-technical_sophistication\" class=\"hyperref\"\u003eBox \u003cspan class=\"ref\"\u003e1.1\u003c/span\u003e\u003c/a\u003e) to resolve any discrepancies.","cha-1_footnote-8":" https://aws.amazon.com/","cha-1_footnote-9":" https://www.railstutorial.org/cloud9-signup","cha-1_footnote-10":" If you’re curious, you can learn about more \u003ccode\u003eprintf\u003c/code\u003e using \u003ccode\u003eman printf\u003c/code\u003e, as described in \u003ca href=\"https://www.learnenough.com/command-line\" target=\"_blank\" rel=\"noopener\"\u003e\u003cem\u003eLearn Enough Command Line to Be Dangerous\u003c/em\u003e\u003c/a\u003e.","cha-1_footnote-11":" learnenough.com/command-line","cha-1_footnote-12":" This is a typical example of technical sophistication (\u003ca href=\"beginning_fragment.html#aside-technical_sophistication\" class=\"hyperref\"\u003eBox \u003cspan class=\"ref\"\u003e1.1\u003c/span\u003e\u003c/a\u003e).","cha-1_footnote-13":" Similarly, \u003ccode\u003e~\u0026gt; 4.0\u003c/code\u003e would install version \u003ccode\u003e4.9\u003c/code\u003e of a gem but not \u003ccode\u003e5.0\u003c/code\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This is especially useful if the project in question uses \u003ca href=\"https://semver.org/\" target=\"_blank\" rel=\"noopener\"\u003e\u003cem\u003esemantic versioning\u003c/em\u003e\u003c/a\u003e (also called “semver”), which is a convention for numbering releases designed to minimize the chances of breaking software dependencies.","cha-1_footnote-14":" As noted in \u003ca href=\"static_pages_fragment.html#table-shortcuts\" class=\"hyperref\"\u003eTable \u003cspan class=\"ref\"\u003e3.1\u003c/span\u003e\u003c/a\u003e, you can even leave off \u003ccode\u003einstall\u003c/code\u003e, as the \u003ccode\u003ebundle\u003c/code\u003e command by itself is an alias for \u003ccode\u003ebundle install\u003c/code\u003e.","cha-1_footnote-15":" Here “C” refers to the character on the keyboard, not the capital letter, so there’s no need to hold down the Shift key to get a capital “C”.","cha-1_footnote-16":" The base URL for the Rails Tutorial Cloud9 shared URLs has changed from rails-tutorial-c9-mhartl.c9.io to one on Amazon Web Services, but in many cases the screenshots are identical, so the browser address bar will show old-style URLs in some figures (such as \u003ca href=\"beginning_fragment.html#fig-hello_world_hello_app\" class=\"hyperref\"\u003eFigure \u003cspan class=\"ref\"\u003e1.14\u003c/span\u003e\u003c/a\u003e).\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This is the sort of minor discrepancy you can resolve using your technical sophistication (\u003ca href=\"beginning_fragment.html#aside-technical_sophistication\" class=\"hyperref\"\u003eBox \u003cspan class=\"ref\"\u003e1.1\u003c/span\u003e\u003c/a\u003e).","cha-1_footnote-17":" Your editor may display a message like “invalid multibyte character”, but this is not a cause for concern.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e You can \u003ca href=\"https://www.google.com/search?q=invalid+multibyte+character\" target=\"_blank\" rel=\"noopener\"\u003eGoogle the error message\u003c/a\u003e if you want to learn how to make it go away.","cha-1_footnote-18":" learnenough.com/git","cha-1_footnote-19":" Although we’ll never need to edit it in the main tutorial, an example of adding a rule to the \u003ccode\u003e.gitignore\u003c/code\u003e file appears in \u003ca href=\"static_pages_fragment.html#sec-guard\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e3.6.2\u003c/span\u003e\u003c/a\u003e, which is part of the optional advanced testing setup in \u003ca href=\"static_pages_fragment.html#sec-advanced_testing_setup\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e3.6\u003c/span\u003e\u003c/a\u003e.","cha-1_footnote-20":" Because of how my public keys are set up on Cloud9, I created the repository as railstutorial and then added my main account, mhartl, as a collaborator.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e As a result, I can make commits under either account name.","cha-1_footnote-21":" See \u003ca href=\"https://www.learnenough.com/text-editor\" target=\"_blank\" rel=\"noopener\"\u003e\u003cem\u003eLearn Enough Text Editor to Be Dangerous\u003c/em\u003e\u003c/a\u003e and \u003ca href=\"https://www.learnenough.com/git\" target=\"_blank\" rel=\"noopener\"\u003e\u003cem\u003eLearn Enough Git to Be Dangerous\u003c/em\u003e\u003c/a\u003e for more information about Markdown.","cha-2_footnote-1":" Because microposts are short by design, the \u003ccode\u003estring\u003c/code\u003e type is actually big enough to contain them, but using \u003ccode\u003etext\u003c/code\u003e better expresses our intent, while also giving us greater flexibility should we ever wish to relax the length constraint.","cha-2_footnote-2":" The name of the scaffold follows the convention of \u003cem\u003emodels\u003c/em\u003e, which are singular, rather than resources and controllers, which are plural.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Thus, we have \u003ccode\u003eUser\u003c/code\u003e instead of \u003ccode\u003eUsers\u003c/code\u003e.","cha-2_footnote-3":" Some references indicate that the view returns the HTML directly to the browser (via a webserver such as Apache or Nginx).\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Regardless of the implementation details, I find it helpful to think of the controller as a central hub through which all the application’s information flows.","cha-2_footnote-4":" Fielding, Roy Thomas.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e \u003cem\u003eArchitectural Styles and the Design of Network-based Software Architectures\u003c/em\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Doctoral dissertation, University of California, Irvine, 2000.","cha-2_footnote-5":" As with the User scaffold, the scaffold generator for microposts follows the singular convention of Rails models; thus, we have \u003ccode\u003egenerate Micropost\u003c/code\u003e.","cha-2_footnote-6":" The scaffold code may have extra blank lines compared to \u003ca href=\"toy_app_fragment.html#code-demo_microposts_resource\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e2.11\u003c/span\u003e\u003c/a\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This is not a cause for concern, as Ruby ignores such extra space.","cha-2_footnote-7":" Your console prompt might be something like \u003ccode class=\"tt\"\u003e2.1.1 :001 \u0026gt;\u003c/code\u003e, but the examples use \u003ccode class=\"inline_verbatim\"\u003e\u0026gt;\u0026gt;\u003c/code\u003e since Ruby versions will vary.","cha-2_footnote-8":" As with “Ctrl-C”, the capital “D” refers to the key on the keyboard, not the capital letter, so you don’t have to hold down the Shift key along with the Ctrl key.","cha-2_footnote-9":" The production database should work without any additional configuration, but in fact some configuration is recommended by the \u003ca href=\"https://devcenter.heroku.com/articles/getting-started-with-rails5\" target=\"_blank\" rel=\"noopener\"\u003eofficial Heroku documentation\u003c/a\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e We’ll take care of this detail in \u003ca href=\"sign_up_fragment.html#sec-production_database_configuration\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e7.5.3\u003c/span\u003e\u003c/a\u003e.","cha-2_footnote-10":"As with “Ctrl-C”, the capital “D” refers to the key on the keyboard, not the capital letter, so you don’t have to hold down the Shift key along with the Ctrl key. ","cha-2_footnote-11":"As with “Ctrl-C”, the capital “D” refers to the key on the keyboard, not the capital letter, so you don’t have to hold down the Shift key along with the Ctrl key. ","cha-1_footnote-22":" For a convenient way to visualize Git repositories, take a look at \u003ca href=\"https://www.sourcetreeapp.com/\" target=\"_blank\" rel=\"noopener\"\u003eAtlassian’s SourceTree app\u003c/a\u003e.","cha-1_footnote-23":" See, for example, the section on \u003ca href=\"https://www.learnenough.com/r/learn_enough_git/collaborating\" target=\"_blank\" rel=\"noopener\"\u003eCollaborating\u003c/a\u003e in \u003ca href=\"https://www.learnenough.com/git\" target=\"_blank\" rel=\"noopener\"\u003e\u003cem\u003eLearn Enough Git to Be Dangerous\u003c/em\u003e\u003c/a\u003e.","cha-3_footnote-1":" If you’re using the cloud IDE, it’s often useful to use the “Goto Anything” command, which makes it easy to navigate the filesystem by typing in partial filenames.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e In this context, having the hello, toy, and sample apps present in the same project can be inconvenient due to the many common filenames.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e For example, when searching for a file called “Gemfile”, six possibilities will show up, because each project has matching files called \u003ccode\u003eGemfile\u003c/code\u003e and \u003ccode\u003eGemfile.lock\u003c/code\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Thus, you may want to consider removing the first two apps before proceeding, which you can do by navigating to the \u003ccode\u003eenvironment\u003c/code\u003e directory and running \u003ccode\u003erm -rf hello_app/ toy_app/\u003c/code\u003e (\u003ca href=\"beginning_fragment.html#table-unix_commands\" class=\"hyperref\"\u003eTable \u003cspan class=\"ref\"\u003e1.1\u003c/span\u003e\u003c/a\u003e).\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (As long as you pushed the corresponding repositories up to Bitbucket, you can always recover them later.)","cha-3_footnote-2":" bitbucket.org/railstutorial/sample_app_4th_ed","cha-3_footnote-3":" It’s worth noting that \u003ccode\u003e--without production\u003c/code\u003e is a “remembered option”, which means it will be included automatically the next time we run \u003ccode\u003ebundle install\u003c/code\u003e.","cha-3_footnote-4":" Generally speaking, it’s a good idea for the development and production environments to match as closely as possible, which includes using the same database, so I recommend eventually learning how to install and configure PostgreSQL in development—but now is not that time.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e When the time comes, Google “install configure postgresql \u0026lt;your system\u0026gt;” and “rails postgresql setup”, and prepare for a challenge.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (On the cloud IDE, \u0026lt;your system\u0026gt; is Linux.)","cha-3_footnote-5":" The README also makes reference to a LICENSE file, which I’ve added by hand to the official \u003ca href=\"https://bitbucket.org/railstutorial/sample_app_4th_ed\" target=\"_blank\" rel=\"noopener\"\u003ereference implementation\u003c/a\u003e, but it isn’t present by default.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e You can \u003ca href=\"https://bitbucket.org/railstutorial/sample_app_4th_ed/raw/c1582bec74354124650524a45ebb72388e5a299e/LICENSE.md\" target=\"_blank\" rel=\"noopener\"\u003edownload a copy\u003c/a\u003e from the reference implementation repo if you want it for completeness, but it’s not necessary for completing the tutorial.","cha-3_footnote-6":" Our method for making static pages is probably the simplest, but it’s not the only way.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e The optimal method really depends on your needs; if you expect a \u003cem\u003elarge\u003c/em\u003e number of static pages, using a Static Pages controller can get quite cumbersome, but in our sample app we’ll only need a few.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e If you do need a lot of static pages, take a look at the \u003ca href=\"https://github.com/thoughtbot/high_voltage\" target=\"_blank\" rel=\"noopener\"\u003e\u003ccode class=\"tt\"\u003ehigh_voltage\u003c/code\u003e\u003c/a\u003e gem.","cha-3_footnote-7":" In fact, many Rails developers also add an \u003cem\u003ealias\u003c/em\u003e (as \u003ca href=\"https://www.learnenough.com/r/learn_enough_text_editor/vim/saving_and_quitting_files#sec-saving_and_quitting_files\" target=\"_blank\" rel=\"noopener\"\u003edescribed\u003c/a\u003e in \u003ca href=\"https://www.learnenough.com/text-editor\" target=\"_blank\" rel=\"noopener\"\u003e\u003cem\u003eLearn Enough Text Editor to Be Dangerous\u003c/em\u003e\u003c/a\u003e) for the \u003ccode\u003erails\u003c/code\u003e command, typically shortening it to just \u003ccode\u003er\u003c/code\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This allows us to run, e.g., a Rails server using the compact command \u003ccode\u003er s\u003c/code\u003e.","cha-3_footnote-8":" See, e.g., “\u003ca href=\"http://david.heinemeierhansson.com/2014/tdd-is-dead-long-live-testing.html\" target=\"_blank\" rel=\"noopener\"\u003eTDD is dead. Long live testing.\u003c/a\u003e” by Rails creator David Heinemeier Hansson.","cha-3_footnote-9":" By default, \u003ccode\u003erails test\u003c/code\u003e shows red when the tests fail, but doesn’t show green when the tests pass.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e To arrange for a true Red–Green cycle, see \u003ca href=\"static_pages_fragment.html#sec-minitest_reporters\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e3.6.1\u003c/span\u003e\u003c/a\u003e.","cha-3_footnote-10":" HTML changes with time; by explicitly making a doctype declaration we make it likelier that browsers will render our pages properly in the future.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e The simple doctype \u003ccode\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c/code\u003e is characteristic of the latest HTML standard, HTML5.","cha-3_footnote-11":" For a list of common minitest assertions, see the \u003ca href=\"http://guides.rubyonrails.org/testing.html#available-assertions\" target=\"_blank\" rel=\"noopener\"\u003etable of available assertions in the Rails Guides testing article\u003c/a\u003e.","cha-3_footnote-12":" Most of the screenshots in this book use Google Chrome, but \u003ca href=\"static_pages_fragment.html#fig-home_view_full_html\" class=\"hyperref\"\u003eFigure \u003cspan class=\"ref\"\u003e3.6\u003c/span\u003e\u003c/a\u003e uses Safari because Chrome doesn’t display the full page title.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (As of this writing, Safari displays the page title only if you include an additional tab, which explains the second tab shown in \u003ca href=\"static_pages_fragment.html#fig-home_view_full_html\" class=\"hyperref\"\u003eFigure \u003cspan class=\"ref\"\u003e3.6\u003c/span\u003e\u003c/a\u003e.)\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Also note that the URL in \u003ca href=\"static_pages_fragment.html#fig-home_view_full_html\" class=\"hyperref\"\u003eFigure \u003cspan class=\"ref\"\u003e3.6\u003c/span\u003e\u003c/a\u003e is actually /static_pages/home, but Safari displays only the base URL, which in this case is my development server at Cloud9.","cha-3_footnote-13":" There is a second popular template system called \u003ca href=\"http://haml.info/\" target=\"_blank\" rel=\"noopener\"\u003eHaml\u003c/a\u003e (note: not “HAML”), which I personally love, but it’s not \u003cem\u003equite\u003c/em\u003e standard enough for use in an introductory tutorial.","cha-3_footnote-14":" Experienced Rails developers might have expected the use of \u003ccode\u003econtent_for\u003c/code\u003e at this point, but it doesn’t work well with the asset pipeline.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e The \u003ccode\u003eprovide\u003c/code\u003e function is its replacement.","cha-3_footnote-15":" If you’ve studied Ruby before, you might suspect that Rails is \u003cem\u003eyielding\u003c/em\u003e the contents to a block, and your suspicion would be correct.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e But you don’t need to know this to develop applications with Rails.","cha-3_footnote-16":" This exercise is solved in \u003ca href=\"filling_in_the_layout_fragment.html#sec-contact_page\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e5.3.1\u003c/span\u003e\u003c/a\u003e.","cha-3_footnote-17":" If you get an error message saying that the Spring process id (pid) file would be overwritten by the merge, just remove the file using \u003ccode\u003erm -f *.pid\u003c/code\u003e at the command line.","cha-3_footnote-18":" The code in \u003ca href=\"static_pages_fragment.html#code-minitest_reporters\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e3.44\u003c/span\u003e\u003c/a\u003e mixes single- and double-quoted strings.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This is because \u003ccode\u003erails new\u003c/code\u003e generates single-quoted strings, whereas the \u003ca href=\"https://github.com/kern/minitest-reporters\" target=\"_blank\" rel=\"noopener\"\u003eminitest reporters documentation\u003c/a\u003e uses double-quoted strings.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This mixing of the two string types is common in Ruby; see \u003ca href=\"rails_flavored_ruby_fragment.html#sec-strings\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e4.2.2\u003c/span\u003e\u003c/a\u003e for more information.","cha-4_footnote-1":" If a helper is specific to a particular controller, you should put it in the corresponding helper file; for example, helpers for the Static Pages controller generally go in \u003ccode\u003eapp/helpers/static_pages_helper.rb\u003c/code\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e In our case, we expect the \u003ccode\u003efull_title\u003c/code\u003e helper to be used on all the site’s pages, and Rails has a special helper file for this case: \u003ccode\u003eapp/helpers/application_helper.rb\u003c/code\u003e.","cha-4_footnote-2":" The \u003ccode\u003enano\u003c/code\u003e editor is easier for beginners, but for this sort of short edit I would almost always use the Vim editor instead.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e To learn Minimum Viable Vim, see \u003ca href=\"https://www.learnenough.com/text-editor\" target=\"_blank\" rel=\"noopener\"\u003e\u003cem\u003eLearn Enough Text Editor to Be Dangerous\u003c/em\u003e\u003c/a\u003e.","cha-4_footnote-3":" For more on the origins of “foo” and “bar”—and, in particular, the possible \u003cem\u003enon\u003c/em\u003e-relation of “foobar” to “FUBAR”—see the \u003ca href=\"http://www.catb.org/jargon/html/F/foo.html\" target=\"_blank\" rel=\"noopener\"\u003eJargon File entry on “foo”\u003c/a\u003e.","cha-4_footnote-4":" Programmers familiar with Perl or PHP should compare this to the automatic interpolation of dollar sign variables in expressions like \u003ccode\u003e\"foo $bar\"\u003c/code\u003e.","cha-4_footnote-5":" Apologies in advance for switching haphazardly between \u003cem\u003efunction\u003c/em\u003e and \u003cem\u003emethod\u003c/em\u003e throughout this chapter; in Ruby, they’re the same thing: all methods are functions, and all functions are methods, because everything is an object.","cha-4_footnote-6":" Well, there will still be \u003cem\u003eone\u003c/em\u003e thing left that we don’t understand, which is how Rails ties this all together: mapping URLs to actions, making the \u003ccode\u003efull_title\u003c/code\u003e helper available in views, etc.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This is an interesting subject, and I encourage you to investigate it further, but knowing exactly \u003cem\u003ehow\u003c/em\u003e Rails works is not necessary when \u003cem\u003eusing\u003c/em\u003e Rails.","cha-4_footnote-7":" It’s tempting to use string interpolation instead—indeed, this was the technique used in all previous versions of the tutorial—but in fact the call to \u003ccode\u003eprovide\u003c/code\u003e converts the string into a so-called SafeBuffer object instead of an ordinary string.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Interpolating and inserting into a view template then over-escapes any inserted HTML, so a title such as “Help’s on the way” would be converted to “Help\u0026amp;amp;#39;s on the way”.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (Thanks to reader Jeremy Fleischman for pointing out this subtle issue.)","cha-4_footnote-8":" The \u003ccode\u003esecond\u003c/code\u003e method used here isn’t currently part of Ruby itself, but rather is added by Rails.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e It works in this case because the Rails console automatically includes the Rails extensions to Ruby.","cha-4_footnote-9":" Programming experts, on the other hand, might benefit from knowing that blocks are \u003cem\u003eclosures\u003c/em\u003e, which are one-shot anonymous functions with data attached.","cha-4_footnote-10":" As noted in \u003ca href=\"beginning_fragment.html#cha-beginning\" class=\"hyperref\"\u003eChapter \u003cspan class=\"ref\"\u003e1\u003c/span\u003e\u003c/a\u003e, in this case the code \u003ccode\u003e('a'..'z').to_a.sample(8).join\u003c/code\u003e is an even more compact way of getting the same result.","cha-4_footnote-11":" Ruby versions 1.9 and later actually guarantee that hashes keep their elements in the same order entered, but it would be unwise ever to count on a particular ordering.","cha-4_footnote-12":" As a result of having less baggage, symbols are easier to compare to each other; strings need to be compared character by character, while symbols can be compared all in one go.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This makes them ideal for use as hash keys.","cha-4_footnote-13":" There’s actually a subtle difference, which is that \u003ccode\u003ep\u003c/code\u003e returns the object being printed while \u003ccode\u003eputs\u003c/code\u003e always returns \u003ccode\u003enil\u003c/code\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (Thanks to reader Katarzyna Siwek for pointing this out.)","cha-4_footnote-14":" A newline is what comes at the end of a line, thereby starting a new line.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e As noted in \u003ca href=\"rails_flavored_ruby_fragment.html#sec-printing\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e4.2.2.1\u003c/span\u003e\u003c/a\u003e, it is typically represented by the character \u003ccode class=\"inline_verbatim\"\u003e\\n\u003c/code\u003e.","cha-4_footnote-15":" Constantly having to check the column number is rather inconvenient, so many text editors have a visual aid to help you.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e For example, if you take a look back at \u003ca href=\"beginning_fragment.html#fig-cloud9_gemfile\" class=\"hyperref\"\u003eFigure \u003cspan class=\"ref\"\u003e1.7\u003c/span\u003e\u003c/a\u003e, you may be able to make out the small vertical line on the right side of the screen, which is designed to help keep code under 80 characters.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (It’s very subtle, so you may not be able to see it in the screenshot.)\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e The cloud IDE (\u003ca href=\"beginning_fragment.html#sec-development_environment\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e1.2.1\u003c/span\u003e\u003c/a\u003e) includes such a line by default.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e In Sublime Text, you can use \u003ccode class=\"tt\"\u003eView \u0026gt; Ruler \u0026gt; 78\u003c/code\u003e or \u003ccode class=\"tt\"\u003eView \u0026gt; Ruler \u0026gt; 80\u003c/code\u003e.","cha-4_footnote-16":" These results will vary based on the version of Ruby you are using.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This example assumes you are using Ruby 1.9.3 or later.","cha-4_footnote-17":" For more on Ruby classes and the \u003ccode\u003eself\u003c/code\u003e keyword, see the \u003ca href=\"http://railstips.org/\" target=\"_blank\" rel=\"noopener\"\u003eRailsTips\u003c/a\u003e post “\u003ca href=\"http://railstips.org/blog/archives/2006/11/18/class-and-instance-variables-in-ruby/\" target=\"_blank\" rel=\"noopener\"\u003eClass and Instance Variables in Ruby\u003c/a\u003e”.","cha-1_footnote-24":" Though it shouldn’t matter for the example applications in the \u003cem\u003eRails Tutorial\u003c/em\u003e, if you’re worried about accidentally making your app public too soon there are several options; see \u003ca href=\"beginning_fragment.html#sec-heroku_commands\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e1.5.4\u003c/span\u003e\u003c/a\u003e for one.","cha-5_footnote-1":" Thanks to reader \u003ca href=\"https://twitter.com/colmtuite\" target=\"_blank\" rel=\"noopener\"\u003eColm Tuite\u003c/a\u003e for his excellent work in helping to convert the sample application over to the Bootstrap CSS framework.","cha-5_footnote-2":" The mockups in the \u003cem\u003eRuby on Rails Tutorial\u003c/em\u003e are made with an excellent online mockup application called \u003ca href=\"http://gomockingbird.com\" target=\"_blank\" rel=\"noopener\"\u003eMockingbird\u003c/a\u003e.","cha-5_footnote-3":" The words \u003cem\u003eshim\u003c/em\u003e and \u003cem\u003eshiv\u003c/em\u003e are used interchangably in this context; the former is the proper term, based on the English word whose meaning is “a washer or thin strip of material used to align parts, make them fit, or reduce wear”, while the latter (meaning “a knife or razor used as a weapon”) is apparently a play on the name of the shim’s original author, Sjoerd Visscher.","cha-5_footnote-4":" These are completely unrelated to Ruby classes.","cha-5_footnote-5":" The spacing might look slightly different, which is fine because (as noted in \u003ca href=\"static_pages_fragment.html#sec-testing_titles\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e3.4.1\u003c/span\u003e\u003c/a\u003e) HTML is insensitive to whitespace.","cha-5_footnote-6":" This image is actually the old Rails logo, but the new one is a scalable vector graphics (SVG) image and is less suitable for our present purposes.","cha-5_footnote-7":" You might notice that the \u003ccode\u003eimg\u003c/code\u003e tag, rather than looking like \u003ccode class=\"inline_verbatim\"\u003e\u0026lt;img\u0026gt;...\u0026lt;/img\u0026gt;\u003c/code\u003e, instead looks like \u003ccode class=\"inline_verbatim\"\u003e\u0026lt;img ... /\u0026gt;\u003c/code\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Tags that follow this form are known as \u003cem\u003eself-closing\u003c/em\u003e tags.","cha-5_footnote-8":" Image retrieved from https://www.flickr.com/photos/deborah_s_perspective/14144861329 on 2016-01-09.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Copyright © 2009 by \u003ca href=\"https://www.flickr.com/photos/deborah_s_perspective/\" target=\"_blank\" rel=\"noopener\"\u003eDeborah\u003c/a\u003e and used unaltered under the terms of the \u003ca href=\"https://creativecommons.org/licenses/by/2.0/\" target=\"_blank\" rel=\"noopener\"\u003eCreative Commons Attribution 2.0 Generic\u003c/a\u003e license.","cha-5_footnote-9":" As always, you should use the version numbers listed at \u003ca href=\"https://gemfiles-4th-ed.railstutorial.org/\" target=\"_blank\" rel=\"noopener\"\u003egemfiles-4th-ed.railstutorial.org\u003c/a\u003e instead of the ones listed here.","cha-5_footnote-10":" It is also possible to use Less with the asset pipeline; see the \u003ca href=\"http://rubygems.org/gems/less-rails-bootstrap\" target=\"_blank\" rel=\"noopener\"\u003e\u003ccode class=\"tt\"\u003eless-rails-bootstrap\u003c/code\u003e gem\u003c/a\u003e for details.","cha-5_footnote-11":" If these steps seem mysterious, take heart: I’m just following the instructions from the \u003ca href=\"https://github.com/twbs/bootstrap-sass#bootstrap-for-sass---\" target=\"_blank\" rel=\"noopener\"\u003ebootstrap-sass README file\u003c/a\u003e.","cha-5_footnote-12":" Many Rails developers use a \u003ccode\u003eshared\u003c/code\u003e directory for partials shared across different views.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e I prefer to use the \u003ccode\u003eshared\u003c/code\u003e folder for utility partials that are useful on multiple views, while putting partials that are literally on every page (as part of the site layout) in the \u003ccode\u003elayouts\u003c/code\u003e directory.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (We’ll create the \u003ccode\u003eshared\u003c/code\u003e directory starting in \u003ca href=\"sign_up_fragment.html#cha-sign_up\" class=\"hyperref\"\u003eChapter \u003cspan class=\"ref\"\u003e7\u003c/span\u003e\u003c/a\u003e.)\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e That seems to me a logical division, but putting them all in the \u003ccode\u003eshared\u003c/code\u003e folder certainly works fine, too.","cha-5_footnote-13":" You may wonder why we use both the \u003ccode\u003efooter\u003c/code\u003e tag and \u003ccode\u003e.footer\u003c/code\u003e class.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e The answer is that the tag has a clear meaning to human readers, and the class is used by Bootstrap.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Using a \u003ccode\u003ediv\u003c/code\u003e tag in place of \u003ccode\u003efooter\u003c/code\u003e would work as well.","cha-5_footnote-14":" The structure of this section is based on the excellent blog post “The Rails 3 Asset Pipeline in (about) 5 Minutes” by Michael Erasmus.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e For more details, see the \u003ca href=\"http://guides.rubyonrails.org/asset_pipeline.html\" target=\"_blank\" rel=\"noopener\"\u003eRails Guide on the Asset Pipeline\u003c/a\u003e.","cha-6_footnote-1":" The name comes from the “\u003ca href=\"https://en.wikipedia.org/wiki/Active_record_pattern\" target=\"_blank\" rel=\"noopener\"\u003eactive record pattern\u003c/a\u003e”, identified and named in \u003cem\u003ePatterns of Enterprise Application Architecture\u003c/em\u003e by Martin Fowler.","cha-6_footnote-2":" Officially pronounced “ess-cue-ell”, though the alternate pronunciation “sequel” is also common.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e You can differentiate an individual author’s preference by the choice of indefinite article: those who write “a SQL database” prefer “sequel”, whereas those who write “an SQL database” prefer “ess-cue-ell”.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e As you’ll soon see, I prefer the latter.","cha-6_footnote-3":" By using an email address as the username, we open the possibility of communicating with our users at a future date (\u003ca href=\"account_activation_fragment.html#cha-account_activation\" class=\"hyperref\"\u003eChapter \u003cspan class=\"ref\"\u003e11\u003c/span\u003e\u003c/a\u003e and \u003ca href=\"password_reset_fragment.html#cha-password_reset\" class=\"hyperref\"\u003eChapter \u003cspan class=\"ref\"\u003e12\u003c/span\u003e\u003c/a\u003e).","cha-6_footnote-4":" Don’t worry about exactly how the \u003ccode\u003et\u003c/code\u003e object manages to do this; the beauty of \u003cem\u003eabstraction layers\u003c/em\u003e is that we don’t have to know.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e We can just trust the \u003ccode\u003et\u003c/code\u003e object to do its job.","cha-6_footnote-5":" Officially pronounced “ess-cue-ell-ite”, although the (mis)pronunciation “sequel-ite” is also common.","cha-6_footnote-6":" The only exception is in \u003ca href=\"following_users_fragment.html#sec-scopes_subselects_and_a_lambda\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e14.3.3\u003c/span\u003e\u003c/a\u003e.","cha-6_footnote-7":" The timestamps are recorded in \u003ca href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" target=\"_blank\" rel=\"noopener\"\u003eCoordinated Universal Time\u003c/a\u003e (UTC), which for most practical purposes is the same as \u003ca href=\"https://en.wikipedia.org/wiki/Greenwich_Mean_Time\" target=\"_blank\" rel=\"noopener\"\u003eGreenwich Mean Time\u003c/a\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e But why call it UTC?\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e From the \u003ca href=\"https://www.nist.gov/pml/time-and-frequency-division/nist-time-frequently-asked-questions-faq#cut\" target=\"_blank\" rel=\"noopener\"\u003eNIST Time and Frequency FAQ\u003c/a\u003e: \u003cstrong\u003eQ:\u003c/strong\u003e Why is UTC used as the acronym for Coordinated Universal Time instead of CUT? \u003cstrong\u003eA:\u003c/strong\u003e In 1970 the Coordinated Universal Time system was devised by an international advisory group of technical experts within the International Telecommunication Union (ITU).\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e The ITU felt it was best to designate a single abbreviation for use in all languages in order to minimize confusion.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Since unanimous agreement could not be achieved on using either the English word order, CUT, or the French word order, TUC, the acronym UTC was chosen as a compromise.","cha-6_footnote-8":" Exceptions and exception handling are somewhat advanced Ruby subjects, and we won’t need them much in this book.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e They are important, though, and I suggest learning about them using one of the Ruby books recommended in \u003ca href=\"following_users_fragment.html#sec-guide_to_further_resources\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e14.4.1\u003c/span\u003e\u003c/a\u003e.","cha-6_footnote-9":" The \u003ccode\u003eupdate_attributes\u003c/code\u003e method is an alias for the shorter \u003ccode\u003eupdate\u003c/code\u003e method, but I prefer the longer version because of its similarity to the singular version of the method, \u003ccode\u003eupdate_attribute\u003c/code\u003e.","cha-6_footnote-10":" I’ll omit the output of console commands when they are not particularly instructive—for example, the results of \u003ccode\u003eUser.new\u003c/code\u003e.","cha-6_footnote-11":" For example, did you know that \u003ccode\u003e\"Michael Hartl\"@example.com\u003c/code\u003e, with quotation marks and a space in the middle, is a valid email address according to the standard?\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Incredibly, it is—but it’s absurd.","cha-6_footnote-12":" Note that, in \u003ca href=\"modeling_users_fragment.html#table-valid_email_regex\" class=\"hyperref\"\u003eTable \u003cspan class=\"ref\"\u003e6.1\u003c/span\u003e\u003c/a\u003e, “letter” really means “lower-case letter”, but the \u003ccode\u003ei\u003c/code\u003e at the end of the regex enforces case-insensitive matching.","cha-6_footnote-13":" If you find it as useful as I do, I encourage you to \u003ca href=\"http://bit.ly/donate-to-rubular\" target=\"_blank\" rel=\"noopener\"\u003edonate to Rubular\u003c/a\u003e to reward developer \u003ca href=\"http://lovitt.net/\" target=\"_blank\" rel=\"noopener\"\u003eMichael Lovitt\u003c/a\u003e for his wonderful work.","cha-6_footnote-14":" As noted briefly in the introduction to this section, there is a dedicated test database, \u003ccode\u003edb/test.sqlite3\u003c/code\u003e, for this purpose.","cha-6_footnote-15":" Technically, only the domain part of the email address is case-insensitive: \u003cem\u003efoo@bar.com\u003c/em\u003e is actually different from \u003cem\u003eFoo@bar.com\u003c/em\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e In practice, though, it is a bad idea to rely on this fact; as noted at \u003ca href=\"http://email.about.com/od/emailbehindthescenes/f/email_case_sens.htm\" target=\"_blank\" rel=\"noopener\"\u003eabout.com\u003c/a\u003e, “Since the case sensitivity of email addresses can create a lot of confusion, interoperability problems and widespread headaches, it would be foolish to require email addresses to be typed with the correct case.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Hardly any email service or ISP does enforce case sensitive email addresses, returning messages whose recipient’s email address was not typed correctly (in all upper case, for example).”\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Thanks to reader Riley Moses for pointing this out.","cha-6_footnote-16":" Of course, we could just edit the migration file for the \u003ccode\u003eusers\u003c/code\u003e table in \u003ca href=\"modeling_users_fragment.html#code-users_migration\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e6.2\u003c/span\u003e\u003c/a\u003e, but that would require rolling back and then migrating back up.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e The Rails Way™ is to use migrations every time we discover that our data model needs to change.","cha-6_footnote-17":" See the \u003ca href=\"http://api.rubyonrails.org/v5.0.1/classes/ActiveRecord/Callbacks.html\" target=\"_blank\" rel=\"noopener\"\u003eRails API entry on callbacks\u003c/a\u003e for more information on which callbacks Rails supports.","cha-6_footnote-18":" In this context, \u003cem\u003evirtual\u003c/em\u003e means that the attributes exist on the model object but do not correspond to columns in the database.","cha-6_footnote-19":" Hashed password digests are often erroneously referred to as \u003cem\u003eencrypted passwords\u003c/em\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e For example, the \u003ca href=\"https://github.com/rails/rails/blob/master/activemodel/lib/active_model/secure_password.rb\" target=\"_blank\" rel=\"noopener\"\u003esource code\u003c/a\u003e of \u003ccode\u003ehas_secure_password\u003c/code\u003e makes this mistake, as did the first two editions of this tutorial.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This terminology is wrong because by design encryption is \u003cem\u003ereversible\u003c/em\u003e—the ability to encrypt implies the ability to \u003cem\u003edecrypt\u003c/em\u003e as well.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e In contrast, the whole point of calculating a password’s hash digest is to be \u003cem\u003eirreversible\u003c/em\u003e, so that it is computationally intractable to infer the original password from the digest.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (Thanks to reader Andy Philips for pointing out this issue and for encouraging me to fix the broken terminology.)","cha-6_footnote-20":" As always, you should use the version numbers listed at \u003ca href=\"https://gemfiles-4th-ed.railstutorial.org/\" target=\"_blank\" rel=\"noopener\"\u003egemfiles-4th-ed.railstutorial.org\u003c/a\u003e instead of the ones listed here.","cha-6_footnote-21":"\u003cp\u003e If for any reason something went wrong, you can always reset the database as follows:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eQuit the console.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e\n\u003c/li\u003e\n\u003cli\u003eRun \u003ccode\u003e$ rm -f development.sqlite3\u003c/code\u003e at the command line to remove the database.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (We’ll learn a more elegant method for doing this in \u003ca href=\"sign_up_fragment.html#cha-sign_up\" class=\"hyperref\"\u003eChapter \u003cspan class=\"ref\"\u003e7\u003c/span\u003e\u003c/a\u003e.)\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e\n\u003c/li\u003e\n\u003cli\u003eRe-run the migrations using \u003ccode\u003e$ rails db:migrate\u003c/code\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e\n\u003c/li\u003e\n\u003cli\u003eRestart the console.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n","cha-6_footnote-22":" By design, the bcrypt algorithm produces a \u003ca href=\"https://en.wikipedia.org/wiki/Salt_(cryptography)\" target=\"_blank\" rel=\"noopener\"\u003e\u003cem\u003esalted hash\u003c/em\u003e\u003c/a\u003e, which protects against two important classes of attacks (\u003ca href=\"https://en.wikipedia.org/wiki/Dictionary_attack\" target=\"_blank\" rel=\"noopener\"\u003edictionary attacks\u003c/a\u003e and \u003ca href=\"https://en.wikipedia.org/wiki/Rainbow_table\" target=\"_blank\" rel=\"noopener\"\u003erainbow table attacks\u003c/a\u003e).","cha-5_footnote-15":" Sass also supports an alternate syntax that does define a new language, which is less verbose (and has fewer curly braces) but is less convenient for existing projects and is harder to learn for those already familiar with CSS.","cha-7_footnote-1":" \u003ca href=\"http://gomockingbird.com/\" target=\"_blank\" rel=\"noopener\"\u003eMockingbird\u003c/a\u003e doesn’t support custom images like the profile photo in \u003ca href=\"sign_up_fragment.html#fig-profile_mockup_profile_name\" class=\"hyperref\"\u003eFigure \u003cspan class=\"ref\"\u003e7.1\u003c/span\u003e\u003c/a\u003e; I put that in by hand using \u003ca href=\"http://www.gimp.org/\" target=\"_blank\" rel=\"noopener\"\u003eGIMP\u003c/a\u003e.","cha-7_footnote-2":" Image retrieved from http://www.flickr.com/photos/43803060@N00/24308857/ on 2014-06-16.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Copyright © 2002 by Shaun Wallin and used unaltered under the terms of the \u003ca href=\"https://creativecommons.org/licenses/by/2.0/\" target=\"_blank\" rel=\"noopener\"\u003eCreative Commons Attribution 2.0 Generic\u003c/a\u003e license.","cha-7_footnote-3":" You can define your own custom environments as well; see the \u003ca href=\"http://railscasts.com/episodes/72-adding-an-environment\" target=\"_blank\" rel=\"noopener\"\u003eRailsCast on adding an environment\u003c/a\u003e for details.","cha-7_footnote-4":" The exact appearance of the Rails debug information is slightly version-dependent.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e For example, as of Rails 5 the debug information shows the \u003ccode\u003epermitted\u003c/code\u003e status of the information, a subject we’ll cover in \u003ca href=\"sign_up_fragment.html#sec-strong_parameters\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e7.3.2\u003c/span\u003e\u003c/a\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Use your technical sophistication (\u003ca href=\"beginning_fragment.html#aside-technical_sophistication\" class=\"hyperref\"\u003eBox \u003cspan class=\"ref\"\u003e1.1\u003c/span\u003e\u003c/a\u003e) to resolve such minor discrepancies.","cha-7_footnote-5":" The Rails \u003ccode\u003edebug\u003c/code\u003e information is shown as \u003ca href=\"http://www.yaml.org/\" target=\"_blank\" rel=\"noopener\"\u003eYAML\u003c/a\u003e (a \u003ca href=\"http://catb.org/jargon/html/R/recursive-acronym.html\" target=\"_blank\" rel=\"noopener\"\u003erecursive acronym\u003c/a\u003e standing for “YAML Ain’t Markup Language”), which is a friendly data format designed to be both machine- \u003cem\u003eand\u003c/em\u003e human-readable.","cha-7_footnote-6":" This means that the \u003cem\u003erouting\u003c/em\u003e works, but the corresponding pages don’t necessarily work at this point.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e For example, /users/1/edit gets routed properly to the \u003ccode\u003eedit\u003c/code\u003e action of the Users controller, but since the \u003ccode\u003eedit\u003c/code\u003e action doesn’t exist yet actually hitting that URL will return an error.","cha-7_footnote-7":" Using, e.g., \u003ccode\u003etouch app/views/users/show.html.erb\u003c/code\u003e.","cha-7_footnote-8":" In Hinduism, an avatar is the manifestation of a deity in human or animal form.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e By extension, the term \u003cem\u003eavatar\u003c/em\u003e is commonly used to mean some kind of personal representation, especially in a virtual environment.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (In the context of Twitter and other social media, the term \u003cem\u003eavi\u003c/em\u003e has gained currency, which is likely a mutated form of \u003cem\u003eavatar\u003c/em\u003e.)","cha-7_footnote-9":" \u003ca href=\"sign_up_fragment.html#code-sidebar_css\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e7.11\u003c/span\u003e\u003c/a\u003e includes the \u003ccode\u003e.gravatar_edit\u003c/code\u003e class, which we’ll put to work in \u003ca href=\"updating_and_deleting_users_fragment.html#cha-updating_showing_and_deleting_users\" class=\"hyperref\"\u003eChapter \u003cspan class=\"ref\"\u003e10\u003c/span\u003e\u003c/a\u003e.","cha-7_footnote-10":" See the \u003ca href=\"http://stackoverflow.com/questions/941594/understand-rails-authenticity-token\" target=\"_blank\" rel=\"noopener\"\u003eStack Overflow entry on the Rails authenticity token\u003c/a\u003e if you’re interested in the details of how this works.","cha-7_footnote-11":" Actually, we’ll use the closely related \u003ccode\u003eflash.now\u003c/code\u003e, but we’ll defer that subtlety until we need it.","cha-7_footnote-12":" Technically, SSL is now TLS, for Transport Layer Security, but everyone I know still says “SSL”.","cha-7_footnote-13":" \u003ca href=\"sign_up_fragment.html#code-production_webserver_config\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e7.37\u003c/span\u003e\u003c/a\u003e changes the formatting slightly so that the code fits in the standard 80 columns.","cha-7_footnote-14":" We haven’t changed the data model in this chapter, so running the migration at Heroku shouldn’t be necessary, but only if you followed the steps in \u003ca href=\"modeling_users_fragment.html#sec-modeling_users_conclusion\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e6.4\u003c/span\u003e\u003c/a\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Because several readers reported having trouble, I’ve added \u003ccode\u003eheroku run rails db:migrate\u003c/code\u003e as a final step just to be safe.","cha-7_footnote-15":" For example, at one point Heroku required Ruby 2.1.4, so I spent several hours trying unsuccessfully to install Ruby 2.1.4 on my local machine—only to discover that Ruby 2.1.5 had been released the previous day.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Attempts to install Ruby 2.1.5 then also failed.","cha-7_footnote-16":"For example, at one point Heroku required Ruby 2.1.4, so I spent several hours trying unsuccessfully to install Ruby 2.1.4 on my local machine—only to discover that Ruby 2.1.5 had been released the previous day.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Attempts to install Ruby 2.1.5 then also failed. ","cha-8_footnote-1":" Some browsers offer an option to restore such sessions via a “continue where you left off” feature, but of course Rails has no control over this behavior.","cha-8_footnote-2":" A second option is to use \u003ccode\u003eform_tag\u003c/code\u003e in place of \u003ccode\u003eform_for\u003c/code\u003e, which might be even more idiomatically correct Rails, but it has less in common with the signup form, and at this stage I want to emphasize the parallel structure.","cha-8_footnote-3":" I like this technique because it connects to the pure Ruby way of including modules, but Rails 4 introduced a technique called \u003cem\u003econcerns\u003c/em\u003e that can also be used for this purpose.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e To learn how to use concerns, run a search for “\u003ca href=\"https://www.google.com/search?q=how+to+use+concerns+in+rails\" target=\"_blank\" rel=\"noopener\"\u003ehow to use concerns in Rails\u003c/a\u003e”.","cha-8_footnote-4":" The \u003ccode\u003elog_in\u003c/code\u003e method is available in the Sessions controller because of the module inclusion in \u003ca href=\"basic_login_fragment.html#code-sessions_helper_include\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e8.13\u003c/span\u003e\u003c/a\u003e.","cha-8_footnote-5":" This practice of remembering variable assignments from one method invocation to the next is known as \u003ca href=\"https://en.wikipedia.org/wiki/Memoization\" target=\"_blank\" rel=\"noopener\"\u003e\u003cem\u003ememoization\u003c/em\u003e\u003c/a\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (Note that this is a technical term; in particular, it’s \u003cem\u003enot\u003c/em\u003e a misspelling of “memorization”—a subtlety lost on the hapless copyeditor of a previous edition of this book.)","cha-8_footnote-6":" Image retrieved from https://www.flickr.com/photos/elevy/14730820387 on 2016-06-03.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Copyright © 2014 by Elias Levy and used unaltered under the terms of the \u003ca href=\"https://creativecommons.org/licenses/by/2.0/\" target=\"_blank\" rel=\"noopener\"\u003eCreative Commons Attribution 2.0 Generic\u003c/a\u003e license.","cha-8_footnote-7":" Web browsers can’t actually issue \u003ccode class=\"tt\"\u003eDELETE\u003c/code\u003e requests; Rails fakes it with JavaScript.","cha-8_footnote-8":" See the \u003ca href=\"http://getbootstrap.com/components/\" target=\"_blank\" rel=\"noopener\"\u003eBootstrap components page\u003c/a\u003e for more information.","cha-8_footnote-9":" Earlier versions of Rails included jQuery automatically, but it was removed as a dependency in Rails 5.1.","cha-8_footnote-10":" You may have to restart the webserver to get this to work (\u003ca href=\"beginning_fragment.html#aside-technical_sophistication\" class=\"hyperref\"\u003eBox \u003cspan class=\"ref\"\u003e1.1\u003c/span\u003e\u003c/a\u003e).","cha-8_footnote-11":" If you’re using the cloud IDE, I recommend using a different browser to test the login behavior so that you don’t have to close down the browser running the IDE.","cha-8_footnote-12":" It’s worth noting that indentation in fixture files must take the form of spaces, not tabs, so take care when copying code like that shown in \u003ca href=\"basic_login_fragment.html#code-real_user_fixture\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e8.22\u003c/span\u003e\u003c/a\u003e.","cha-8_footnote-13":" As with the Sessions controller, the \u003ccode\u003elog_in\u003c/code\u003e method is available in the Users controller because of the module inclusion in \u003ca href=\"basic_login_fragment.html#code-sessions_helper_include\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e8.13\u003c/span\u003e\u003c/a\u003e.","cha-8_footnote-14":" For example, I once had a test suite that was \u003cspan style=\"color: ForestGreen\"\u003e\u003cspan class=\"sc\"\u003e\u003c/span\u003e\u003cspan class=\"sc\"\u003e\u003cstrong\u003egreen\u003c/strong\u003e\u003c/span\u003e\u003cspan class=\"sc\"\u003e\u003c/span\u003e\u003c/span\u003e even after accidentally deleting the main \u003ccode\u003elog_in\u003c/code\u003e method in the Sessions helper.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e The reason is that the tests were happily using a test helper with the same name, thereby passing even though the application was completely broken.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e As with \u003ccode\u003eis_logged_in?\u003c/code\u003e, we’ll avoid this issue by defining the test helper \u003ccode\u003elog_in_as\u003c/code\u003e in \u003ca href=\"advanced_login_fragment.html#code-test_helper_log_in\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e9.24\u003c/span\u003e\u003c/a\u003e.","cha-9_footnote-1":" Session hijacking was widely publicized by the \u003ca href=\"http://codebutler.com/firesheep\" target=\"_blank\" rel=\"noopener\"\u003eFiresheep\u003c/a\u003e application, which showed that remember tokens at many high-profile sites were visible when connected to public Wi-Fi networks.","cha-9_footnote-2":" Rails 5 introduced a \u003ccode\u003ehas_secure_token\u003c/code\u003e method that automatically generates random tokens, but it stores the \u003cem\u003eunhashed\u003c/em\u003e values in the database, and hence is unsuitable for our present purposes.","cha-9_footnote-3":" This choice is based on the \u003ca href=\"http://railscasts.com/episodes/274-remember-me-reset-password\" target=\"_blank\" rel=\"noopener\"\u003eRailsCast on remember me\u003c/a\u003e.","cha-9_footnote-4":" In any case, with bcrypt’s \u003ca href=\"https://en.wikipedia.org/wiki/Salt_%28cryptography%29\" target=\"_blank\" rel=\"noopener\"\u003esalted hashes\u003c/a\u003e there’s no way for us to tell if two users’ passwords match.","cha-9_footnote-5":" With unique remember tokens, an attacker always needs \u003cem\u003eboth\u003c/em\u003e the user id and the remember token cookies to hijack the session.","cha-9_footnote-6":" This hasn’t stopped some developers from adding a check to verify that no collision has occurred, but such efforts result from failing to grasp just how small \u003cspan class=\"inline_math\"\u003e\\( 10^{-40} \\)\u003c/span\u003e is.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e For example, if we generated a billion tokens a second for the entire age of the Universe, the expected number of collisions would still be on the order of \u003cspan class=\"inline_math\"\u003e\\( 10^{-23} \\)\u003c/span\u003e.","cha-9_footnote-7":" As a general rule, if a method doesn’t need an instance of an object, it should be a class method.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Indeed, this decision will prove to be wise in \u003ca href=\"account_activation_fragment.html#sec-account_activation_emails\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e11.2\u003c/span\u003e\u003c/a\u003e.","cha-9_footnote-8":" \u003ca href=\"https://en.wikipedia.org/wiki/Digital_signature\" target=\"_blank\" rel=\"noopener\"\u003eSigning\u003c/a\u003e and \u003ca href=\"https://en.wikipedia.org/wiki/Encryption\" target=\"_blank\" rel=\"noopener\"\u003eencrypting\u003c/a\u003e are different operations in general, but as of Rails 4 the \u003ccode\u003esigned\u003c/code\u003e method \u003ca href=\"http://api.rubyonrails.org/classes/ActionDispatch/Session/CookieStore.html\" target=\"_blank\" rel=\"noopener\"\u003edoes both\u003c/a\u003e by default.","cha-9_footnote-9":" As noted in \u003ca href=\"modeling_users_fragment.html#sec-a_hashed_password\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e6.3.1\u003c/span\u003e\u003c/a\u003e, “unencrypted password” is a misnomer, as the secure password is \u003cem\u003ehashed\u003c/em\u003e, not encrypted.","cha-9_footnote-10":" I generally use the convention of putting such assignments in parentheses, which is a visual reminder that it’s not a comparison.","cha-9_footnote-11":"\u003cp\u003e Alert reader Jack Fahnestock has noted that there is an edge case that isn’t covered by the current design:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eLog in with “remember me” checked in browser A (saving hashed remember token A to \u003ccode\u003eremember_digest\u003c/code\u003e).\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e\n\u003c/li\u003e\n\u003cli\u003eLog in with “remember me” checked in browser B (saving hashed \u003ccode\u003eremember_token\u003c/code\u003e B to \u003ccode\u003eremember_digest\u003c/code\u003e, overwriting remember token A saved in browser A).\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e\n\u003c/li\u003e\n\u003cli\u003eClose browser A (now relying on permanent cookies for login—second conditional in \u003ccode\u003ecurrent_user\u003c/code\u003e method).\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e\n\u003c/li\u003e\n\u003cli\u003eReopen browser A (\u003ccode\u003elogged_in?\u003c/code\u003e returns false, even though permanent cookies are on the browser).\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eAlthough this is a arguably a more secure design than remembering the user in multiple places, it violates the expectation that users can be permanently remembered on more than one browser.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e The solution, which is substantially more complicated than the present design, is to factor the remember digest into a separate table, where each row has a user id and a digest.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Checking for the current user would then look through the table for a digest corresponding to a particular remember token.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Furthermore, the \u003ccode\u003eforget\u003c/code\u003e in \u003ca href=\"advanced_login_fragment.html#code-user_model_forget\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e9.11\u003c/span\u003e\u003c/a\u003e method would delete only the row corresponding to the digest of the current browser.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e For security purposes, logging out would remove all digests for that user.\u003c/p\u003e\n","cha-9_footnote-12":" Google “\u0026lt;your browser name\u0026gt; inspect cookies” to learn how to inspect the cookies on your system.","cha-9_footnote-13":" Thanks to reader Paulo Célio Júnior for pointing this out.","cha-9_footnote-14":" Thanks to reader Niels de Ron for pointing this out.","cha-10_footnote-1":" Image retrieved from http://www.flickr.com/photos/sashawolff/4598355045/ on 2014-08-25.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Copyright © 2010 by Sasha Wolff and used unaltered under the terms of the \u003ca href=\"https://creativecommons.org/licenses/by/2.0/\" target=\"_blank\" rel=\"noopener\"\u003eCreative Commons Attribution 2.0 Generic\u003c/a\u003e license.","cha-10_footnote-2":" Don’t worry about how this works; the details are of interest to developers of the Rails framework itself, and by design are not important for Rails application developers.","cha-10_footnote-3":" Thanks to Jose Carlos Montero Gómez for a suggestion that further reduced duplication in the \u003ccode\u003enew\u003c/code\u003e and \u003ccode\u003eedit\u003c/code\u003e partials.","cha-10_footnote-4":" The command for before filters used to be called \u003ccode\u003ebefore_filter\u003c/code\u003e, but the Rails core team decided to rename it to emphasize that the filter takes place before particular controller actions.","cha-10_footnote-5":" The code in this section is adapted from the \u003ca href=\"http://github.com/thoughtbot/clearance\" target=\"_blank\" rel=\"noopener\"\u003eClearance\u003c/a\u003e gem by \u003ca href=\"http://thoughtbot.com/\" target=\"_blank\" rel=\"noopener\"\u003ethoughtbot\u003c/a\u003e.","cha-10_footnote-6":" Thanks to reader Yoel Adler for pointing out this subtle issue, and for discovering the solution.","cha-10_footnote-7":" Image retrieved from http://www.flickr.com/photos/glasgows/338937124/ on 2014-08-25.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Copyright © 2008 by M\u0026amp;R Glasgow and used unaltered under the terms of the \u003ca href=\"https://creativecommons.org/licenses/by/2.0/\" target=\"_blank\" rel=\"noopener\"\u003eCreative Commons Attribution 2.0 Generic\u003c/a\u003e license.","cha-10_footnote-8":" This is the same authorization model used by Twitter.","cha-10_footnote-9":" As always, you should use the version numbers listed at \u003ca href=\"https://gemfiles-4th-ed.railstutorial.org/\" target=\"_blank\" rel=\"noopener\"\u003egemfiles-4th-ed.railstutorial.org\u003c/a\u003e instead of the ones listed here.","cha-10_footnote-10":" In principle, these two tasks can be combined in \u003ccode\u003erails db:reset\u003c/code\u003e, but as of this writing this command doesn’t work with the latest version of Rails.","cha-10_footnote-11":" As always, you should use the version numbers listed at \u003ca href=\"https://gemfiles-4th-ed.railstutorial.org/\" target=\"_blank\" rel=\"noopener\"\u003egemfiles-4th-ed.railstutorial.org\u003c/a\u003e instead of the ones listed here.","cha-10_footnote-12":" The name \u003ccode\u003euser\u003c/code\u003e is immaterial—we could have written \u003ccode\u003e@users.each do |foobar|\u003c/code\u003e and then used \u003ccode\u003erender foobar\u003c/code\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e The key is the \u003cem\u003eclass\u003c/em\u003e of the object—in this case, \u003ccode\u003eUser\u003c/code\u003e.","cha-11_footnote-1":" This chapter is independent of the others, apart from the mailer generation in \u003ca href=\"account_activation_fragment.html#code-generate_user_mailer\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e11.6\u003c/span\u003e\u003c/a\u003e, which is used in \u003ca href=\"password_reset_fragment.html#cha-password_reset\" class=\"hyperref\"\u003eChapter \u003cspan class=\"ref\"\u003e12\u003c/span\u003e\u003c/a\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Readers can skip to \u003ca href=\"password_reset_fragment.html#cha-password_reset\" class=\"hyperref\"\u003eChapter \u003cspan class=\"ref\"\u003e12\u003c/span\u003e\u003c/a\u003e or to \u003ca href=\"user_microposts_fragment.html#cha-user_microposts\" class=\"hyperref\"\u003eChapter \u003cspan class=\"ref\"\u003e13\u003c/span\u003e\u003c/a\u003e with minimal discontinuity, although the former will be substantially more challenging due to substantial overlap with this chapter.","cha-11_footnote-2":" In addition to this basic sequence, another nice feature to have is the ability to resend account activation emails in case the initial confirmation gets lost, marked as spam, etc.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Adding such a feature should be within your capabilities by the time you finish this tutorial.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e You might also considering using a solution such as \u003ca href=\"https://github.com/plataformatec/devise\" target=\"_blank\" rel=\"noopener\"\u003eDevise\u003c/a\u003e, already includes the ability to resend confirmation emails.","cha-11_footnote-3":" We could use the user’s id instead, since it’s already exposed in the URLs of our application, but using email addresses is more future-proof in case we want to obfuscate user ids for any reason (such as to prevent competitors from knowing how many users our application has, for example).","cha-11_footnote-4":" Because we’ll be using an \u003ccode\u003eedit\u003c/code\u003e action, we could include \u003ccode\u003eedit\u003c/code\u003e on the command line, but this would also generate both an edit view and a test, neither of which we’ll turn out to need.","cha-11_footnote-5":" It’s mainly for this reason that we won’t be using the (perhaps slightly misnamed) \u003ccode\u003ehas_secure_token\u003c/code\u003e facility added in Rails 5, which stores the corresponding token in the database as unhashed \u003ca href=\"https://en.wikipedia.org/wiki/Cleartext\" target=\"_blank\" rel=\"noopener\"\u003ecleartext\u003c/a\u003e.","cha-11_footnote-6":" URLs can contain multiple query parameters, consisting of multiple key-value pairs separated by the ampersand character \u003ccode\u003e\u0026amp;\u003c/code\u003e, as in \u003ccode\u003e/edit?name=Foo%20Bar\u0026amp;email=foo%40example.com\u003c/code\u003e.","cha-11_footnote-7":" When I originally wrote this chapter, I couldn’t recall offhand how to escape URLs in Rails, and figuring it out was pure technical sophistication (\u003ca href=\"beginning_fragment.html#aside-technical_sophistication\" class=\"hyperref\"\u003eBox \u003cspan class=\"ref\"\u003e1.1\u003c/span\u003e\u003c/a\u003e).\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e What I did was Google “\u003ca href=\"https://www.google.com/search?q=ruby+rails+escape+url\" target=\"_blank\" rel=\"noopener\"\u003eruby rails escape url\u003c/a\u003e”, which led me to \u003ca href=\"http://stackoverflow.com/questions/6714196/ruby-url-encoding-string\" target=\"_blank\" rel=\"noopener\"\u003efind two main possibilities\u003c/a\u003e, \u003ccode\u003eURI.encode(str)\u003c/code\u003e and \u003ccode\u003eCGI.escape(str)\u003c/code\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Trying them both revealed that the latter works.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (It turns out there’s a third possibility: the \u003ccode\u003eERB::Util\u003c/code\u003e library supplies a \u003ca href=\"http://apidock.com/ruby/ERB/Util/url_encode\" target=\"_blank\" rel=\"noopener\"\u003eurl_encode\u003c/a\u003e method that has the same effect.)","cha-11_footnote-8":" Here we use two calls to \u003ccode\u003eupdate_attribute\u003c/code\u003e rather than a single call to \u003ccode\u003eupdate_attributes\u003c/code\u003e because (per \u003ca href=\"modeling_users_fragment.html#sec-updating_user_objects\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e6.1.5\u003c/span\u003e\u003c/a\u003e) the latter would run the validations.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Lacking in this case the user password, these validations would fail.","cha-12_footnote-1":" This chapter is independent of the others apart from using the mailer generation in \u003ca href=\"account_activation_fragment.html#code-generate_user_mailer\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e11.6\u003c/span\u003e\u003c/a\u003e, but it closely parallels \u003ca href=\"account_activation_fragment.html#cha-account_activation\" class=\"hyperref\"\u003eChapter \u003cspan class=\"ref\"\u003e11\u003c/span\u003e\u003c/a\u003e, so it’s much easier if you’ve followed that chapter first.","cha-12_footnote-2":" Security concerns about revealing the absence of the given email address are commonly misplaced.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e The reason is that this property is already present in every website that won’t let you sign up with an email address that’s already in use, which is practically all of them.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Thus, indicating that a given email address isn’t available for password resets gives potential attackers no additional information.","cha-12_footnote-3":" We need only handle the case where the password is empty because if the confirmation is empty, the confirmation validation (which is skipped if the password is empty) will catch the problem and supply a relevant error message.","cha-12_footnote-4":" Alert reader Khaled Teilab has noted that one advantage of using \u003ccode\u003eerrors.add(:password, :blank)\u003c/code\u003e is that the resulting message is automatically rendered in the correct language when using the \u003ccode class=\"tt\"\u003erails-i18n\u003c/code\u003e gem.","cha-13_footnote-1":" The name is motivated by the common description of Twitter as a \u003cem\u003emicroblog\u003c/em\u003e; since blogs have posts, microblogs should have microposts.","cha-13_footnote-2":" www.postgresql.org/docs/9.1/static/datatype-character.html","cha-13_footnote-3":" The foreign key reference is a database-level constraint indicating that the user id in the microposts table refers to the id column in the users table.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This detail will never be important in this tutorial, and the foreign key constraint isn’t even supported by all databases.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (It’s supported by PostgreSQL, which we use in production, but not by the development SQLite database adapter.)\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e We’ll learn more about foreign keys in \u003ca href=\"following_users_fragment.html#sec-relationship_user_associations\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e14.1.2\u003c/span\u003e\u003c/a\u003e.","cha-13_footnote-4":" We briefly encountered a similar issue in \u003ca href=\"updating_and_deleting_users_fragment.html#sec-updating_and_deleting_users_conclusion\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e10.5\u003c/span\u003e\u003c/a\u003e in the context of the users index.","cha-13_footnote-5":" SQL is case-insensitive, but it is conventional to write SQL keywords (such as \u003ccode\u003eDESC\u003c/code\u003e) in all-caps.","cha-13_footnote-6":" \u003ccode\u003eFaker::Lorem.sentence\u003c/code\u003e returns \u003cem\u003elorem ipsum\u003c/em\u003e text; as noted in \u003ca href=\"modeling_users_fragment.html#cha-modeling_users\" class=\"hyperref\"\u003eChapter \u003cspan class=\"ref\"\u003e6\u003c/span\u003e\u003c/a\u003e, \u003cem\u003elorem ipsum\u003c/em\u003e has a \u003ca href=\"http://www.straightdope.com/columns/read/2290/what-does-the-filler-text-lorem-ipsum-mean\" target=\"_blank\" rel=\"noopener\"\u003efascinating back story\u003c/a\u003e.","cha-13_footnote-7":" By design, the Faker gem’s \u003cem\u003elorem ipsum\u003c/em\u003e text is randomized, so the contents of your sample microposts will differ.","cha-13_footnote-8":" For convenience, \u003ca href=\"user_microposts_fragment.html#code-micropost_css\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e13.26\u003c/span\u003e\u003c/a\u003e actually has \u003cem\u003eall\u003c/em\u003e the CSS needed for this chapter.","cha-13_footnote-9":" If you’d like to refactor other tests to use \u003ccode\u003efull_title\u003c/code\u003e (such as those in \u003ca href=\"static_pages_fragment.html#code-base_title_test\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e3.30\u003c/span\u003e\u003c/a\u003e), you should include the Application Helper in \u003ccode\u003etest_helper.rb\u003c/code\u003e instead.","cha-13_footnote-10":" Note that, unlike the behavior in languages like Java or C++, private methods in Ruby \u003ca href=\"http://stackoverflow.com/questions/3534449/why-does-ruby-have-both-private-and-protected-methods/3534581#3534581\" target=\"_blank\" rel=\"noopener\"\u003ecan be called\u003c/a\u003e from derived classes.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Thanks to reader Vishal Antony for bringing this difference to my attention.","cha-13_footnote-11":" See the Rails Guide on the \u003ca href=\"http://guides.rubyonrails.org/active_record_querying.html\" target=\"_blank\" rel=\"noopener\"\u003eActive Record Query Interface\u003c/a\u003e for more on \u003ccode\u003ewhere\u003c/code\u003e and related methods.","cha-13_footnote-12":" This corresponds to \u003ccode class=\"tt\"\u003eHTTP_REFERER\u003c/code\u003e, as defined by the specification for HTTP.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Note that “referer” is not a typo—the word is actually misspelled in the spec.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Rails corrects this error by writing “referrer” instead.","cha-13_footnote-13":" I didn’t remember offhand how to get this URL inside a Rails application, so I Googled “rails request previous url” and found a \u003ca href=\"http://stackoverflow.com/questions/4652084/ruby-on-rails-how-do-you-get-the-previous-url\" target=\"_blank\" rel=\"noopener\"\u003eStack Overflow thread\u003c/a\u003e with the answer.","cha-13_footnote-14":" Image retrieved from https://www.flickr.com/photos/grungepunk/14026922186 on 2014-09-19.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Copyright © 2014 by Jussie D. Brito and used unaltered under the terms of the \u003ca href=\"https://creativecommons.org/licenses/by-sa/2.0/\" target=\"_blank\" rel=\"noopener\"\u003eCreative Commons Attribution-ShareAlike 2.0 Generic\u003c/a\u003e license.","cha-13_footnote-15":" As always, you should use the version numbers listed at \u003ca href=\"https://gemfiles-4th-ed.railstutorial.org/\" target=\"_blank\" rel=\"noopener\"\u003egemfiles-4th-ed.railstutorial.org\u003c/a\u003e instead of the ones listed here.","cha-13_footnote-16":" Initially, I called the new attribute \u003ccode\u003eimage\u003c/code\u003e, but that name was so generic it ended up being confusing.","cha-13_footnote-17":" When using \u003ccode\u003eform_tag\u003c/code\u003e (discussed briefly in \u003ca href=\"basic_login_fragment.html#sec-login_form\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e8.1.2\u003c/span\u003e\u003c/a\u003e), it’s necessary to add the option \u003ccode\u003ehtml: { multipart: true }\u003c/code\u003e to handle file uploads, but when using \u003ccode\u003eform_for\u003c/code\u003e the necessary \u003ca href=\"http://stackoverflow.com/questions/4526273/what-does-enctype-multipart-form-data-mean\" target=\"_blank\" rel=\"noopener\"\u003emultipart form-data encoding type\u003c/a\u003e is \u003ca href=\"http://stackoverflow.com/a/26320725\" target=\"_blank\" rel=\"noopener\"\u003eautomatically added\u003c/a\u003e by Rails.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Thanks to reader Alan Cruz for bringing this detail to my attention.","cha-13_footnote-18":" Windows users should add a \u003ccode\u003e:binary\u003c/code\u003e parameter: \u003ccode\u003efixture_file_upload(file, type, :binary)\u003c/code\u003e.","cha-13_footnote-19":" To learn how to do things like this, you can do what I did: Google around for things like “javascript maximum file size” until you find something on Stack Overflow.","cha-13_footnote-20":" More advanced users of jQuery would probably put the size check in its own JavaScript function, but since this isn’t a JavaScript tutorial the code in \u003ca href=\"user_microposts_fragment.html#code-jquery_file_test\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e13.66\u003c/span\u003e\u003c/a\u003e is fine for our purposes.","cha-13_footnote-21":" It’s possible to constrain the \u003cem\u003edisplay\u003c/em\u003e size with CSS, but this doesn’t change the image size.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e In particular, large images would still take a while to load.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (You’ve probably visited websites where “small” images seemingly take forever to load.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This is why.)","cha-13_footnote-22":" If you’re not using the cloud IDE or an equivalent Linux system, do a Google search for “imagemagick \u0026lt;your platform\u0026gt;”.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e On macOS, \u003ccode\u003ebrew install imagemagick\u003c/code\u003e should work if you have \u003ca href=\"http://brew.sh/\" target=\"_blank\" rel=\"noopener\"\u003eHomebrew\u003c/a\u003e installed.","cha-13_footnote-23":" Among other things, file storage on Heroku is temporary, so uploaded images will be deleted every time you deploy.","cha-14_footnote-1":" Image of child retrieved from http://www.flickr.com/photos/john_lustig/2518452221/ on 2013-12-16.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Copyright © 2008 by John Lustig and used unaltered under the terms of the \u003ca href=\"https://creativecommons.org/licenses/by/2.0/\" target=\"_blank\" rel=\"noopener\"\u003eCreative Commons Attribution 2.0 Generic\u003c/a\u003e license.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Image of tiger retrieved from https://www.flickr.com/photos/renemensen/9187111340 on 2014-08-15.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Copyright © 2013 by Rene Mesen and used unaltered under the terms of the \u003ca href=\"https://creativecommons.org/licenses/by/2.0/\" target=\"_blank\" rel=\"noopener\"\u003eCreative Commons Attribution 2.0 Generic\u003c/a\u003e license.","cha-14_footnote-2":" For simplicity, \u003ca href=\"following_users_fragment.html#fig-naive_user_has_many_following\" class=\"hyperref\"\u003eFigure \u003cspan class=\"ref\"\u003e14.6\u003c/span\u003e\u003c/a\u003e omits the \u003ccode\u003efollowing\u003c/code\u003e table’s \u003ccode\u003eid\u003c/code\u003e column.","cha-14_footnote-3":" Thanks to reader Paul Fioravanti for suggesting this terminology.","cha-14_footnote-4":" Technically, Rails converts the argument of \u003ccode\u003ehas_many\u003c/code\u003e to a class name using the \u003ccode\u003eclassify\u003c/code\u003e method, which converts \u003ccode\u003e\"foo_bars\"\u003c/code\u003e to \u003ccode\u003e\"FooBar\"\u003c/code\u003e.","cha-14_footnote-5":" Technically, Rails uses the \u003ccode\u003eunderscore\u003c/code\u003e method to convert the class name to an id.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e For example, \u003ccode\u003e\"FooBar\".underscore\u003c/code\u003e is \u003ccode\u003e\"foo_bar\"\u003c/code\u003e, so the foreign key for a \u003ccode\u003eFooBar\u003c/code\u003e object would be \u003ccode\u003efoo_bar_id\u003c/code\u003e.","cha-14_footnote-6":" Once you have a lot of experience modeling a particular domain, you can often guess such utility methods in advance, and even when you can’t you’ll often find yourself writing them to make the tests cleaner.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e In this case, though, it’s OK if you wouldn’t have guessed them.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Software development is usually an iterative process—you write code until it starts getting ugly, and then you refactor it—but for brevity the tutorial presentation is streamlined a bit.","cha-14_footnote-7":" For more details on such routing options, see the \u003ca href=\"http://guides.rubyonrails.org/routing.html\" target=\"_blank\" rel=\"noopener\"\u003eRails Guides article on “Rails Routing from the Outside In”\u003c/a\u003e.","cha-14_footnote-8":" Because it is nominally an acronym for \u003cem\u003easynchronous JavaScript and XML\u003c/em\u003e, Ajax is sometimes misspelled “AJAX”, even though the \u003ca href=\"http://www.adaptivepath.org/ideas/ajax-new-approach-web-applications/\" target=\"_blank\" rel=\"noopener\"\u003eoriginal Ajax article\u003c/a\u003e spells it as “Ajax” throughout.","cha-14_footnote-9":" The main requirement is that enumerable objects must implement an \u003ccode\u003eeach\u003c/code\u003e method to iterate through the collection.","cha-1_footnote-25":" Pronounced “Engine X”.","cha-1_footnote-26":" SQLite is widely used as an embedded database—for instance, it’s ubiquitous in mobile phones—and Rails uses it locally by default because it’s so easy to set up, but it’s not designed for database-backed web applications, so we’ll be using PostgreSQL in production instead.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e See \u003ca href=\"static_pages_fragment.html#sec-sample_app_setup\" class=\"hyperref\"\u003eSection \u003cspan class=\"ref\"\u003e3.1\u003c/span\u003e\u003c/a\u003e for more information.","cha-1_footnote-27":" toolbelt.heroku.com","cha-5_footnote-16":" Some developers insist that a single test shouldn’t contain multiple assertions.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e I find this practice to be unnecessarily complicated, while also incurring an extra overhead if there are common setup tasks needed before each test.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e In addition, a well-written test tells a coherent story, and breaking it up into individual pieces disrupts the narrative.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e I thus have a strong preference for including multiple assertions in a test, relying on Ruby (via minitest) to tell me the exact lines of any failed assertions.","cha-10_footnote-13":" Command-line tools such as \u003ccode class=\"tt\"\u003ecurl\u003c/code\u003e can issue \u003ccode class=\"tt\"\u003ePATCH\u003c/code\u003e requests of this form.","cha-10_footnote-14":" See the RailsCast on “\u003ca href=\"http://railscasts.com/episodes/77-destroy-without-javascript\" target=\"_blank\" rel=\"noopener\"\u003eDestroy Without JavaScript\u003c/a\u003e” for details.","cha-13_footnote-24":" This is a challenging section and can be skipped without loss of continuity.","cha-13_footnote-25":" S3 is a paid service, but the storage needed to set up and test the Rails Tutorial sample application costs less than a cent per month.","cha-1_footnote-28":" This solution, known as “security through obscurity”, is fine for hobby projects, but for sites that require greater initial security I recommend using \u003ca href=\"https://www.google.com/search?q=HTTP+basic+authentication\" target=\"_blank\" rel=\"noopener\"\u003eRails HTTP basic authentication\u003c/a\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This is a much more advanced technique, though, and requires significantly more technical sophistication (\u003ca href=\"beginning_fragment.html#aside-technical_sophistication\" class=\"hyperref\"\u003eBox \u003cspan class=\"ref\"\u003e1.1\u003c/span\u003e\u003c/a\u003e) to implement.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e (Thanks to Alfie Pates for raising this issue.)","cha-8_footnote-15":" Some browsers offer a “\u003ca href=\"http://stackoverflow.com/questions/20449641/rails-4-session-value-never-expires-or-dies-when-browser-closes\" target=\"_blank\" rel=\"noopener\"\u003eremember where I left off\u003c/a\u003e” feature, which restores the session automatically, so be sure to disable any such feature before trying to log out.","cha-3_footnote-19":" The screenshot was taken using Rails 4.2, which as noted in \u003ca href=\"toy_app_fragment.html#aside-rake\" class=\"hyperref\"\u003eBox \u003cspan class=\"ref\"\u003e2.1\u003c/span\u003e\u003c/a\u003e uses \u003ccode\u003erake test\u003c/code\u003e in place of \u003ccode\u003erails test\u003c/code\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Resolving such minor discrepancies is a good exercise in technical sophistication (\u003ca href=\"beginning_fragment.html#aside-technical_sophistication\" class=\"hyperref\"\u003eBox \u003cspan class=\"ref\"\u003e1.1\u003c/span\u003e\u003c/a\u003e).","cha-9_footnote-15":" Note that this means unchecking the box will log out the user on all browsers on all computers.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e The alternate design of remembering user login sessions on each browser independently is potentially more convenient for users, but it’s less secure, and is also more complicated to implement.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Ambitious readers are invited to try their hand at implementing it.","cha-1_footnote-29":" As is often the case, this code can be made even \u003cem\u003emore\u003c/em\u003e compact using a built-in part of Ruby, in this case something called \u003ccode\u003esample\u003c/code\u003e: \u003ccode\u003e('a'..'z').to_a.sample(8).join\u003c/code\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Thanks to alert reader Stefan Pochmann for pointing this out—I didn’t even know about \u003ccode\u003esample\u003c/code\u003e until he told me!","cha-3_footnote-20":"The screenshot was taken using Rails 4.2, which as noted in \u003ca href=\"toy_app_fragment.html#aside-rake\" class=\"hyperref\"\u003eBox \u003cspan class=\"ref\"\u003e2.1\u003c/span\u003e\u003c/a\u003e uses \u003ccode\u003erake test\u003c/code\u003e in place of \u003ccode\u003erails test\u003c/code\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Resolving such minor discrepancies is a good exercise in technical sophistication (\u003ca href=\"beginning_fragment.html#aside-technical_sophistication\" class=\"hyperref\"\u003eBox \u003cspan class=\"ref\"\u003e1.1\u003c/span\u003e\u003c/a\u003e). ","cha-9_footnote-16":" Before we wrote \u003ccode\u003eremember user\u003c/code\u003e without parentheses, but when used with the ternary operator omitting them results in a syntax error.","cha-11_footnote-9":" Note that \u003ca href=\"account_activation_fragment.html#code-show_only_active_users_exercise\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e11.40\u003c/span\u003e\u003c/a\u003e uses \u003ccode\u003eand\u003c/code\u003e in place of \u003ccode\u003e\u0026amp;\u0026amp;\u003c/code\u003e.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e The two are nearly identical, but the latter operator has a higher \u003ca href=\"https://en.wikipedia.org/wiki/Order_of_operations#Programming_languages\" target=\"_blank\" rel=\"noopener\"\u003e\u003cem\u003eprecedence\u003c/em\u003e\u003c/a\u003e, which binds too tightly to \u003ccode\u003eroot_url\u003c/code\u003e in this case.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e We could fix the problem by putting \u003ccode\u003eroot_url\u003c/code\u003e in parentheses, but the idiomatically correct way to do it is to use \u003ccode\u003eand\u003c/code\u003e instead.","cha-12_footnote-5":" Thanks to reader Tristan Ludowyk for suggesting this feature and for providing both a detailed description and a suggested implementation.","cha-13_footnote-26":" aws.amazon.com/documentation/s3/","cha-13_footnote-27":" As always, you should use the version numbers listed at \u003ca href=\"https://gemfiles-4th-ed.railstutorial.org/\" target=\"_blank\" rel=\"noopener\"\u003egemfiles-4th-ed.railstutorial.org\u003c/a\u003e instead of the ones listed here.","cha-12_footnote-6":" This proof is the price you pay for reading a web development tutorial written by a Ph.D. physicist.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e Just be grateful I couldn’t find a way to work \u003cspan class=\"inline_math\"\u003e\\( \\left(-\\frac{\\hbar^2}{2m}\\nabla^2 + V\\right)\\psi = E\\psi \\)\u003c/span\u003e or \u003cspan class=\"inline_math\"\u003e\\( G^{\\mu\\nu} = 8\\pi T^{\\mu\\nu} (=4\\tau T^{\\mu\\nu}) \\)\u003c/span\u003e into the exposition.","cha-8_footnote-16":" Setting \u003ccode\u003e@current_user\u003c/code\u003e to \u003ccode\u003enil\u003c/code\u003e would only matter if \u003ccode\u003e@current_user\u003c/code\u003e were created before the \u003ccode\u003edestroy\u003c/code\u003e action (which it isn’t) \u003cem\u003eand\u003c/em\u003e if we didn’t issue an immediate redirect (which we do).\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This is an unlikely combination of events, and with the application as presently constructed it isn’t necessary, but because it’s security-related I include it for completeness.","cha-1_footnote-30":" railstutorial.org/email","cha-4_footnote-18":" You don’t have to know what each class in this hierarchy does.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e \u003cem\u003eI\u003c/em\u003e don’t know what they all do, and I’ve been programming in Ruby on Rails since 2005.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e This means either that (a) I’m grossly incompetent or (b) you can be a skilled Rails developer without knowing all its innards.\u003cspan class=\"intersentencespace\"\u003e\u003c/span\u003e I hope for both our sakes that it’s the latter.","cha-1_footnote-31":" railstutorial.org/email","cha-1_footnote-32":" railstutorial.org/email","cha-9_footnote-17":" The \u003ccode\u003eassigns\u003c/code\u003e method is deprecated as of Rails 5, but I still find it useful in many contexts, and it’s available via the \u003ccode class=\"tt\"\u003erails-controller-testing\u003c/code\u003e gem we included in \u003ca href=\"static_pages_fragment.html#code-gemfile_sample_app\" class=\"hyperref\"\u003eListing \u003cspan class=\"ref\"\u003e3.2\u003c/span\u003e\u003c/a\u003e."},
      s3_path_prefix: "636/ruby_on_rails_tutorial_4th_edition",
      custom_math: "\"failing\": \"\\\\coloredtext{red}{\\\\textsc{\\\\textbf{red}}}\",\n\"passing\": \"\\\\coloredtext{ForestGreen}{\\\\textsc{\\\\textbf{green}}}\",\n\"rt\": \"\\\\emph{Rails Tutorial}\",\n\"letbd\": \"\\\\href{https://www.learnenough.com/story}{Learn Enough to Be Dangerous}\",\n\"lesite\": \"\\\\href{https://www.learnenough.com/}{Learn Enough}\",\n\"lecl\": \"\\\\href{https://www.learnenough.com/command-line}{\\\\emph{Learn Enough Command Line to Be Dangerous}}\",\n\"leg\": \"\\\\href{https://www.learnenough.com/git}{\\\\emph{Learn Enough Git to Be Dangerous}}\",\n\"leh\": \"\\\\href{https://www.learnenough.com/html}{\\\\emph{Learn Enough HTML to Be Dangerous}}\",\n\"ler\": \"\\\\href{https://www.learnenough.com/ruby}{\\\\emph{Learn Enough Ruby to Be Dangerous}}\",\n\"lete\": \"\\\\href{https://www.learnenough.com/text-editor}{\\\\emph{Learn Enough Text Editor to Be Dangerous}}\",\n\"rort\": \"\\\\href{https://www.railstutorial.org/}{Ruby on Rails Tutorial}\",\n\"rortb\": \"\\\\href{https://www.railstutorial.org/book}{\\\\emph{Ruby on Rails Tutorial}}\",\n\"lev\": \"\\\\href{https://www.learnenough.com/vim}{\\\\emph{Learn Enough Vim to Be Dangerous}}\",\n\"les\": \"\\\\href{https://www.learnenough.com/sinatra}{\\\\emph{Learn Enough Sinatra to Be Dangerous}}\",\n\"lera\": \"\\\\href{https://www.learnenough.com/ruby-on-rails}{\\\\emph{Learn Enough Rails to Be Dangerous}}\",\n\"lecss\": \"\\\\href{https://www.learnenough.com/css-and-layout}{\\\\emph{Learn Enough CSS \\\\& Layout to Be Dangerous}}\",\n\"ledev\": \"\\\\href{https://www.learnenough.com/dev-environment}{\\\\emph{Learn Enough Dev Environment to Be Dangerous}}\",\n\"ccby\": \"\\\\href{https://creativecommons.org/licenses/by/2.0/}{Creative Commons Attribution 2.0 Generic}\",\n\"ccbysa\": \"\\\\href{https://creativecommons.org/licenses/by-sa/2.0/}{Creative Commons Attribution-ShareAlike 2.0 Generic}\",\n\"ccbync\": \"\\\\href{https://creativecommons.org/licenses/by-nc/2.0/}{Creative Commons Attribution-NonCommercial 2.0 Generic}\",\n\"ccbynd\": \"\\\\href{https://creativecommons.org/licenses/by-nd/2.0/}{Creative Commons Attribution-NoDerivs 2.0 Generic}\",\n\"xkcduse\": \"Copyright © Randall Munroe and used unaltered under the terms of the \\\\href{https://creativecommons.org/licenses/by-nc/2.5/}{Creative Commons Attribution-NonCommercial 2.5 Generic} license.\",\n\"gemfilenote\": \"\\\\textbf{Important note: For all the Gemfiles in this book, you should use the version numbers listed at \\\\href{https://gemfiles-4th-ed.railstutorial.org/}{gemfiles-4th-ed.rails\\\\-tutorial.org} instead of the ones listed below (although they should be identical if you are reading this online).}\",\n\"secondgemfilenote\": \"As always, you should use the version numbers listed at \\\\href{https://gemfiles-4th-ed.railstutorial.org/}{gemfiles-4th-ed.rails\\\\-tutorial.org} instead of the ones listed here.\""
    });
  });
  
  $(document).ready(function() {
    bookScroll();
  });
</script>


<div class="authorSignup">
<div class="dialog">
<h3 id="email">Join the Mailing List</h3>
<p>Sign up for the Learn Enough mailing list to get notified when new tutorials are released, when new video guides are posted, and to receive special offers and discounts. We won't ever share your email with anyone.</p>
<script src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/CKJS4.js.下載"></script>
<div class="ck_form ck_minimal ck_horizontal">
<div class="ck_form_fields">
<div id="ck_success_msg" style="display:none;">
<p>Success! Thanks for joining the list.</p>
</div>
<form action="https://app.convertkit.com/landing_pages/4858/subscribe" class="ck_subscribe_form" data-remote="true" id="ck_subscribe_form">
<input id="ck_form_options" type="hidden" value="{&amp;quot;form_style&amp;quot;:&amp;quot;minimal&amp;quot;,&amp;quot;embed_style&amp;quot;:&amp;quot;inline&amp;quot;,&amp;quot;embed_trigger&amp;quot;:&amp;quot;scroll_percentage&amp;quot;,&amp;quot;scroll_percentage&amp;quot;:&amp;quot;70&amp;quot;,&amp;quot;delay_seconds&amp;quot;:&amp;quot;10&amp;quot;,&amp;quot;display_position&amp;quot;:&amp;quot;br&amp;quot;,&amp;quot;display_devices&amp;quot;:&amp;quot;all&amp;quot;,&amp;quot;days_no_show&amp;quot;:&amp;quot;15&amp;quot;,&amp;quot;converted_behavior&amp;quot;:&amp;quot;show&amp;quot;}">
<input id="landing_page_id" name="id" type="hidden" value="4858">
<div class="ck_errorArea">
<div id="ck_error_msg" style="display:none;">
<p>There was an error submitting your subscription. Please try again.</p>
</div>
</div>
<div class="field ck_control_group ck_email_field_group">
<label class="ck_label" for="ck_emailField" style="display: none">Email Address</label>
<input class="ck_email_address" id="ck_emailField" name="email" placeholder="Email Address" required="required" type="email">
<button class="subscribe_button ck_subscribe_button btn fields" id="ck_subscribe_button">Subscribe</button>
</div>
</form>
</div>
</div>

</div>
</div>
<footer class="footer">
<nav class="footer-social-menu">
<ul class="footer-sub-menu">
<li>
Learn Enough:
<a class="footer-social-icon" target="_blank" href="https://www.youtube.com/c/LearnEnough"><svg class="svg-inline--fa fa-youtube-square fa-w-14" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="youtube-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M186.8 202.1l95.2 54.1-95.2 54.1V202.1zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-42 176.3s0-59.6-7.6-88.2c-4.2-15.8-16.5-28.2-32.2-32.4C337.9 128 224 128 224 128s-113.9 0-142.2 7.7c-15.7 4.2-28 16.6-32.2 32.4-7.6 28.5-7.6 88.2-7.6 88.2s0 59.6 7.6 88.2c4.2 15.8 16.5 27.7 32.2 31.9C110.1 384 224 384 224 384s113.9 0 142.2-7.7c15.7-4.2 28-16.1 32.2-31.9 7.6-28.5 7.6-88.1 7.6-88.1z"></path></svg><!-- <i class="fab fa-youtube-square"></i> -->
</a></li>
<li>
Learn Enough:
<a class="footer-social-icon" target="_blank" href="https://twitter.com/learnenough"><svg class="svg-inline--fa fa-twitter-square fa-w-14" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"></path></svg><!-- <i class="fab fa-twitter-square"></i> -->
</a></li>
<li>
Rails Tutorial:
<a class="footer-social-icon" target="_blank" href="https://twitter.com/railstutorial"><svg class="svg-inline--fa fa-twitter-square fa-w-14" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"></path></svg><!-- <i class="fab fa-twitter-square"></i> -->
</a></li>
</ul>
</nav>
<nav class="footer-nav">
<div class="footer_logo_wr">
<a class="logoLink artLogo" href="http://www.learnenough.com//"><div class="svg le-logo"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 801 1041" style="enable-background:new 0 0 801 1041;" xml:space="preserve">
<path d="M569.9,478.6l3.5-3.5v-41.7l-1-2.5l-24.3-24.3l-2.5-1H410.5l-3.5,3.5v358.6l1,2.5l24.3,24.3l1.9,0.5l0.5,0.5h135.1l3.5-3.5v-41.7l-1-2.5l-24.3-24.3l-2.5-1H488v-89.9h77l3.5-3.5v-41.7l-1-2.5l-24.3-24.3l-2.5-1H488v-81H569.9z M544.2,412.6l17.3,17.3H436.2L419,412.6H544.2z M414,417.6l17.3,17.3v348.7L414,766.3V417.6z M544.2,729.5l17.3,17.3H488v-17.3H544.2z M539.2,566.6l17.3,17.3H488v-17.3H539.2z M484.5,471.6l-3.5,3.5v112.3l3.5,3.5h77v34.7h-77l-3.5,3.5v121.2l3.5,3.5h81.9v34.7H438.3V436.9h128.1v34.7H484.5z"></path>
<path d="M401.5,747.8l-24.3-24.3l-2.5-1h-55.7V433.4l-0.2-0.2l-0.8-2.3l-24.3-24.3l-2.5-1h-49.7l-3.5,3.5v358.6l1,2.5l24.3,24.3l1.9,0.5l0.6,0.6H399l3.5-3.5v-41.7L401.5,747.8z M373.3,729.5l17.3,17.3h-71.5v-17.3H373.3z M307.1,429.9h-39.8l-17.3-17.3h39.8L307.1,429.9z M245.1,417.6l17.3,17.3v348.7l-17.3-17.3V417.6z M395.5,788.5H269.4V436.9h42.7v313.4l3.5,3.5h79.9V788.5z"></path>
<path d="M691.8,600.3c0-77.2-30-149.7-84.6-204.3c-47.3-47.3-108.2-76.2-173.9-83c0.4-22.2,0.6-35.3,0.6-35.7l-2.6-3.8c-1.8-0.6-3.5-2.2-5.1-4.2l5.1,0c1.8,0.1,22.1,0.8,33.2-11.2c5.5-6,8.5-14,8.5-23.4l0.1-13.3l-3.5-3.5l-16-0.1l-3.5,3.5l-0.1,13.3c0,3.3-0.7,5.5-2.4,7.3c-3.7,4-12.4,4.9-15.4,4.9l-11.9,0c1.4-13.4,3.7-39.7,3.9-72.2c0.1-34.4-5.7-68.9-6.6-73.7c4.9-5.8,7.6-13.5,7.6-21.6C425.2,62,413,47.9,398,47.8c0,0-0.1,0-0.1,0c-15,0-27.2,14-27.3,31.2c0,8.1,2.6,15.8,7.5,21.7c-0.9,4.8-7,39.3-7.2,73.6c-0.1,32.5,2,58.9,3.3,72.3l-11.1,0c-1.8-0.1-22.1-0.8-33.2,11.2c-5.5,6-8.5,14-8.5,23.4l-0.1,13.3l3.5,3.5l16.2,0.1l3.5-3.5l0.1-13.3c0-3.3,0.7-5.5,2.4-7.3c3.7-4,12.3-4.9,15.3-4.9l5.9,0c-1.6,1.9-3.4,3.5-5.2,4.1l-2.6,3.8c0,0.5,0.2,14.2,0.6,37.4c-61.2,8.9-117.8,37.1-162.3,81.6C144.1,450.6,114,523.1,114,600.3s30,149.7,84.6,204.3c49,49,112.4,78.2,180.7,83.7c6.4,96.9,11.7,103.7,14.1,106.6l3.3,2.6l2.9-2.6c2.4-2.9,7.8-9.7,14.3-105.9c73-2.7,141.3-32.4,193.2-84.4C661.8,750,691.8,677.5,691.8,600.3z M377.6,79.1c0.1-13.4,9.1-24.2,20.3-24.2c0,0,0,0,0.1,0c7.7,0,14.5,5.3,17.8,13l-10.6-4.3c1.1,1.6,2.1,3.4,2.8,5.5l9.4,3.8c0.5,2,0.7,4.2,0.7,6.4c0,0.2,0,0.5,0,0.7l-8.4-3.4c0.1,0.8,0.1,1.7,0.1,2.5c0,0.6,0,1.2-0.1,1.8l8,3.2c-0.4,2.1-1,4.2-1.8,6.1l-7.3-2.9c-0.4,1.3-0.9,2.6-1.4,3.7l6.8,2.8c-0.6,1-1.3,1.9-2,2.8c-0.7,0.8-1.5,1.6-2.3,2.3l-0.8-0.3l-5.3-2.2c-1.1,1.2-2.3,2.1-3.6,2.9l5.7,2.3c-2.5,1.2-5.1,1.9-7.9,1.9c-5.3,0-10.3-2.5-14.1-7C379.8,91.9,377.6,85.7,377.6,79.1z M377.9,174.4c0.1-28.2,4.4-57,6.3-68.1c4.1,2.7,8.7,4.2,13.5,4.2c0,0,0.1,0,0.1,0c4.8,0,9.4-1.4,13.5-4.1c0.2,1.3,0.5,2.9,0.7,4.7l-2.1-0.9l-2.9,3.1l5.7,2.3c0.3,2.2,0.6,4.6,1,7.3l-17.4-7.1c0.2,1.4,0.4,3,0.6,4.6l17.3,7c0.3,2.3,0.5,4.7,0.8,7.2l-17.2-7c0.2,1.5,0.3,3,0.5,4.5l17.2,7c0.2,2.3,0.4,4.7,0.6,7.1l-19.6-8c-1.7,0.1-3.7-0.4-3.7-0.4s0.8,1.7,1.9,4l21.7,8.8c0.2,2.3,0.3,4.7,0.4,7l-18.3-7.4c0.9,2.1,1.5,3.9,1.7,5l16.8,6.8c0.1,2.3,0.1,4.6,0.2,6.9l-16.6-6.7c0.1,1.5,0.1,2.9,0.1,4.4l16.5,6.7c0,0.4,0,0.8,0,1.2c0,1.9,0,3.8,0,5.7l-16.7-6.8c-1.1,1.7-5.8-0.2-5.8-0.2s0.4,1,0.9,2.5l21.6,8.7c0,2.3-0.1,4.6-0.2,6.8l-18.6-7.5c0.6,1.8,1.2,3.6,1.6,5l16.9,6.8c-0.1,2.3-0.2,4.6-0.3,6.8l-16.2-6.6c0,1.5-0.1,2.9-0.2,4.3l16.2,6.6c-0.1,2.3-0.2,4.5-0.4,6.7l-16.1-6.5c0,0.7-0.1,1.4-0.1,2.1c0,0.9-0.4,1.4-0.8,1.8l16.8,6.8c-0.1,2.3-0.3,4.5-0.5,6.7l-20-8.1c0.3,1.4,0.7,3.1,1.1,4.7l18.6,7.6c-0.2,2.3-0.4,4.6-0.6,6.6l-16.6-6.8c0.3,1.8,0.4,3.3,0.4,4.1c0,0.1,0,0.2,0,0.3l15.9,6.5c-0.2,2.5-0.5,4.7-0.7,6.6l-15.9-6.4c-0.1,1.5-0.3,2.9-0.4,4.2l8,3.2l-23.7-0.1C380,233.6,377.8,207,377.9,174.4z M362.3,262.1c-1.4,0-14,0.2-20.4,7.1c-2.8,3-4.2,7-4.2,12l0,9.8l-9.2,0l0-9.8c0-7.5,2.3-14,6.6-18.6l0,0c9.1-9.8,27.6-9,27.8-9l69.2,0.2c1.4,0,14.1-0.2,20.6-7.1c2.8-3,4.2-7,4.2-12l0-9.8l9,0l0,9.8c0,7.5-2.3,14-6.6,18.6c-9.1,9.8-27.6,9-27.8,9L362.3,262.1z M407.6,348.5l1.1,0.4h-1.1L407.6,348.5z M403.6,348.9h-5.3l-3.5-79.8l17.2,0.1L403.6,348.9z M408.1,344.3l0.7-6.6l15.9,6.4c0,1.6-0.1,3.1-0.1,4.7h-5.2L408.1,344.3z M409.2,333.6l0.7-6.6l15,6.1c0,2.2-0.1,4.5-0.1,6.8L409.2,333.6z M410.3,322.9l0.7-6.6l14.1,5.7c0,2.2-0.1,4.5-0.1,6.8L410.3,322.9z M411.5,312.2l0.7-6.6l13.1,5.3c0,2.2-0.1,4.5-0.1,6.8L411.5,312.2z M412.6,301.4l0.7-6.6l12.2,4.9c0,2.1-0.1,4.4-0.1,6.8L412.6,301.4z M413.7,290.7l0.7-6.6l11.3,4.6c0,2-0.1,4.3-0.1,6.8L413.7,290.7z M414.9,280l0.7-6.6l5.5,2.2c1.5,1.6,3.1,3,4.8,4c0,1.2,0,2.8-0.1,4.8L414.9,280z M416,269.3L416,269.3l0.3,0c0,0.1,0.1,0.1,0.1,0.2L416,269.3z M390.3,348.9h-20.7c-0.7-36.5-1.1-61.7-1.2-69.5c3.9-2.4,7.2-6.4,9.6-10.3l8.8,0L390.3,348.9z M392.6,951.2c-2-18-4.2-44.3-6.4-82.7c-0.3-5.2-0.6-10.6-0.9-16.2h7.4l2.5,115.9L392.6,951.2z M400.7,959.3l-0.1-20.9l1,0.2C401.4,940.3,400.8,957.7,400.7,959.3z M401.6,934.5l-1-0.4v-6.9l1.7,0.7C402.1,930.2,401.8,932.4,401.6,934.5z M402.7,923.8l-2.2-0.9v-6.9l2.8,1.1C403.2,919.4,403,921.6,402.7,923.8z M403.8,913l-3.2-1.3l0-6.9l3.8,1.6C404.2,908.7,404,910.9,403.8,913z M404.8,902.3l-4.2-1.7v-6.9l4.8,1.9C405.2,897.8,405,900.1,404.8,902.3z M405.7,891.4l-5.1-2.1l0-6.9l5.6,2.3C406,887,405.9,889.2,405.7,891.4z M406.5,880.6l-5.9-2.4l0-6.9l6.4,2.6C406.8,876.1,406.6,878.4,406.5,880.6z M407.3,868.6c0,0.4,0,0.7-0.1,1.1l-6.6-2.7l0-6.9l7,2.8C407.5,864.9,407.4,866.8,407.3,868.6z M407.9,858.8l-7.3-2.9l0-3.5h7.6C408.1,854.5,408,856.6,407.9,858.8z M414.5,880.9c0.6-8.8,1.2-18.3,1.7-28.6h27v-7h-91v7h25c0.6,10,1.1,19.2,1.6,27.8c-66-5.6-127.2-33.9-174.6-81.2C151.2,745.9,122,675.3,122,600.3s29.2-145.6,82.3-198.6c43.1-43.1,97.6-70.4,156.8-79.2c0.1,7.9,0.3,16.8,0.5,26.4h-16.1v7h109.8v-7h-22.7c0.2-10.2,0.4-19.6,0.5-27.9c63.6,6.8,122.6,34.8,168.4,80.7c53.1,53.1,82.3,123.6,82.3,198.6s-29.2,145.6-82.3,198.6C551.2,849.2,485.2,878.1,414.5,880.9z"></path>
</svg>
</div>
<span>LEARN ENOUGH</span>
</a></div>
<ul class="footer-sub-menu">
<li><a href="http://www.learnenough.com/courses">Courses</a></li>
<li><a href="http://www.learnenough.com/pricing">Pricing</a></li>
<li><a href="http://www.learnenough.com/scholarship">Scholarship</a></li>
<li><a href="http://www.learnenough.com/teams/new">For Teams</a></li>
<li><a href="http://www.learnenough.com/login">Log In</a></li>
</ul>
<ul class="footer-sub-menu">
<li><a href="http://www.learnenough.com/all-access">All Access</a></li>
<li><a href="http://www.learnenough.com/ruby-on-rails-6th-edition">The Rails Tutorial</a></li>
<li><a href="http://www.learnenough.com/our-philosophy">Our Philosophy</a></li>
<li><a href="http://www.learnenough.com/about">About</a></li>
<li><a href="http://news.learnenough.com/">News</a></li>
</ul>
<ul class="footer-sub-menu">
<li><a href="http://www.learnenough.com/why-rails">Why Use Ruby on Rails?</a></li>
<li><a href="http://www.learnenough.com/why-ruby">Why Use the Ruby Language?</a></li>
<li><a href="http://www.learnenough.com/why-program">Why Program?</a></li>
<li><a href="http://www.learnenough.com/understand-devs">Why Understand Devs?</a></li>
<li><a href="http://www.learnenough.com/for-beginners">For Beginners</a></li>
</ul>
<ul class="footer-sub-menu">
<li><a href="http://www.learnenough.com/legal">Legal</a></li>
<li><a href="mailto:support@learnenough.com">Contact</a></li>
</ul>
</nav>
</footer>
<!-- MODALS ----------------------- -->
<div class="le-modal le-modal_landing-video">
<div class="le-modal_bg" onclick="leModalVideoClose()"></div>
<a onclick="leModalVideoClose()" class="modal_close" href="javascript://"><svg class="svg-inline--fa fa-times fa-w-11" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" data-fa-i2svg=""><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg><!-- <i class="fas fa-times"></i> -->
</a><div class="le-modal_video" id="le-modal_video">
<iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" class="le-modal_video-embed" frameborder="0" src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/saved_resource.html"></iframe>
</div>
</div>
<div class="le-modal le-modal_yourcourses-guide">
<div class="le-modal_bg" onclick="leModalClose(&#39;leYourCoursesGuide&#39;)"></div>
<div class="modal_content">
<a onclick="leModalClose(&#39;leYourCoursesGuide&#39;)" class="modal_close" href="javascript://"><svg class="svg-inline--fa fa-times fa-w-11" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" data-fa-i2svg=""><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg><!-- <i class="fas fa-times"></i> -->
</a><div class="courses_guide">
<h2>
<div class="sub-title">A quick guide to</div>
Your Courses
<div class="sub-title">Welcome to Learn Enough!</div>
</h2>
<img class="courses_guide-img" src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/yourcourses_guide-79857ef1cde8e99bff9372c34d275f04f1674e1e6c1fda78e38664803ca0d3fb.png" alt="Yourcourses guide">
</div>

</div>
</div>

</div>
</div>
<script>
  if (localStorage['headPush'] == 'yes') {
    $('.header-push').addClass('header-push-closed');
  };
</script>
<script>
  if (localStorage['sideOpen'] == 'no') {
    $('body').addClass('side-menu-closed');
  };
  bookCheckMobile();
</script>


<iframe frameborder="0" allowtransparency="true" scrolling="no" name="__privateStripeMetricsController0" allowpaymentrequest="true" src="./Ruby on Rails Tutorial (Rails 5) _ Learn Enough to Be Dangerous_files/outer.html" aria-hidden="true" tabindex="-1" style="border: none !important; margin: 0px !important; padding: 0px !important; width: 1px !important; min-width: 100% !important; overflow: hidden !important; display: block !important; visibility: hidden !important; position: fixed !important; height: 1px !important; pointer-events: none !important; user-select: none !important;"></iframe></body></html>